<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Main</title>
    <link rel="stylesheet" href="./Agda.css">
  </head>
  <body>
    <h1>Main</h1>
    <section>
      <pre class="Agda"><a id="38" class="Keyword">module</a> <a id="45" href="Main.html" class="Module">Main</a> <a id="50" class="Keyword">where</a>

<a id="57" class="Keyword">open</a> <a id="62" class="Keyword">import</a> <a id="69" href="Agda.Builtin.IO.html" class="Module">Agda.Builtin.IO</a> <a id="85" class="Keyword">using</a> <a id="91" class="Symbol">(</a><a id="92" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a><a id="94" class="Symbol">)</a>
<a id="96" class="Keyword">import</a> <a id="103" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="116" class="Symbol">as</a> <a id="119" class="Module">IO</a> <a id="122" class="Keyword">using</a> <a id="128" class="Symbol">(</a><a id="129" href="IO.Primitive.html#570" class="Postulate">return</a><a id="135" class="Symbol">;</a><a id="136" href="IO.Primitive.html#610" class="Postulate Operator">_&gt;&gt;=_</a><a id="141" class="Symbol">)</a>
<a id="143" class="Keyword">open</a> <a id="148" class="Keyword">import</a> <a id="155" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a> <a id="173" class="Keyword">using</a> <a id="179" class="Symbol">(</a><a id="180" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="181" class="Symbol">;</a><a id="182" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="184" class="Symbol">)</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Function.html" class="Module">Function</a> <a id="207" class="Keyword">using</a> <a id="213" class="Symbol">(</a><a id="214" href="Function.Base.html#1928" class="Function Operator">_$_</a><a id="217" class="Symbol">;</a><a id="218" href="Function.Base.html#1040" class="Function Operator">_∘_</a><a id="221" class="Symbol">)</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Data.String.html" class="Module">Data.String</a> <a id="247" class="Keyword">using</a> <a id="253" class="Symbol">(</a><a id="254" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="260" class="Symbol">;</a><a id="261" href="Data.String.Base.html#2375" class="Function Operator">_++_</a><a id="265" class="Symbol">)</a>
<a id="267" class="Keyword">open</a> <a id="272" class="Keyword">import</a> <a id="279" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a>
<a id="296" class="Keyword">open</a> <a id="301" class="Keyword">import</a> <a id="308" href="Agda.Builtin.Int.html" class="Module">Agda.Builtin.Int</a> <a id="325" class="Keyword">using</a> <a id="331" class="Symbol">(</a><a id="332" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">pos</a><a id="335" class="Symbol">)</a>
<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="Data.Integer.Show.html" class="Module">Data.Integer.Show</a> <a id="367" class="Keyword">using</a> <a id="373" class="Symbol">(</a><a id="374" href="Data.Integer.Show.html#615" class="Function">show</a><a id="378" class="Symbol">)</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Data.Product.html" class="Module">Data.Product</a> <a id="405" class="Keyword">using</a> <a id="411" class="Symbol">(</a><a id="412" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a><a id="413" class="Symbol">)</a> <a id="415" class="Keyword">renaming</a> <a id="424" class="Symbol">(</a><a id="425" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="429" class="Symbol">to</a> <a id="432" class="InductiveConstructor Operator">_,,_</a><a id="436" class="Symbol">)</a>
<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="460" class="Keyword">using</a> <a id="466" class="Symbol">(</a><a id="467" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="471" class="Symbol">)</a>
<a id="473" class="Keyword">open</a> <a id="478" class="Keyword">import</a> <a id="485" href="Data.List.html" class="Module">Data.List</a> <a id="495" class="Keyword">using</a> <a id="501" class="Symbol">(</a><a id="502" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="506" class="Symbol">)</a>
<a id="508" class="Keyword">open</a> <a id="513" class="Keyword">import</a> <a id="520" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="531" class="Keyword">using</a> <a id="537" class="Symbol">(</a><a id="538" href="Data.Empty.html#535" class="Datatype">⊥</a><a id="539" class="Symbol">)</a> 

<a id="543" class="Keyword">open</a> <a id="548" class="Keyword">import</a> <a id="555" href="Type.html" class="Module">Type</a> <a id="560" class="Keyword">using</a> <a id="566" class="Symbol">(</a><a id="567" href="Type.html#515" class="Datatype">Ctx⋆</a><a id="571" class="Symbol">;</a><a id="572" href="Type.html#534" class="InductiveConstructor">∅</a><a id="573" class="Symbol">;</a><a id="574" href="Type.html#545" class="InductiveConstructor Operator">_,⋆_</a><a id="578" class="Symbol">)</a>
<a id="580" class="Keyword">open</a> <a id="585" class="Keyword">import</a> <a id="592" href="Check.html" class="Module">Check</a> <a id="598" class="Keyword">using</a> <a id="604" class="Symbol">(</a><a id="605" href="Check.html#2133" class="Datatype">TypeError</a><a id="614" class="Symbol">;</a><a id="615" href="Check.html#17852" class="Function">inferType</a><a id="624" class="Symbol">;</a><a id="625" href="Check.html#8702" class="Function">inferKind</a><a id="634" class="Symbol">;</a><a id="635" href="Check.html#3310" class="Function">decKind</a><a id="642" class="Symbol">;</a><a id="643" href="Check.html#8626" class="Function">checkKind</a><a id="652" class="Symbol">;</a><a id="653" href="Check.html#17758" class="Function">checkType</a><a id="662" class="Symbol">)</a>
<a id="664" class="Keyword">open</a> <a id="669" href="Check.html#2133" class="Module">TypeError</a> <a id="679" class="Comment">-- Bring all TypeError constructors in scope.</a>

<a id="726" class="Keyword">open</a> <a id="731" class="Keyword">import</a> <a id="738" href="Scoped.Extrication.html" class="Module">Scoped.Extrication</a> <a id="757" class="Keyword">using</a> <a id="763" class="Symbol">(</a><a id="764" href="Scoped.Extrication.html#1317" class="Function">extricateNf⋆</a><a id="776" class="Symbol">;</a><a id="777" href="Scoped.Extrication.html#3032" class="Function">extricate</a><a id="786" class="Symbol">)</a>
<a id="788" class="Keyword">open</a> <a id="793" class="Keyword">import</a> <a id="800" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a> <a id="816" class="Keyword">using</a> <a id="822" class="Symbol">(</a><a id="823" href="Type.BetaNormal.html#1046" class="Datatype Operator">_⊢Nf⋆_</a><a id="829" class="Symbol">)</a>
<a id="831" class="Keyword">import</a> <a id="838" href="Untyped.html" class="Module">Untyped</a> <a id="846" class="Symbol">as</a> <a id="849" class="Module">U</a> <a id="851" class="Keyword">using</a> <a id="857" class="Symbol">(</a><a id="858" href="Untyped.html#1295" class="Datatype Operator">_⊢</a><a id="860" class="Symbol">;</a><a id="861" href="Untyped.html#5840" class="Function">scopeCheckU0</a><a id="873" class="Symbol">;</a><a id="874" href="Untyped.html#4512" class="Function">extricateU0</a><a id="885" class="Symbol">;</a><a id="886" href="Untyped.html#6023" class="Function">decUTm</a><a id="892" class="Symbol">)</a>
<a id="894" class="Keyword">import</a> <a id="901" href="Untyped.CEKWithCost.html" class="Module">Untyped.CEKWithCost</a> <a id="921" class="Symbol">as</a> <a id="924" class="Module">U</a> <a id="926" class="Keyword">using</a> <a id="932" class="Symbol">(</a><a id="933" href="Untyped.CEKWithCost.html#6629" class="Function">stepperC</a><a id="941" class="Symbol">)</a>
<a id="943" class="Keyword">open</a> <a id="948" class="Keyword">import</a> <a id="955" href="Cost.Base.html" class="Module">Cost.Base</a>
<a id="965" class="Keyword">open</a> <a id="970" class="Keyword">import</a> <a id="977" href="Cost.html" class="Module">Cost</a> <a id="982" class="Keyword">using</a> <a id="988" class="Symbol">(</a><a id="989" href="Cost.html#4652" class="Function">machineParameters</a><a id="1006" class="Symbol">;</a><a id="1007" href="Cost.html#6864" class="Function">tallyingMachineParameters</a><a id="1032" class="Symbol">;</a><a id="1033" href="Cost.html#4867" class="Function">countingReport</a><a id="1047" class="Symbol">;</a><a id="1048" href="Cost.html#7117" class="Function">tallyingReport</a><a id="1062" class="Symbol">)</a>
<a id="1064" class="Keyword">open</a> <a id="1069" class="Keyword">import</a> <a id="1076" href="Cost.Raw.html" class="Module">Cost.Raw</a> <a id="1085" class="Keyword">using</a> <a id="1091" class="Symbol">(</a><a id="1092" href="Cost.Raw.html#5465" class="Function">RawCostModel</a><a id="1104" class="Symbol">)</a>
<a id="1106" class="Keyword">open</a> <a id="1111" class="Keyword">import</a> <a id="1118" href="Cost.Model.html" class="Module">Cost.Model</a> <a id="1129" class="Keyword">using</a> <a id="1135" class="Symbol">(</a><a id="1136" href="Cost.Model.html#9107" class="Function">createMap</a><a id="1145" class="Symbol">)</a>
<a id="1147" class="Keyword">import</a> <a id="1154" href="RawU.html" class="Module">RawU</a> <a id="1159" class="Symbol">as</a> <a id="1162" class="Module">U</a> <a id="1164" class="Keyword">using</a> <a id="1170" class="Symbol">(</a><a id="1171" href="RawU.html#6191" class="Datatype">Untyped</a><a id="1178" class="Symbol">)</a>

<a id="1181" class="Keyword">open</a> <a id="1186" class="Keyword">import</a> <a id="1193" href="Untyped.CEK.html" class="Module">Untyped.CEK</a> <a id="1205" class="Symbol">as</a> <a id="1208" class="Module">U</a> <a id="1210" class="Keyword">using</a> <a id="1216" class="Symbol">(</a><a id="1217" href="Untyped.CEK.html#21068" class="Function">stepper</a><a id="1224" class="Symbol">;</a><a id="1225" href="Untyped.CEK.html#1178" class="Datatype">Stack</a><a id="1230" class="Symbol">;</a><a id="1231" href="Untyped.CEK.html#1208" class="InductiveConstructor">ε</a><a id="1232" class="Symbol">;</a><a id="1233" href="Untyped.CEK.html#1281" class="Datatype">Env</a><a id="1236" class="Symbol">;</a><a id="1237" href="Untyped.CEK.html#1305" class="InductiveConstructor">[]</a><a id="1239" class="Symbol">;</a><a id="1240" href="Untyped.CEK.html#3547" class="Datatype">State</a><a id="1245" class="Symbol">)</a>
<a id="1247" class="Keyword">open</a> <a id="1252" href="Untyped.CEK.html#3547" class="Module">U.State</a>

<a id="1261" class="Keyword">open</a> <a id="1266" class="Keyword">import</a> <a id="1273" href="Raw.html" class="Module">Raw</a> <a id="1277" class="Keyword">using</a> <a id="1283" class="Symbol">(</a><a id="1284" href="Raw.html#1435" class="Datatype">RawTm</a><a id="1289" class="Symbol">;</a><a id="1290" href="Raw.html#810" class="Datatype">RawTy</a><a id="1295" class="Symbol">;</a><a id="1296" href="Raw.html#5736" class="Function">rawPrinter</a><a id="1306" class="Symbol">;</a><a id="1307" href="Raw.html#4707" class="Function">rawTyPrinter</a><a id="1319" class="Symbol">;</a><a id="1320" href="Raw.html#2640" class="Function">decRTy</a><a id="1326" class="Symbol">;</a><a id="1327" href="Raw.html#3453" class="Function">decRTm</a><a id="1333" class="Symbol">)</a>
<a id="1335" class="Keyword">open</a> <a id="1340" class="Keyword">import</a> <a id="1347" href="Scoped.html" class="Module">Scoped</a> <a id="1354" class="Keyword">using</a> <a id="1360" class="Symbol">(</a><a id="1361" href="Scoped.html#7731" class="Postulate">FreeVariableError</a><a id="1378" class="Symbol">;</a><a id="1379" href="Scoped.html#7826" class="Datatype">ScopeError</a><a id="1389" class="Symbol">;</a><a id="1390" href="Scoped.html#7875" class="InductiveConstructor">freeVariableError</a><a id="1407" class="Symbol">;</a><a id="1408" href="Scoped.html#10975" class="Function">extricateScopeTy</a><a id="1424" class="Symbol">;</a><a id="1425" href="Scoped.html#6898" class="Datatype">ScopedTm</a><a id="1433" class="Symbol">;</a><a id="1434" href="Scoped.html#1416" class="Datatype">Weirdℕ</a><a id="1440" class="Symbol">;</a><a id="1441" href="Scoped.html#9734" class="Function">scopeCheckTm</a><a id="1453" class="Symbol">;</a><a id="1454" href="Scoped.html#4361" class="Function">shifter</a><a id="1461" class="Symbol">;</a><a id="1462" href="Scoped.html#6020" class="Function">unshifter</a><a id="1471" class="Symbol">;</a><a id="1472" href="Scoped.html#11954" class="Function">extricateScope</a><a id="1486" class="Symbol">;</a><a id="1487" href="Scoped.html#5195" class="Function">unshifterTy</a><a id="1498" class="Symbol">;</a><a id="1499" href="Scoped.html#8558" class="Function">scopeCheckTy</a><a id="1511" class="Symbol">;</a><a id="1512" href="Scoped.html#3560" class="Function">shifterTy</a><a id="1521" class="Symbol">)</a>
<a id="1523" class="Keyword">open</a> <a id="1528" href="Scoped.html#1416" class="Module">Weirdℕ</a> <a id="1535" class="Comment">-- Bring Weirdℕ constructors in scope</a>
<a id="1573" class="Keyword">open</a> <a id="1578" class="Keyword">import</a> <a id="1585" href="Utils.html" class="Module">Utils</a> <a id="1591" class="Keyword">using</a> <a id="1597" class="Symbol">(</a><a id="1598" href="Utils.html#1126" class="Datatype">Either</a><a id="1604" class="Symbol">;</a><a id="1605" href="Utils.html#1159" class="InductiveConstructor">inj₁</a><a id="1609" class="Symbol">;</a><a id="1610" href="Utils.html#1183" class="InductiveConstructor">inj₂</a><a id="1614" class="Symbol">;</a><a id="1615" href="Utils.html#3700" class="Function">withE</a><a id="1620" class="Symbol">;</a><a id="1621" href="Utils.html#6802" class="Datatype">Kind</a><a id="1625" class="Symbol">;</a><a id="1626" href="Utils.html#6821" class="InductiveConstructor">*</a><a id="1627" class="Symbol">;</a><a id="1628" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="1633" class="Symbol">;</a><a id="1634" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1641" class="Symbol">;</a><a id="1642" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="1646" class="Symbol">;</a><a id="1647" href="Utils.html#2866" class="Record">Monad</a><a id="1652" class="Symbol">;</a><a id="1653" href="Utils.html#4362" class="Datatype">RuntimeError</a><a id="1665" class="Symbol">;</a><a id="1666" href="Utils.html#3815" class="Function">dec2Either</a><a id="1676" class="Symbol">;</a><a id="1677" href="Utils.html#4005" class="InductiveConstructor Operator">_,_</a><a id="1680" class="Symbol">)</a>
<a id="1682" class="Keyword">open</a> <a id="1687" href="Utils.html#4362" class="Module">RuntimeError</a>
<a id="1700" class="Keyword">open</a> <a id="1705" href="Utils.html#2866" class="Module">Monad</a> <a id="1711" class="Symbol"></a>

<a id="1720" class="Keyword">open</a> <a id="1725" class="Keyword">import</a> <a id="1732" href="Algorithmic.html" class="Module">Algorithmic</a> <a id="1744" class="Keyword">using</a> <a id="1750" class="Symbol">(</a><a id="1751" href="Algorithmic.html#5298" class="Datatype Operator">_⊢_</a><a id="1754" class="Symbol">;</a><a id="1755" href="Algorithmic.html#1668" class="InductiveConstructor">∅</a><a id="1756" class="Symbol">;</a><a id="1757" href="Algorithmic.html#7652" class="InductiveConstructor">error</a><a id="1762" class="Symbol">)</a>

<a id="1765" class="Keyword">open</a> <a id="1770" class="Keyword">import</a> <a id="1777" href="Algorithmic.CK.html" class="Module">Algorithmic.CK</a> <a id="1792" class="Keyword">using</a> <a id="1798" class="Symbol">(</a><a id="1799" href="Algorithmic.CK.html#4621" class="Function">stepper</a><a id="1806" class="Symbol">;</a><a id="1807" href="Algorithmic.CK.html#1314" class="Datatype">State</a><a id="1812" class="Symbol">;</a><a id="1813" href="Algorithmic.CK.html#1127" class="Datatype">Stack</a><a id="1818" class="Symbol">;</a><a id="1819" href="Algorithmic.CK.html#1178" class="InductiveConstructor">ε</a><a id="1820" class="Symbol">)</a>
<a id="1822" class="Keyword">open</a> <a id="1827" href="Algorithmic.CK.html#1314" class="Module">Algorithmic.CK.State</a>

<a id="1849" class="Keyword">open</a> <a id="1854" class="Keyword">import</a> <a id="1861" href="Algorithmic.CEK.html" class="Module">Algorithmic.CEK</a> <a id="1877" class="Keyword">using</a> <a id="1883" class="Symbol">(</a><a id="1884" href="Algorithmic.CEK.html#18535" class="Function">stepper</a><a id="1891" class="Symbol">;</a><a id="1892" href="Algorithmic.CEK.html#16134" class="Datatype">State</a><a id="1897" class="Symbol">;</a><a id="1898" href="Algorithmic.CEK.html#16003" class="Datatype">Stack</a><a id="1903" class="Symbol">;</a><a id="1904" href="Algorithmic.CEK.html#16055" class="InductiveConstructor">ε</a><a id="1905" class="Symbol">;</a><a id="1906" href="Algorithmic.CEK.html#1846" class="Datatype">Env</a><a id="1909" class="Symbol">;</a><a id="1910" href="Algorithmic.CEK.html#3849" class="InductiveConstructor">[]</a><a id="1912" class="Symbol">)</a>
<a id="1914" class="Keyword">open</a> <a id="1919" href="Algorithmic.CEK.html#16134" class="Module">Algorithmic.CEK.State</a>

<a id="1942" class="Keyword">open</a> <a id="1947" class="Keyword">import</a> <a id="1954" href="Algorithmic.Erasure.html" class="Module">Algorithmic.Erasure</a> <a id="1974" class="Keyword">using</a> <a id="1980" class="Symbol">(</a><a id="1981" href="Algorithmic.Erasure.html#2236" class="Function">erase</a><a id="1986" class="Symbol">)</a>
<a id="1988" class="Keyword">import</a> <a id="1995" href="Algorithmic.Evaluation.html" class="Module">Algorithmic.Evaluation</a> <a id="2018" class="Symbol">as</a> <a id="2021" class="Module">L</a> <a id="2023" class="Keyword">using</a><a id="2028" class="Symbol">(</a><a id="2029" href="Algorithmic.Evaluation.html#2114" class="Function">stepper</a><a id="2036" class="Symbol">)</a>

<a id="2039" class="Keyword">open</a> <a id="2044" class="Keyword">import</a> <a id="2051" href="Evaluator.Base.html" class="Module">Evaluator.Base</a> <a id="2066" class="Keyword">using</a> <a id="2072" class="Symbol">(</a><a id="2073" href="Evaluator.Base.html#1242" class="Datatype">ERROR</a><a id="2078" class="Symbol">;</a><a id="2079" href="Evaluator.Base.html#2618" class="Function">reportError</a><a id="2090" class="Symbol">)</a>
<a id="2092" class="Keyword">open</a> <a id="2097" class="Keyword">import</a> <a id="2104" href="Evaluator.Program.html" class="Module">Evaluator.Program</a> <a id="2122" class="Keyword">using</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Evaluator.Program.html#2156" class="Postulate">Input</a><a id="2134" class="Symbol">;</a><a id="2135" href="Evaluator.Program.html#2140" class="Postulate">Format</a><a id="2141" class="Symbol">;</a><a id="2142" href="Evaluator.Program.html#3967" class="Datatype">EvalMode</a><a id="2150" class="Symbol">;</a><a id="2151" href="Evaluator.Program.html#3760" class="Datatype">BudgetMode</a><a id="2161" class="Symbol">;</a><a id="2162" href="Evaluator.Program.html#2262" class="Postulate">ProgramN</a><a id="2170" class="Symbol">;</a><a id="2171" href="Evaluator.Program.html#2382" class="Postulate">ProgramNU</a><a id="2180" class="Symbol">;</a><a id="2181" href="Evaluator.Program.html#7483" class="Function">evalProgramNU</a><a id="2194" class="Symbol">;</a><a id="2195" href="Evaluator.Program.html#7635" class="Function">evalProgramN</a><a id="2207" class="Symbol">;</a><a id="2208" href="Evaluator.Program.html#8471" class="Function">typeCheckProgramN</a><a id="2225" class="Symbol">)</a>
<a id="2227" class="Keyword">open</a> <a id="2232" href="Evaluator.Program.html#3967" class="Module">EvalMode</a>
<a id="2241" class="Keyword">import</a> <a id="2248" href="Evaluator.Term.html" class="Module">Evaluator.Term</a> <a id="2263" class="Comment">-- Needed only to generate the compiled Haskell file</a>

<a id="2317" class="Comment">-- There&#39;s a long prelude here that could go in a different file but</a>
<a id="2386" class="Comment">-- currently it&#39;s only used here</a>

<a id="2420" class="Comment">-- Text Stuff</a>

<a id="2435" class="Keyword">postulate</a>
  <a id="putStrLn"></a><a id="2447" href="Main.html#2447" class="Postulate">putStrLn</a> <a id="2456" class="Symbol">:</a> <a id="2458" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2465" class="Symbol">→</a> <a id="2467" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2470" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="2473" class="Symbol">{-#</a> <a id="2477" class="Keyword">FOREIGN</a> <a id="2485" class="Pragma">GHC</a> <a id="2489" class="Pragma">import</a> <a id="2496" class="Pragma">qualified</a> <a id="2506" class="Pragma">Data.Text.IO</a> <a id="2519" class="Pragma">as</a> <a id="2522" class="Pragma">TextIO</a> <a id="2529" class="Symbol">#-}</a>
<a id="2533" class="Symbol">{-#</a> <a id="2537" class="Keyword">COMPILE</a> <a id="2545" class="Keyword">GHC</a> <a id="2549" href="Main.html#2447" class="Postulate">putStrLn</a> <a id="2558" class="Pragma">=</a> <a id="2560" class="Pragma">TextIO.putStrLn</a> <a id="2576" class="Symbol">#-}</a>

<a id="2581" class="Comment">-- IO Stuff</a>

<a id="2594" class="Keyword">instance</a>
  <a id="IOMonad"></a><a id="2605" href="Main.html#2605" class="Function">IOMonad</a> <a id="2613" class="Symbol">:</a> <a id="2615" href="Utils.html#2866" class="Record">Monad</a> <a id="2621" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a>
  <a id="2626" href="Main.html#2605" class="Function">IOMonad</a> <a id="2634" class="Symbol">=</a> <a id="2636" class="Keyword">record</a> <a id="2643" class="Symbol">{</a> <a id="2645" href="Utils.html#2913" class="Field">return</a> <a id="2652" class="Symbol">=</a> <a id="2654" href="IO.Primitive.html#570" class="Postulate">IO.return</a><a id="2663" class="Symbol">;</a> <a id="2665" href="Utils.html#2941" class="Field Operator">_&gt;&gt;=_</a> <a id="2671" class="Symbol">=</a> <a id="2673" href="IO.Primitive.html#610" class="Postulate Operator">IO._&gt;&gt;=_</a> <a id="2682" class="Symbol">}</a>

<a id="2685" class="Comment">-- Parsing stuff</a>

<a id="2703" class="Keyword">postulate</a>
  <a id="FilePath"></a><a id="2715" href="Main.html#2715" class="Postulate">FilePath</a> <a id="2724" class="Symbol">:</a> <a id="2726" href="Agda.Primitive.html#388" class="Primitive">Set</a>

<a id="2731" class="Symbol">{-#</a> <a id="2735" class="Keyword">COMPILE</a> <a id="2743" class="Keyword">GHC</a> <a id="2747" href="Main.html#2715" class="Postulate">FilePath</a> <a id="2756" class="Pragma">=</a> <a id="2758" class="Pragma">type</a> <a id="2763" class="Pragma">FilePath</a> <a id="2772" class="Symbol">#-}</a>

<a id="2777" class="Comment">-- System.Exit stuff</a>

<a id="2799" class="Keyword">postulate</a>
  <a id="exitFailure"></a><a id="2811" href="Main.html#2811" class="Postulate">exitFailure</a> <a id="2823" class="Symbol">:</a> <a id="2825" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2828" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="exitSuccess"></a><a id="2832" href="Main.html#2832" class="Postulate">exitSuccess</a> <a id="2844" class="Symbol">:</a> <a id="2846" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2849" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="2852" class="Symbol">{-#</a> <a id="2856" class="Keyword">FOREIGN</a> <a id="2864" class="Pragma">GHC</a> <a id="2868" class="Pragma">import</a> <a id="2875" class="Pragma">System.Exit</a> <a id="2887" class="Symbol">#-}</a>
<a id="2891" class="Symbol">{-#</a> <a id="2895" class="Keyword">COMPILE</a> <a id="2903" class="Keyword">GHC</a> <a id="2907" href="Main.html#2832" class="Postulate">exitSuccess</a> <a id="2919" class="Pragma">=</a> <a id="2921" class="Pragma">exitSuccess</a> <a id="2933" class="Symbol">#-}</a>
<a id="2937" class="Symbol">{-#</a> <a id="2941" class="Keyword">COMPILE</a> <a id="2949" class="Keyword">GHC</a> <a id="2953" href="Main.html#2811" class="Postulate">exitFailure</a> <a id="2965" class="Pragma">=</a> <a id="2967" class="Pragma">exitFailure</a> <a id="2979" class="Symbol">#-}</a>

<a id="2984" class="Comment">-- Input Options stuff</a>
<a id="3007" class="Symbol">{-#</a> <a id="3011" class="Keyword">FOREIGN</a> <a id="3019" class="Pragma">GHC</a> <a id="3023" class="Pragma">import</a> <a id="3030" class="Pragma">Opts</a> <a id="3035" class="Symbol">#-}</a>

<a id="3040" class="Keyword">data</a> <a id="EvalOptions"></a><a id="3045" href="Main.html#3045" class="Datatype">EvalOptions</a> <a id="3057" class="Symbol">(</a><a id="3058" href="Main.html#3058" class="Bound">A</a> <a id="3060" class="Symbol">:</a> <a id="3062" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3065" class="Symbol">)</a> <a id="3067" class="Symbol">:</a> <a id="3069" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3073" class="Keyword">where</a>
  <a id="EvalOptions.EvalOpts"></a><a id="3081" href="Main.html#3081" class="InductiveConstructor">EvalOpts</a> <a id="3090" class="Symbol">:</a> <a id="3092" href="Evaluator.Program.html#2156" class="Postulate">Input</a> <a id="3098" class="Symbol">→</a> <a id="3100" href="Evaluator.Program.html#2140" class="Postulate">Format</a> <a id="3107" class="Symbol">→</a> <a id="3109" href="Evaluator.Program.html#3967" class="Datatype">EvalMode</a> <a id="3118" class="Symbol">→</a> <a id="3120" href="Evaluator.Program.html#3760" class="Datatype">BudgetMode</a> <a id="3131" href="Main.html#3058" class="Bound">A</a> <a id="3133" class="Symbol">→</a> <a id="3135" href="Main.html#3045" class="Datatype">EvalOptions</a> <a id="3147" href="Main.html#3058" class="Bound">A</a>

<a id="3150" class="Symbol">{-#</a> <a id="3154" class="Keyword">COMPILE</a> <a id="3162" class="Keyword">GHC</a> <a id="3166" href="Main.html#3045" class="Datatype">EvalOptions</a> <a id="3178" class="Pragma">=</a> <a id="3180" class="Pragma">data</a> <a id="3185" class="Pragma">EvalOptions</a> <a id="3197" class="Pragma">(EvalOpts)</a> <a id="3208" class="Symbol">#-}</a>

<a id="3213" class="Keyword">data</a> <a id="TypecheckOptions"></a><a id="3218" href="Main.html#3218" class="Datatype">TypecheckOptions</a> <a id="3235" class="Symbol">:</a> <a id="3237" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3241" class="Keyword">where</a>
  <a id="TypecheckOptions.TCOpts"></a><a id="3249" href="Main.html#3249" class="InductiveConstructor">TCOpts</a> <a id="3256" class="Symbol">:</a> <a id="3258" href="Evaluator.Program.html#2156" class="Postulate">Input</a> <a id="3264" class="Symbol">→</a> <a id="3266" href="Evaluator.Program.html#2140" class="Postulate">Format</a> <a id="3273" class="Symbol">→</a> <a id="3275" href="Main.html#3218" class="Datatype">TypecheckOptions</a>

<a id="3293" class="Symbol">{-#</a> <a id="3297" class="Keyword">COMPILE</a> <a id="3305" class="Keyword">GHC</a> <a id="3309" href="Main.html#3218" class="Datatype">TypecheckOptions</a> <a id="3326" class="Pragma">=</a> <a id="3328" class="Pragma">data</a> <a id="3333" class="Pragma">TypecheckOptions</a> <a id="3350" class="Pragma">(TCOpts)</a> <a id="3359" class="Symbol">#-}</a>

<a id="3364" class="Keyword">data</a> <a id="Command"></a><a id="3369" href="Main.html#3369" class="Datatype">Command</a> <a id="3377" class="Symbol">(</a><a id="3378" href="Main.html#3378" class="Bound">A</a> <a id="3380" class="Symbol">:</a> <a id="3382" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3385" class="Symbol">)</a> <a id="3387" class="Symbol">:</a> <a id="3389" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3393" class="Keyword">where</a>
  <a id="Command.Eval"></a><a id="3401" href="Main.html#3401" class="InductiveConstructor">Eval</a>  <a id="3407" class="Symbol">:</a> <a id="3409" href="Main.html#3045" class="Datatype">EvalOptions</a> <a id="3421" href="Main.html#3378" class="Bound">A</a> <a id="3423" class="Symbol">→</a> <a id="3425" href="Main.html#3369" class="Datatype">Command</a> <a id="3433" href="Main.html#3378" class="Bound">A</a>
  <a id="Command.Typecheck"></a><a id="3437" href="Main.html#3437" class="InductiveConstructor">Typecheck</a> <a id="3447" class="Symbol">:</a> <a id="3449" href="Main.html#3218" class="Datatype">TypecheckOptions</a> <a id="3466" class="Symbol">→</a> <a id="3468" href="Main.html#3369" class="Datatype">Command</a> <a id="3476" href="Main.html#3378" class="Bound">A</a>

<a id="3479" class="Symbol">{-#</a> <a id="3483" class="Keyword">COMPILE</a> <a id="3491" class="Keyword">GHC</a> <a id="3495" href="Main.html#3369" class="Datatype">Command</a> <a id="3503" class="Pragma">=</a> <a id="3505" class="Pragma">data</a> <a id="3510" class="Pragma">Command</a> <a id="3518" class="Pragma">(Eval</a> <a id="3524" class="Pragma">|</a> <a id="3526" class="Pragma">Typecheck)</a> <a id="3537" class="Symbol">#-}</a>

<a id="3542" class="Symbol">{-#</a> <a id="3546" class="Keyword">FOREIGN</a> <a id="3554" class="Pragma">GHC</a> <a id="3558" class="Pragma">import</a> <a id="3565" class="Pragma">PlutusCore.Executable.Common</a>  <a id="3595" class="Symbol">#-}</a>
<a id="3599" class="Symbol">{-#</a> <a id="3603" class="Keyword">FOREIGN</a> <a id="3611" class="Pragma">GHC</a> <a id="3615" class="Pragma">import</a> <a id="3622" class="Pragma">PlutusCore.Executable.Parsers</a> <a id="3652" class="Symbol">#-}</a>

<a id="3657" class="Keyword">postulate</a> 
   <a id="execP"></a><a id="3671" href="Main.html#3671" class="Postulate">execP</a> <a id="3677" class="Symbol">:</a> <a id="3679" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3682" class="Symbol">(</a><a id="3683" href="Main.html#3369" class="Datatype">Command</a> <a id="3691" href="Cost.Raw.html#5465" class="Function">RawCostModel</a><a id="3703" class="Symbol">)</a>
   <a id="parse"></a><a id="3708" href="Main.html#3708" class="Postulate">parse</a> <a id="3714" class="Symbol">:</a> <a id="3716" href="Evaluator.Program.html#2140" class="Postulate">Format</a> <a id="3723" class="Symbol">→</a> <a id="3725" href="Evaluator.Program.html#2156" class="Postulate">Input</a> <a id="3731" class="Symbol">→</a> <a id="3733" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3736" href="Evaluator.Program.html#2262" class="Postulate">ProgramN</a>
   <a id="parseU"></a><a id="3748" href="Main.html#3748" class="Postulate">parseU</a> <a id="3755" class="Symbol">:</a> <a id="3757" href="Evaluator.Program.html#2140" class="Postulate">Format</a> <a id="3764" class="Symbol">→</a> <a id="3766" href="Evaluator.Program.html#2156" class="Postulate">Input</a> <a id="3772" class="Symbol">→</a> <a id="3774" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3777" href="Evaluator.Program.html#2382" class="Postulate">ProgramNU</a>

<a id="3788" class="Symbol">{-#</a> <a id="3792" class="Keyword">COMPILE</a> <a id="3800" class="Keyword">GHC</a> <a id="3804" href="Main.html#3671" class="Postulate">execP</a> <a id="3810" class="Pragma">=</a> <a id="3812" class="Pragma">execP</a> <a id="3818" class="Symbol">#-}</a>
<a id="3822" class="Symbol">{-#</a> <a id="3826" class="Keyword">COMPILE</a> <a id="3834" class="Keyword">GHC</a> <a id="3838" href="Main.html#3708" class="Postulate">parse</a> <a id="3844" class="Pragma">=</a> <a id="3846" class="Pragma">readProgram</a> <a id="3858" class="Symbol">#-}</a>
<a id="3862" class="Symbol">{-#</a> <a id="3866" class="Keyword">COMPILE</a> <a id="3874" class="Keyword">GHC</a> <a id="3878" href="Main.html#3748" class="Postulate">parseU</a> <a id="3885" class="Pragma">=</a> <a id="3887" class="Pragma">readProgram</a> <a id="3899" class="Symbol">#-}</a>

<a id="evalInput"></a><a id="3904" href="Main.html#3904" class="Function">evalInput</a> <a id="3914" class="Symbol">:</a> <a id="3916" href="Evaluator.Program.html#3967" class="Datatype">EvalMode</a> <a id="3925" class="Symbol">→</a>  <a id="3928" href="Evaluator.Program.html#3760" class="Datatype">BudgetMode</a> <a id="3939" href="Cost.Raw.html#5465" class="Function">RawCostModel</a> <a id="3952" class="Symbol">→</a> <a id="3954" href="Evaluator.Program.html#2140" class="Postulate">Format</a> <a id="3961" class="Symbol">→</a> <a id="3963" href="Evaluator.Program.html#2156" class="Postulate">Input</a> <a id="3969" class="Symbol">→</a> <a id="3971" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3974" class="Symbol">(</a><a id="3975" href="Utils.html#1126" class="Datatype">Either</a> <a id="3982" href="Evaluator.Base.html#1242" class="Datatype">ERROR</a> <a id="3988" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="3994" class="Symbol">)</a>
<a id="3996" href="Main.html#3904" class="Function">evalInput</a> <a id="4006" href="Evaluator.Program.html#3990" class="InductiveConstructor">U</a> <a id="4008" href="Main.html#4008" class="Bound">bm</a> <a id="4011" href="Main.html#4011" class="Bound">fmt</a> <a id="4015" href="Main.html#4015" class="Bound">inp</a> <a id="4019" class="Symbol">=</a> <a id="4021" href="Utils.html#3049" class="Function">fmap</a> <a id="4026" class="Symbol">(</a><a id="4027" href="Evaluator.Program.html#7483" class="Function">evalProgramNU</a> <a id="4041" href="Main.html#4008" class="Bound">bm</a><a id="4043" class="Symbol">)</a> <a id="4045" class="Symbol">(</a><a id="4046" href="Main.html#3748" class="Postulate">parseU</a> <a id="4053" href="Main.html#4011" class="Bound">fmt</a> <a id="4057" href="Main.html#4015" class="Bound">inp</a><a id="4060" class="Symbol">)</a>
<a id="4062" href="Main.html#3904" class="CatchallClause Function">evalInput</a><a id="4071" class="CatchallClause"> </a><a id="4072" href="Main.html#4072" class="CatchallClause Bound">m</a><a id="4073" class="CatchallClause"> </a><a id="4074" class="CatchallClause Symbol">_</a><a id="4075" class="CatchallClause"> </a><a id="4076" href="Main.html#4076" class="CatchallClause Bound">fmt</a><a id="4079" class="CatchallClause"> </a><a id="4080" href="Main.html#4080" class="CatchallClause Bound">inp</a>  <a id="4085" class="Symbol">=</a> <a id="4087" href="Utils.html#3049" class="Function">fmap</a> <a id="4092" class="Symbol">(</a><a id="4093" href="Evaluator.Program.html#7635" class="Function">evalProgramN</a> <a id="4106" href="Main.html#4072" class="Bound">m</a><a id="4107" class="Symbol">)</a> <a id="4109" class="Symbol">(</a><a id="4110" href="Main.html#3708" class="Postulate">parse</a> <a id="4116" href="Main.html#4076" class="Bound">fmt</a> <a id="4120" href="Main.html#4080" class="Bound">inp</a><a id="4123" class="Symbol">)</a>

<a id="tcInput"></a><a id="4126" href="Main.html#4126" class="Function">tcInput</a> <a id="4134" class="Symbol">:</a> <a id="4136" href="Evaluator.Program.html#2140" class="Postulate">Format</a> <a id="4143" class="Symbol">→</a> <a id="4145" href="Evaluator.Program.html#2156" class="Postulate">Input</a> <a id="4151" class="Symbol">→</a> <a id="4153" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4156" class="Symbol">(</a><a id="4157" href="Utils.html#1126" class="Datatype">Either</a> <a id="4164" href="Evaluator.Base.html#1242" class="Datatype">ERROR</a> <a id="4170" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="4176" class="Symbol">)</a>
<a id="4178" href="Main.html#4126" class="Function">tcInput</a> <a id="4186" href="Main.html#4186" class="Bound">fmt</a> <a id="4190" href="Main.html#4190" class="Bound">inp</a> <a id="4194" class="Symbol">=</a> <a id="4196" href="Utils.html#3049" class="Function">fmap</a> <a id="4201" href="Evaluator.Program.html#8471" class="Function">typeCheckProgramN</a> <a id="4219" class="Symbol">(</a><a id="4220" href="Main.html#3708" class="Postulate">parse</a> <a id="4226" href="Main.html#4186" class="Bound">fmt</a> <a id="4230" href="Main.html#4190" class="Bound">inp</a><a id="4233" class="Symbol">)</a>

<a id="main&#39;"></a><a id="4236" href="Main.html#4236" class="Function">main&#39;</a> <a id="4242" class="Symbol">:</a> <a id="4244" href="Main.html#3369" class="Datatype">Command</a> <a id="4252" href="Cost.Raw.html#5465" class="Function">RawCostModel</a> <a id="4265" class="Symbol">→</a> <a id="4267" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4270" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="4272" href="Main.html#4236" class="Function">main&#39;</a> <a id="4278" class="Symbol">(</a><a id="4279" href="Main.html#3401" class="InductiveConstructor">Eval</a> <a id="4284" class="Symbol">(</a><a id="4285" href="Main.html#3081" class="InductiveConstructor">EvalOpts</a> <a id="4294" href="Main.html#4294" class="Bound">inp</a> <a id="4298" href="Main.html#4298" class="Bound">fmt</a> <a id="4302" href="Main.html#4302" class="Bound">m</a> <a id="4304" href="Main.html#4304" class="Bound">bm</a><a id="4306" class="Symbol">))</a> <a id="4309" class="Symbol">=</a> <a id="4311" class="Keyword">do</a>
  <a id="4316" href="Utils.html#1183" class="InductiveConstructor">inj₂</a> <a id="4321" href="Main.html#4321" class="Bound">s</a> <a id="4323" href="Utils.html#2941" class="Field Operator">←</a> <a id="4325" href="Main.html#3904" class="Function">evalInput</a> <a id="4335" href="Main.html#4302" class="Bound">m</a> <a id="4337" href="Main.html#4304" class="Bound">bm</a> <a id="4340" href="Main.html#4298" class="Bound">fmt</a> <a id="4344" href="Main.html#4294" class="Bound">inp</a>
    <a id="4352" class="Keyword">where</a>
    <a id="4362" href="Utils.html#1159" class="InductiveConstructor">inj₁</a> <a id="4367" href="Main.html#4367" class="Bound">e</a> <a id="4369" class="Symbol">→</a> <a id="4371" href="Main.html#2447" class="Postulate">putStrLn</a> <a id="4380" class="Symbol">(</a><a id="4381" href="Evaluator.Base.html#2618" class="Function">reportError</a> <a id="4393" href="Main.html#4367" class="Bound">e</a><a id="4394" class="Symbol">)</a> <a id="4396" href="Utils.html#2985" class="Function Operator">&gt;&gt;</a> <a id="4399" href="Main.html#2811" class="Postulate">exitFailure</a>
  <a id="4413" href="Main.html#2447" class="Postulate">putStrLn</a> <a id="4422" href="Main.html#4321" class="Bound">s</a> <a id="4424" href="Utils.html#2985" class="Function Operator">&gt;&gt;</a> <a id="4427" href="Main.html#2832" class="Postulate">exitSuccess</a>
<a id="4439" href="Main.html#4236" class="Function">main&#39;</a> <a id="4445" class="Symbol">(</a><a id="4446" href="Main.html#3437" class="InductiveConstructor">Typecheck</a> <a id="4456" class="Symbol">(</a><a id="4457" href="Main.html#3249" class="InductiveConstructor">TCOpts</a> <a id="4464" href="Main.html#4464" class="Bound">inp</a> <a id="4468" href="Main.html#4468" class="Bound">fmt</a><a id="4471" class="Symbol">))</a>    <a id="4477" class="Symbol">=</a> <a id="4479" class="Keyword">do</a>
  <a id="4484" href="Utils.html#1183" class="InductiveConstructor">inj₂</a> <a id="4489" href="Main.html#4489" class="Bound">s</a> <a id="4491" href="Utils.html#2941" class="Field Operator">←</a> <a id="4493" href="Main.html#4126" class="Function">tcInput</a> <a id="4501" href="Main.html#4468" class="Bound">fmt</a> <a id="4505" href="Main.html#4464" class="Bound">inp</a>
    <a id="4513" class="Keyword">where</a>
    <a id="4523" href="Utils.html#1159" class="InductiveConstructor">inj₁</a> <a id="4528" href="Main.html#4528" class="Bound">e</a> <a id="4530" class="Symbol">→</a> <a id="4532" href="Main.html#2447" class="Postulate">putStrLn</a> <a id="4541" class="Symbol">(</a><a id="4542" href="Evaluator.Base.html#2618" class="Function">reportError</a> <a id="4554" href="Main.html#4528" class="Bound">e</a><a id="4555" class="Symbol">)</a> <a id="4557" href="Utils.html#2985" class="Function Operator">&gt;&gt;</a> <a id="4560" href="Main.html#2811" class="Postulate">exitFailure</a>
  <a id="4574" href="Main.html#2447" class="Postulate">putStrLn</a> <a id="4583" href="Main.html#4489" class="Bound">s</a> <a id="4585" href="Utils.html#2985" class="Function Operator">&gt;&gt;</a> <a id="4588" href="Main.html#2832" class="Postulate">exitSuccess</a>

<a id="main"></a><a id="4601" href="Main.html#4601" class="Function">main</a> <a id="4606" class="Symbol">:</a> <a id="4608" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4611" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="4613" href="Main.html#4601" class="Function">main</a> <a id="4618" class="Symbol">=</a> <a id="4620" href="Main.html#3671" class="Postulate">execP</a> <a id="4626" href="Utils.html#2941" class="Field Operator">&gt;&gt;=</a> <a id="4630" href="Main.html#4236" class="Function">main&#39;</a>
</pre>

    </section>
  </body>
</html>