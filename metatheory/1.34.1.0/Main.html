<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Main</title>
    <link rel="stylesheet" href="./Agda.css">
  </head>
  <body>
    <h1>Main</h1>
    <section>
      <pre class="Agda"><a id="38" class="Keyword">module</a> <a id="45" href="Main.html" class="Module">Main</a> <a id="50" class="Keyword">where</a>

<a id="57" class="Keyword">import</a> <a id="64" href="VerifiedCompilation.html" class="Module">VerifiedCompilation</a>
<a id="84" class="Keyword">open</a> <a id="89" class="Keyword">import</a> <a id="96" href="Agda.Builtin.IO.html" class="Module">Agda.Builtin.IO</a> <a id="112" class="Keyword">using</a> <a id="118" class="Symbol">(</a><a id="119" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a><a id="121" class="Symbol">)</a>
<a id="123" class="Keyword">import</a> <a id="130" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="143" class="Symbol">as</a> <a id="146" class="Module">IO</a> <a id="149" class="Keyword">using</a> <a id="155" class="Symbol">(</a><a id="156" href="IO.Primitive.html#570" class="Postulate">return</a><a id="162" class="Symbol">;</a><a id="163" href="IO.Primitive.html#610" class="Postulate Operator">_&gt;&gt;=_</a><a id="168" class="Symbol">)</a>
<a id="170" class="Keyword">open</a> <a id="175" class="Keyword">import</a> <a id="182" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a> <a id="200" class="Keyword">using</a> <a id="206" class="Symbol">(</a><a id="207" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="208" class="Symbol">;</a><a id="209" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="211" class="Symbol">)</a>
<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="Function.html" class="Module">Function</a> <a id="234" class="Keyword">using</a> <a id="240" class="Symbol">(</a><a id="241" href="Function.Base.html#1928" class="Function Operator">_$_</a><a id="244" class="Symbol">;</a><a id="245" href="Function.Base.html#1040" class="Function Operator">_∘_</a><a id="248" class="Symbol">)</a>
<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="Data.String.html" class="Module">Data.String</a> <a id="274" class="Keyword">using</a> <a id="280" class="Symbol">(</a><a id="281" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="287" class="Symbol">;</a><a id="288" href="Data.String.Base.html#2375" class="Function Operator">_++_</a><a id="292" class="Symbol">)</a>
<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a>
<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Agda.Builtin.Int.html" class="Module">Agda.Builtin.Int</a> <a id="352" class="Keyword">using</a> <a id="358" class="Symbol">(</a><a id="359" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">pos</a><a id="362" class="Symbol">)</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Data.Integer.Show.html" class="Module">Data.Integer.Show</a> <a id="394" class="Keyword">using</a> <a id="400" class="Symbol">(</a><a id="401" href="Data.Integer.Show.html#615" class="Function">show</a><a id="405" class="Symbol">)</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Data.Product.html" class="Module">Data.Product</a> <a id="432" class="Keyword">using</a> <a id="438" class="Symbol">(</a><a id="439" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a><a id="440" class="Symbol">)</a> <a id="442" class="Keyword">renaming</a> <a id="451" class="Symbol">(</a><a id="452" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="456" class="Symbol">to</a> <a id="459" class="InductiveConstructor Operator">_,,_</a><a id="463" class="Symbol">)</a>
<a id="465" class="Keyword">open</a> <a id="470" class="Keyword">import</a> <a id="477" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="487" class="Keyword">using</a> <a id="493" class="Symbol">(</a><a id="494" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="498" class="Symbol">)</a>
<a id="500" class="Keyword">open</a> <a id="505" class="Keyword">import</a> <a id="512" href="Data.List.html" class="Module">Data.List</a> <a id="522" class="Keyword">using</a> <a id="528" class="Symbol">(</a><a id="529" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="533" class="Symbol">)</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="558" class="Keyword">using</a> <a id="564" class="Symbol">(</a><a id="565" href="Data.Empty.html#535" class="Datatype">⊥</a><a id="566" class="Symbol">)</a>

<a id="569" class="Keyword">open</a> <a id="574" class="Keyword">import</a> <a id="581" href="Type.html" class="Module">Type</a> <a id="586" class="Keyword">using</a> <a id="592" class="Symbol">(</a><a id="593" href="Type.html#515" class="Datatype">Ctx⋆</a><a id="597" class="Symbol">;</a><a id="598" href="Type.html#534" class="InductiveConstructor">∅</a><a id="599" class="Symbol">;</a><a id="600" href="Type.html#545" class="InductiveConstructor Operator">_,⋆_</a><a id="604" class="Symbol">)</a>
<a id="606" class="Keyword">open</a> <a id="611" class="Keyword">import</a> <a id="618" href="Check.html" class="Module">Check</a> <a id="624" class="Keyword">using</a> <a id="630" class="Symbol">(</a><a id="631" href="Check.html#2131" class="Datatype">TypeError</a><a id="640" class="Symbol">;</a><a id="641" href="Check.html#17755" class="Function">inferType</a><a id="650" class="Symbol">;</a><a id="651" href="Check.html#8676" class="Function">inferKind</a><a id="660" class="Symbol">;</a><a id="661" href="Check.html#3308" class="Function">decKind</a><a id="668" class="Symbol">;</a><a id="669" href="Check.html#8600" class="Function">checkKind</a><a id="678" class="Symbol">;</a><a id="679" href="Check.html#17661" class="Function">checkType</a><a id="688" class="Symbol">)</a>
<a id="690" class="Keyword">open</a> <a id="695" href="Check.html#2131" class="Module">TypeError</a> <a id="705" class="Comment">-- Bring all TypeError constructors in scope.</a>

<a id="752" class="Keyword">open</a> <a id="757" class="Keyword">import</a> <a id="764" href="Scoped.Extrication.html" class="Module">Scoped.Extrication</a> <a id="783" class="Keyword">using</a> <a id="789" class="Symbol">(</a><a id="790" href="Scoped.Extrication.html#1316" class="Function">extricateNf⋆</a><a id="802" class="Symbol">;</a><a id="803" href="Scoped.Extrication.html#3031" class="Function">extricate</a><a id="812" class="Symbol">)</a>
<a id="814" class="Keyword">open</a> <a id="819" class="Keyword">import</a> <a id="826" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a> <a id="842" class="Keyword">using</a> <a id="848" class="Symbol">(</a><a id="849" href="Type.BetaNormal.html#1044" class="Datatype Operator">_⊢Nf⋆_</a><a id="855" class="Symbol">)</a>
<a id="857" class="Keyword">import</a> <a id="864" href="Untyped.html" class="Module">Untyped</a> <a id="872" class="Symbol">as</a> <a id="875" class="Module">U</a> <a id="877" class="Keyword">using</a> <a id="883" class="Symbol">(</a><a id="884" href="Untyped.html#1671" class="Datatype Operator">_⊢</a><a id="886" class="Symbol">;</a><a id="887" href="Untyped.html#6195" class="Function">scopeCheckU0</a><a id="899" class="Symbol">;</a><a id="900" href="Untyped.html#4888" class="Function">extricateU0</a><a id="911" class="Symbol">;</a><a id="912" href="Untyped.html#6378" class="Function">decUTm</a><a id="918" class="Symbol">)</a>
<a id="920" class="Keyword">import</a> <a id="927" href="Untyped.CEKWithCost.html" class="Module">Untyped.CEKWithCost</a> <a id="947" class="Symbol">as</a> <a id="950" class="Module">U</a> <a id="952" class="Keyword">using</a> <a id="958" class="Symbol">(</a><a id="959" href="Untyped.CEKWithCost.html#6609" class="Function">stepperC</a><a id="967" class="Symbol">)</a>
<a id="969" class="Keyword">open</a> <a id="974" class="Keyword">import</a> <a id="981" href="Cost.Base.html" class="Module">Cost.Base</a>
<a id="991" class="Keyword">open</a> <a id="996" class="Keyword">import</a> <a id="1003" href="Cost.html" class="Module">Cost</a> <a id="1008" class="Keyword">using</a> <a id="1014" class="Symbol">(</a><a id="1015" href="Cost.html#4635" class="Function">machineParameters</a><a id="1032" class="Symbol">;</a><a id="1033" href="Cost.html#6828" class="Function">tallyingMachineParameters</a><a id="1058" class="Symbol">;</a><a id="1059" href="Cost.html#4849" class="Function">countingReport</a><a id="1073" class="Symbol">;</a><a id="1074" href="Cost.html#7079" class="Function">tallyingReport</a><a id="1088" class="Symbol">)</a>
<a id="1090" class="Keyword">open</a> <a id="1095" class="Keyword">import</a> <a id="1102" href="Cost.Raw.html" class="Module">Cost.Raw</a> <a id="1111" class="Keyword">using</a> <a id="1117" class="Symbol">(</a><a id="1118" href="Cost.Raw.html#5784" class="Function">RawCostModel</a><a id="1130" class="Symbol">)</a>
<a id="1132" class="Keyword">open</a> <a id="1137" class="Keyword">import</a> <a id="1144" href="Cost.Model.html" class="Module">Cost.Model</a> <a id="1155" class="Keyword">using</a> <a id="1161" class="Symbol">(</a><a id="1162" href="Cost.Model.html#9634" class="Function">createMap</a><a id="1171" class="Symbol">)</a>
<a id="1173" class="Keyword">import</a> <a id="1180" href="RawU.html" class="Module">RawU</a> <a id="1185" class="Symbol">as</a> <a id="1188" class="Module">U</a> <a id="1190" class="Keyword">using</a> <a id="1196" class="Symbol">(</a><a id="1197" href="RawU.html#6172" class="Datatype">Untyped</a><a id="1204" class="Symbol">)</a>

<a id="1207" class="Keyword">open</a> <a id="1212" class="Keyword">import</a> <a id="1219" href="Untyped.CEK.html" class="Module">Untyped.CEK</a> <a id="1231" class="Symbol">as</a> <a id="1234" class="Module">U</a> <a id="1236" class="Keyword">using</a> <a id="1242" class="Symbol">(</a><a id="1243" href="Untyped.CEK.html#23475" class="Function">stepper</a><a id="1250" class="Symbol">;</a><a id="1251" href="Untyped.CEK.html#1178" class="Datatype">Stack</a><a id="1256" class="Symbol">;</a><a id="1257" href="Untyped.CEK.html#1208" class="InductiveConstructor">ε</a><a id="1258" class="Symbol">;</a><a id="1259" href="Untyped.CEK.html#1281" class="Datatype">Env</a><a id="1262" class="Symbol">;</a><a id="1263" href="Untyped.CEK.html#1305" class="InductiveConstructor">[]</a><a id="1265" class="Symbol">;</a><a id="1266" href="Untyped.CEK.html#3540" class="Datatype">State</a><a id="1271" class="Symbol">)</a>
<a id="1273" class="Keyword">open</a> <a id="1278" href="Untyped.CEK.html#3540" class="Module">U.State</a>

<a id="1287" class="Keyword">open</a> <a id="1292" class="Keyword">import</a> <a id="1299" href="Raw.html" class="Module">Raw</a> <a id="1303" class="Keyword">using</a> <a id="1309" class="Symbol">(</a><a id="1310" href="Raw.html#1435" class="Datatype">RawTm</a><a id="1315" class="Symbol">;</a><a id="1316" href="Raw.html#810" class="Datatype">RawTy</a><a id="1321" class="Symbol">;</a><a id="1322" href="Raw.html#5734" class="Function">rawPrinter</a><a id="1332" class="Symbol">;</a><a id="1333" href="Raw.html#4705" class="Function">rawTyPrinter</a><a id="1345" class="Symbol">;</a><a id="1346" href="Raw.html#2639" class="Function">decRTy</a><a id="1352" class="Symbol">;</a><a id="1353" href="Raw.html#3452" class="Function">decRTm</a><a id="1359" class="Symbol">)</a>
<a id="1361" class="Keyword">open</a> <a id="1366" class="Keyword">import</a> <a id="1373" href="Scoped.html" class="Module">Scoped</a> <a id="1380" class="Keyword">using</a> <a id="1386" class="Symbol">(</a><a id="1387" href="Scoped.html#7729" class="Postulate">FreeVariableError</a><a id="1404" class="Symbol">;</a><a id="1405" href="Scoped.html#7824" class="Datatype">ScopeError</a><a id="1415" class="Symbol">;</a><a id="1416" href="Scoped.html#7873" class="InductiveConstructor">freeVariableError</a><a id="1433" class="Symbol">;</a><a id="1434" href="Scoped.html#10960" class="Function">extricateScopeTy</a><a id="1450" class="Symbol">;</a><a id="1451" href="Scoped.html#6896" class="Datatype">ScopedTm</a><a id="1459" class="Symbol">;</a><a id="1460" href="Scoped.html#1414" class="Datatype">Weirdℕ</a><a id="1466" class="Symbol">;</a><a id="1467" href="Scoped.html#9725" class="Function">scopeCheckTm</a><a id="1479" class="Symbol">;</a><a id="1480" href="Scoped.html#4359" class="Function">shifter</a><a id="1487" class="Symbol">;</a><a id="1488" href="Scoped.html#6018" class="Function">unshifter</a><a id="1497" class="Symbol">;</a><a id="1498" href="Scoped.html#11939" class="Function">extricateScope</a><a id="1512" class="Symbol">;</a><a id="1513" href="Scoped.html#5193" class="Function">unshifterTy</a><a id="1524" class="Symbol">;</a><a id="1525" href="Scoped.html#8556" class="Function">scopeCheckTy</a><a id="1537" class="Symbol">;</a><a id="1538" href="Scoped.html#3558" class="Function">shifterTy</a><a id="1547" class="Symbol">)</a>
<a id="1549" class="Keyword">open</a> <a id="1554" href="Scoped.html#1414" class="Module">Weirdℕ</a> <a id="1561" class="Comment">-- Bring Weirdℕ constructors in scope</a>
<a id="1599" class="Keyword">open</a> <a id="1604" class="Keyword">import</a> <a id="1611" href="Utils.html" class="Module">Utils</a> <a id="1617" class="Keyword">using</a> <a id="1623" class="Symbol">(</a><a id="1624" href="Utils.html#1125" class="Datatype">Either</a><a id="1630" class="Symbol">;</a><a id="1631" href="Utils.html#1158" class="InductiveConstructor">inj₁</a><a id="1635" class="Symbol">;</a><a id="1636" href="Utils.html#1182" class="InductiveConstructor">inj₂</a><a id="1640" class="Symbol">;</a><a id="1641" href="Utils.html#3696" class="Function">withE</a><a id="1646" class="Symbol">;</a><a id="1647" href="Utils.html#7297" class="Datatype">Kind</a><a id="1651" class="Symbol">;</a><a id="1652" href="Utils.html#7316" class="InductiveConstructor">*</a><a id="1653" class="Symbol">;</a><a id="1654" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="1659" class="Symbol">;</a><a id="1660" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1667" class="Symbol">;</a><a id="1668" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="1672" class="Symbol">;</a><a id="1673" href="Utils.html#2862" class="Record">Monad</a><a id="1678" class="Symbol">;</a><a id="1679" href="Utils.html#4355" class="Datatype">RuntimeError</a><a id="1691" class="Symbol">;</a><a id="1692" href="Utils.html#3811" class="Function">dec2Either</a><a id="1702" class="Symbol">;</a><a id="1703" href="Utils.html#4001" class="InductiveConstructor Operator">_,_</a><a id="1706" class="Symbol">)</a>
<a id="1708" class="Keyword">open</a> <a id="1713" href="Utils.html#4355" class="Module">RuntimeError</a>
<a id="1726" class="Keyword">open</a> <a id="1731" href="Utils.html#2862" class="Module">Monad</a> <a id="1737" class="Symbol"></a>

<a id="1746" class="Keyword">open</a> <a id="1751" class="Keyword">import</a> <a id="1758" href="Algorithmic.html" class="Module">Algorithmic</a> <a id="1770" class="Keyword">using</a> <a id="1776" class="Symbol">(</a><a id="1777" href="Algorithmic.html#5277" class="Datatype Operator">_⊢_</a><a id="1780" class="Symbol">;</a><a id="1781" href="Algorithmic.html#1667" class="InductiveConstructor">∅</a><a id="1782" class="Symbol">;</a><a id="1783" href="Algorithmic.html#7621" class="InductiveConstructor">error</a><a id="1788" class="Symbol">)</a>

<a id="1791" class="Keyword">open</a> <a id="1796" class="Keyword">import</a> <a id="1803" href="Algorithmic.CK.html" class="Module">Algorithmic.CK</a> <a id="1818" class="Keyword">using</a> <a id="1824" class="Symbol">(</a><a id="1825" href="Algorithmic.CK.html#4610" class="Function">stepper</a><a id="1832" class="Symbol">;</a><a id="1833" href="Algorithmic.CK.html#1313" class="Datatype">State</a><a id="1838" class="Symbol">;</a><a id="1839" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a><a id="1844" class="Symbol">;</a><a id="1845" href="Algorithmic.CK.html#1177" class="InductiveConstructor">ε</a><a id="1846" class="Symbol">)</a>
<a id="1848" class="Keyword">open</a> <a id="1853" href="Algorithmic.CK.html#1313" class="Module">Algorithmic.CK.State</a>

<a id="1875" class="Keyword">open</a> <a id="1880" class="Keyword">import</a> <a id="1887" href="Algorithmic.CEK.html" class="Module">Algorithmic.CEK</a> <a id="1903" class="Keyword">using</a> <a id="1909" class="Symbol">(</a><a id="1910" href="Algorithmic.CEK.html#19936" class="Function">stepper</a><a id="1917" class="Symbol">;</a><a id="1918" href="Algorithmic.CEK.html#17541" class="Datatype">State</a><a id="1923" class="Symbol">;</a><a id="1924" href="Algorithmic.CEK.html#17410" class="Datatype">Stack</a><a id="1929" class="Symbol">;</a><a id="1930" href="Algorithmic.CEK.html#17462" class="InductiveConstructor">ε</a><a id="1931" class="Symbol">;</a><a id="1932" href="Algorithmic.CEK.html#1843" class="Datatype">Env</a><a id="1935" class="Symbol">;</a><a id="1936" href="Algorithmic.CEK.html#3836" class="InductiveConstructor">[]</a><a id="1938" class="Symbol">)</a>
<a id="1940" class="Keyword">open</a> <a id="1945" href="Algorithmic.CEK.html#17541" class="Module">Algorithmic.CEK.State</a>

<a id="1968" class="Keyword">open</a> <a id="1973" class="Keyword">import</a> <a id="1980" href="Algorithmic.Erasure.html" class="Module">Algorithmic.Erasure</a> <a id="2000" class="Keyword">using</a> <a id="2006" class="Symbol">(</a><a id="2007" href="Algorithmic.Erasure.html#2235" class="Function">erase</a><a id="2012" class="Symbol">)</a>
<a id="2014" class="Keyword">import</a> <a id="2021" href="Algorithmic.Evaluation.html" class="Module">Algorithmic.Evaluation</a> <a id="2044" class="Symbol">as</a> <a id="2047" class="Module">L</a> <a id="2049" class="Keyword">using</a><a id="2054" class="Symbol">(</a><a id="2055" href="Algorithmic.Evaluation.html#2112" class="Function">stepper</a><a id="2062" class="Symbol">)</a>

<a id="2065" class="Keyword">open</a> <a id="2070" class="Keyword">import</a> <a id="2077" href="Evaluator.Base.html" class="Module">Evaluator.Base</a> <a id="2092" class="Keyword">using</a> <a id="2098" class="Symbol">(</a><a id="2099" href="Evaluator.Base.html#1239" class="Datatype">ERROR</a><a id="2104" class="Symbol">;</a><a id="2105" href="Evaluator.Base.html#2615" class="Function">reportError</a><a id="2116" class="Symbol">)</a>
<a id="2118" class="Keyword">open</a> <a id="2123" class="Keyword">import</a> <a id="2130" href="Evaluator.Program.html" class="Module">Evaluator.Program</a> <a id="2148" class="Keyword">using</a> <a id="2154" class="Symbol">(</a><a id="2155" href="Evaluator.Program.html#2155" class="Postulate">Input</a><a id="2160" class="Symbol">;</a><a id="2161" href="Evaluator.Program.html#2139" class="Postulate">Format</a><a id="2167" class="Symbol">;</a><a id="2168" href="Evaluator.Program.html#3965" class="Datatype">EvalMode</a><a id="2176" class="Symbol">;</a><a id="2177" href="Evaluator.Program.html#3759" class="Datatype">BudgetMode</a><a id="2187" class="Symbol">;</a><a id="2188" href="Evaluator.Program.html#2261" class="Postulate">ProgramN</a><a id="2196" class="Symbol">;</a><a id="2197" href="Evaluator.Program.html#2381" class="Postulate">ProgramNU</a><a id="2206" class="Symbol">;</a><a id="2207" href="Evaluator.Program.html#7477" class="Function">evalProgramNU</a><a id="2220" class="Symbol">;</a><a id="2221" href="Evaluator.Program.html#7629" class="Function">evalProgramN</a><a id="2233" class="Symbol">;</a><a id="2234" href="Evaluator.Program.html#8465" class="Function">typeCheckProgramN</a><a id="2251" class="Symbol">)</a>
<a id="2253" class="Keyword">open</a> <a id="2258" href="Evaluator.Program.html#3965" class="Module">EvalMode</a>
<a id="2267" class="Keyword">import</a> <a id="2274" href="Evaluator.Term.html" class="Module">Evaluator.Term</a> <a id="2289" class="Comment">-- Needed only to generate the compiled Haskell file</a>

<a id="2343" class="Comment">-- There&#39;s a long prelude here that could go in a different file but</a>
<a id="2412" class="Comment">-- currently it&#39;s only used here</a>

<a id="2446" class="Comment">-- Text Stuff</a>

<a id="2461" class="Keyword">postulate</a>
  <a id="putStrLn"></a><a id="2473" href="Main.html#2473" class="Postulate">putStrLn</a> <a id="2482" class="Symbol">:</a> <a id="2484" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2491" class="Symbol">→</a> <a id="2493" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2496" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="2499" class="Symbol">{-#</a> <a id="2503" class="Keyword">FOREIGN</a> <a id="2511" class="Pragma">GHC</a> <a id="2515" class="Pragma">import</a> <a id="2522" class="Pragma">qualified</a> <a id="2532" class="Pragma">Data.Text.IO</a> <a id="2545" class="Pragma">as</a> <a id="2548" class="Pragma">TextIO</a> <a id="2555" class="Symbol">#-}</a>
<a id="2559" class="Symbol">{-#</a> <a id="2563" class="Keyword">COMPILE</a> <a id="2571" class="Keyword">GHC</a> <a id="2575" href="Main.html#2473" class="Postulate">putStrLn</a> <a id="2584" class="Pragma">=</a> <a id="2586" class="Pragma">TextIO.putStrLn</a> <a id="2602" class="Symbol">#-}</a>

<a id="2607" class="Comment">-- IO Stuff</a>

<a id="2620" class="Keyword">instance</a>
  <a id="IOMonad"></a><a id="2631" href="Main.html#2631" class="Function">IOMonad</a> <a id="2639" class="Symbol">:</a> <a id="2641" href="Utils.html#2862" class="Record">Monad</a> <a id="2647" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a>
  <a id="2652" href="Main.html#2631" class="Function">IOMonad</a> <a id="2660" class="Symbol">=</a> <a id="2662" class="Keyword">record</a> <a id="2669" class="Symbol">{</a> <a id="2671" href="Utils.html#2909" class="Field">return</a> <a id="2678" class="Symbol">=</a> <a id="2680" href="IO.Primitive.html#570" class="Postulate">IO.return</a><a id="2689" class="Symbol">;</a> <a id="2691" href="Utils.html#2937" class="Field Operator">_&gt;&gt;=_</a> <a id="2697" class="Symbol">=</a> <a id="2699" href="IO.Primitive.html#610" class="Postulate Operator">IO._&gt;&gt;=_</a> <a id="2708" class="Symbol">}</a>

<a id="2711" class="Comment">-- Parsing stuff</a>

<a id="2729" class="Keyword">postulate</a>
  <a id="FilePath"></a><a id="2741" href="Main.html#2741" class="Postulate">FilePath</a> <a id="2750" class="Symbol">:</a> <a id="2752" href="Agda.Primitive.html#388" class="Primitive">Set</a>

<a id="2757" class="Symbol">{-#</a> <a id="2761" class="Keyword">COMPILE</a> <a id="2769" class="Keyword">GHC</a> <a id="2773" href="Main.html#2741" class="Postulate">FilePath</a> <a id="2782" class="Pragma">=</a> <a id="2784" class="Pragma">type</a> <a id="2789" class="Pragma">FilePath</a> <a id="2798" class="Symbol">#-}</a>

<a id="2803" class="Comment">-- System.Exit stuff</a>

<a id="2825" class="Keyword">postulate</a>
  <a id="exitFailure"></a><a id="2837" href="Main.html#2837" class="Postulate">exitFailure</a> <a id="2849" class="Symbol">:</a> <a id="2851" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2854" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="exitSuccess"></a><a id="2858" href="Main.html#2858" class="Postulate">exitSuccess</a> <a id="2870" class="Symbol">:</a> <a id="2872" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2875" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="2878" class="Symbol">{-#</a> <a id="2882" class="Keyword">FOREIGN</a> <a id="2890" class="Pragma">GHC</a> <a id="2894" class="Pragma">import</a> <a id="2901" class="Pragma">System.Exit</a> <a id="2913" class="Symbol">#-}</a>
<a id="2917" class="Symbol">{-#</a> <a id="2921" class="Keyword">COMPILE</a> <a id="2929" class="Keyword">GHC</a> <a id="2933" href="Main.html#2858" class="Postulate">exitSuccess</a> <a id="2945" class="Pragma">=</a> <a id="2947" class="Pragma">exitSuccess</a> <a id="2959" class="Symbol">#-}</a>
<a id="2963" class="Symbol">{-#</a> <a id="2967" class="Keyword">COMPILE</a> <a id="2975" class="Keyword">GHC</a> <a id="2979" href="Main.html#2837" class="Postulate">exitFailure</a> <a id="2991" class="Pragma">=</a> <a id="2993" class="Pragma">exitFailure</a> <a id="3005" class="Symbol">#-}</a>

<a id="3010" class="Comment">-- Input Options stuff</a>
<a id="3033" class="Symbol">{-#</a> <a id="3037" class="Keyword">FOREIGN</a> <a id="3045" class="Pragma">GHC</a> <a id="3049" class="Pragma">import</a> <a id="3056" class="Pragma">Opts</a> <a id="3061" class="Symbol">#-}</a>

<a id="3066" class="Keyword">data</a> <a id="EvalOptions"></a><a id="3071" href="Main.html#3071" class="Datatype">EvalOptions</a> <a id="3083" class="Symbol">(</a><a id="3084" href="Main.html#3084" class="Bound">A</a> <a id="3086" class="Symbol">:</a> <a id="3088" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3091" class="Symbol">)</a> <a id="3093" class="Symbol">:</a> <a id="3095" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3099" class="Keyword">where</a>
  <a id="EvalOptions.EvalOpts"></a><a id="3107" href="Main.html#3107" class="InductiveConstructor">EvalOpts</a> <a id="3116" class="Symbol">:</a> <a id="3118" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3124" class="Symbol">→</a> <a id="3126" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3133" class="Symbol">→</a> <a id="3135" href="Evaluator.Program.html#3965" class="Datatype">EvalMode</a> <a id="3144" class="Symbol">→</a> <a id="3146" href="Evaluator.Program.html#3759" class="Datatype">BudgetMode</a> <a id="3157" href="Main.html#3084" class="Bound">A</a> <a id="3159" class="Symbol">→</a> <a id="3161" href="Main.html#3071" class="Datatype">EvalOptions</a> <a id="3173" href="Main.html#3084" class="Bound">A</a>

<a id="3176" class="Symbol">{-#</a> <a id="3180" class="Keyword">COMPILE</a> <a id="3188" class="Keyword">GHC</a> <a id="3192" href="Main.html#3071" class="Datatype">EvalOptions</a> <a id="3204" class="Pragma">=</a> <a id="3206" class="Pragma">data</a> <a id="3211" class="Pragma">EvalOptions</a> <a id="3223" class="Pragma">(EvalOpts)</a> <a id="3234" class="Symbol">#-}</a>

<a id="3239" class="Keyword">data</a> <a id="TypecheckOptions"></a><a id="3244" href="Main.html#3244" class="Datatype">TypecheckOptions</a> <a id="3261" class="Symbol">:</a> <a id="3263" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3267" class="Keyword">where</a>
  <a id="TypecheckOptions.TCOpts"></a><a id="3275" href="Main.html#3275" class="InductiveConstructor">TCOpts</a> <a id="3282" class="Symbol">:</a> <a id="3284" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3290" class="Symbol">→</a> <a id="3292" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3299" class="Symbol">→</a> <a id="3301" href="Main.html#3244" class="Datatype">TypecheckOptions</a>

<a id="3319" class="Symbol">{-#</a> <a id="3323" class="Keyword">COMPILE</a> <a id="3331" class="Keyword">GHC</a> <a id="3335" href="Main.html#3244" class="Datatype">TypecheckOptions</a> <a id="3352" class="Pragma">=</a> <a id="3354" class="Pragma">data</a> <a id="3359" class="Pragma">TypecheckOptions</a> <a id="3376" class="Pragma">(TCOpts)</a> <a id="3385" class="Symbol">#-}</a>

<a id="3390" class="Keyword">data</a> <a id="Command"></a><a id="3395" href="Main.html#3395" class="Datatype">Command</a> <a id="3403" class="Symbol">(</a><a id="3404" href="Main.html#3404" class="Bound">A</a> <a id="3406" class="Symbol">:</a> <a id="3408" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3411" class="Symbol">)</a> <a id="3413" class="Symbol">:</a> <a id="3415" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3419" class="Keyword">where</a>
  <a id="Command.Eval"></a><a id="3427" href="Main.html#3427" class="InductiveConstructor">Eval</a>  <a id="3433" class="Symbol">:</a> <a id="3435" href="Main.html#3071" class="Datatype">EvalOptions</a> <a id="3447" href="Main.html#3404" class="Bound">A</a> <a id="3449" class="Symbol">→</a> <a id="3451" href="Main.html#3395" class="Datatype">Command</a> <a id="3459" href="Main.html#3404" class="Bound">A</a>
  <a id="Command.Typecheck"></a><a id="3463" href="Main.html#3463" class="InductiveConstructor">Typecheck</a> <a id="3473" class="Symbol">:</a> <a id="3475" href="Main.html#3244" class="Datatype">TypecheckOptions</a> <a id="3492" class="Symbol">→</a> <a id="3494" href="Main.html#3395" class="Datatype">Command</a> <a id="3502" href="Main.html#3404" class="Bound">A</a>

<a id="3505" class="Symbol">{-#</a> <a id="3509" class="Keyword">COMPILE</a> <a id="3517" class="Keyword">GHC</a> <a id="3521" href="Main.html#3395" class="Datatype">Command</a> <a id="3529" class="Pragma">=</a> <a id="3531" class="Pragma">data</a> <a id="3536" class="Pragma">Command</a> <a id="3544" class="Pragma">(Eval</a> <a id="3550" class="Pragma">|</a> <a id="3552" class="Pragma">Typecheck)</a> <a id="3563" class="Symbol">#-}</a>

<a id="3568" class="Symbol">{-#</a> <a id="3572" class="Keyword">FOREIGN</a> <a id="3580" class="Pragma">GHC</a> <a id="3584" class="Pragma">import</a> <a id="3591" class="Pragma">PlutusCore.Executable.Common</a>  <a id="3621" class="Symbol">#-}</a>
<a id="3625" class="Symbol">{-#</a> <a id="3629" class="Keyword">FOREIGN</a> <a id="3637" class="Pragma">GHC</a> <a id="3641" class="Pragma">import</a> <a id="3648" class="Pragma">PlutusCore.Executable.Parsers</a> <a id="3678" class="Symbol">#-}</a>

<a id="3683" class="Keyword">postulate</a>
   <a id="execP"></a><a id="3696" href="Main.html#3696" class="Postulate">execP</a> <a id="3702" class="Symbol">:</a> <a id="3704" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3707" class="Symbol">(</a><a id="3708" href="Main.html#3395" class="Datatype">Command</a> <a id="3716" href="Cost.Raw.html#5784" class="Function">RawCostModel</a><a id="3728" class="Symbol">)</a>
   <a id="parse"></a><a id="3733" href="Main.html#3733" class="Postulate">parse</a> <a id="3739" class="Symbol">:</a> <a id="3741" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3748" class="Symbol">→</a> <a id="3750" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3756" class="Symbol">→</a> <a id="3758" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3761" href="Evaluator.Program.html#2261" class="Postulate">ProgramN</a>
   <a id="parseU"></a><a id="3773" href="Main.html#3773" class="Postulate">parseU</a> <a id="3780" class="Symbol">:</a> <a id="3782" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3789" class="Symbol">→</a> <a id="3791" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3797" class="Symbol">→</a> <a id="3799" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3802" href="Evaluator.Program.html#2381" class="Postulate">ProgramNU</a>

<a id="3813" class="Symbol">{-#</a> <a id="3817" class="Keyword">COMPILE</a> <a id="3825" class="Keyword">GHC</a> <a id="3829" href="Main.html#3696" class="Postulate">execP</a> <a id="3835" class="Pragma">=</a> <a id="3837" class="Pragma">execP</a> <a id="3843" class="Symbol">#-}</a>
<a id="3847" class="Symbol">{-#</a> <a id="3851" class="Keyword">COMPILE</a> <a id="3859" class="Keyword">GHC</a> <a id="3863" href="Main.html#3733" class="Postulate">parse</a> <a id="3869" class="Pragma">=</a> <a id="3871" class="Pragma">readProgram</a> <a id="3883" class="Symbol">#-}</a>
<a id="3887" class="Symbol">{-#</a> <a id="3891" class="Keyword">COMPILE</a> <a id="3899" class="Keyword">GHC</a> <a id="3903" href="Main.html#3773" class="Postulate">parseU</a> <a id="3910" class="Pragma">=</a> <a id="3912" class="Pragma">readProgram</a> <a id="3924" class="Symbol">#-}</a>

<a id="evalInput"></a><a id="3929" href="Main.html#3929" class="Function">evalInput</a> <a id="3939" class="Symbol">:</a> <a id="3941" href="Evaluator.Program.html#3965" class="Datatype">EvalMode</a> <a id="3950" class="Symbol">→</a>  <a id="3953" href="Evaluator.Program.html#3759" class="Datatype">BudgetMode</a> <a id="3964" href="Cost.Raw.html#5784" class="Function">RawCostModel</a> <a id="3977" class="Symbol">→</a> <a id="3979" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3986" class="Symbol">→</a> <a id="3988" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3994" class="Symbol">→</a> <a id="3996" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3999" class="Symbol">(</a><a id="4000" href="Utils.html#1125" class="Datatype">Either</a> <a id="4007" href="Evaluator.Base.html#1239" class="Datatype">ERROR</a> <a id="4013" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="4019" class="Symbol">)</a>
<a id="4021" href="Main.html#3929" class="Function">evalInput</a> <a id="4031" href="Evaluator.Program.html#3988" class="InductiveConstructor">U</a> <a id="4033" href="Main.html#4033" class="Bound">bm</a> <a id="4036" href="Main.html#4036" class="Bound">fmt</a> <a id="4040" href="Main.html#4040" class="Bound">inp</a> <a id="4044" class="Symbol">=</a> <a id="4046" href="Utils.html#3045" class="Function">fmap</a> <a id="4051" class="Symbol">(</a><a id="4052" href="Evaluator.Program.html#7477" class="Function">evalProgramNU</a> <a id="4066" href="Main.html#4033" class="Bound">bm</a><a id="4068" class="Symbol">)</a> <a id="4070" class="Symbol">(</a><a id="4071" href="Main.html#3773" class="Postulate">parseU</a> <a id="4078" href="Main.html#4036" class="Bound">fmt</a> <a id="4082" href="Main.html#4040" class="Bound">inp</a><a id="4085" class="Symbol">)</a>
<a id="4087" href="Main.html#3929" class="CatchallClause Function">evalInput</a><a id="4096" class="CatchallClause"> </a><a id="4097" href="Main.html#4097" class="CatchallClause Bound">m</a><a id="4098" class="CatchallClause"> </a><a id="4099" class="CatchallClause Symbol">_</a><a id="4100" class="CatchallClause"> </a><a id="4101" href="Main.html#4101" class="CatchallClause Bound">fmt</a><a id="4104" class="CatchallClause"> </a><a id="4105" href="Main.html#4105" class="CatchallClause Bound">inp</a>  <a id="4110" class="Symbol">=</a> <a id="4112" href="Utils.html#3045" class="Function">fmap</a> <a id="4117" class="Symbol">(</a><a id="4118" href="Evaluator.Program.html#7629" class="Function">evalProgramN</a> <a id="4131" href="Main.html#4097" class="Bound">m</a><a id="4132" class="Symbol">)</a> <a id="4134" class="Symbol">(</a><a id="4135" href="Main.html#3733" class="Postulate">parse</a> <a id="4141" href="Main.html#4101" class="Bound">fmt</a> <a id="4145" href="Main.html#4105" class="Bound">inp</a><a id="4148" class="Symbol">)</a>

<a id="tcInput"></a><a id="4151" href="Main.html#4151" class="Function">tcInput</a> <a id="4159" class="Symbol">:</a> <a id="4161" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="4168" class="Symbol">→</a> <a id="4170" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="4176" class="Symbol">→</a> <a id="4178" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4181" class="Symbol">(</a><a id="4182" href="Utils.html#1125" class="Datatype">Either</a> <a id="4189" href="Evaluator.Base.html#1239" class="Datatype">ERROR</a> <a id="4195" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="4201" class="Symbol">)</a>
<a id="4203" href="Main.html#4151" class="Function">tcInput</a> <a id="4211" href="Main.html#4211" class="Bound">fmt</a> <a id="4215" href="Main.html#4215" class="Bound">inp</a> <a id="4219" class="Symbol">=</a> <a id="4221" href="Utils.html#3045" class="Function">fmap</a> <a id="4226" href="Evaluator.Program.html#8465" class="Function">typeCheckProgramN</a> <a id="4244" class="Symbol">(</a><a id="4245" href="Main.html#3733" class="Postulate">parse</a> <a id="4251" href="Main.html#4211" class="Bound">fmt</a> <a id="4255" href="Main.html#4215" class="Bound">inp</a><a id="4258" class="Symbol">)</a>

<a id="main&#39;"></a><a id="4261" href="Main.html#4261" class="Function">main&#39;</a> <a id="4267" class="Symbol">:</a> <a id="4269" href="Main.html#3395" class="Datatype">Command</a> <a id="4277" href="Cost.Raw.html#5784" class="Function">RawCostModel</a> <a id="4290" class="Symbol">→</a> <a id="4292" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4295" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="4297" href="Main.html#4261" class="Function">main&#39;</a> <a id="4303" class="Symbol">(</a><a id="4304" href="Main.html#3427" class="InductiveConstructor">Eval</a> <a id="4309" class="Symbol">(</a><a id="4310" href="Main.html#3107" class="InductiveConstructor">EvalOpts</a> <a id="4319" href="Main.html#4319" class="Bound">inp</a> <a id="4323" href="Main.html#4323" class="Bound">fmt</a> <a id="4327" href="Main.html#4327" class="Bound">m</a> <a id="4329" href="Main.html#4329" class="Bound">bm</a><a id="4331" class="Symbol">))</a> <a id="4334" class="Symbol">=</a> <a id="4336" class="Keyword">do</a>
  <a id="4341" href="Utils.html#1182" class="InductiveConstructor">inj₂</a> <a id="4346" href="Main.html#4346" class="Bound">s</a> <a id="4348" href="Utils.html#2937" class="Field Operator">←</a> <a id="4350" href="Main.html#3929" class="Function">evalInput</a> <a id="4360" href="Main.html#4327" class="Bound">m</a> <a id="4362" href="Main.html#4329" class="Bound">bm</a> <a id="4365" href="Main.html#4323" class="Bound">fmt</a> <a id="4369" href="Main.html#4319" class="Bound">inp</a>
    <a id="4377" class="Keyword">where</a>
    <a id="4387" href="Utils.html#1158" class="InductiveConstructor">inj₁</a> <a id="4392" href="Main.html#4392" class="Bound">e</a> <a id="4394" class="Symbol">→</a> <a id="4396" href="Main.html#2473" class="Postulate">putStrLn</a> <a id="4405" class="Symbol">(</a><a id="4406" href="Evaluator.Base.html#2615" class="Function">reportError</a> <a id="4418" href="Main.html#4392" class="Bound">e</a><a id="4419" class="Symbol">)</a> <a id="4421" href="Utils.html#2981" class="Function Operator">&gt;&gt;</a> <a id="4424" href="Main.html#2837" class="Postulate">exitFailure</a>
  <a id="4438" href="Main.html#2473" class="Postulate">putStrLn</a> <a id="4447" href="Main.html#4346" class="Bound">s</a> <a id="4449" href="Utils.html#2981" class="Function Operator">&gt;&gt;</a> <a id="4452" href="Main.html#2858" class="Postulate">exitSuccess</a>
<a id="4464" href="Main.html#4261" class="Function">main&#39;</a> <a id="4470" class="Symbol">(</a><a id="4471" href="Main.html#3463" class="InductiveConstructor">Typecheck</a> <a id="4481" class="Symbol">(</a><a id="4482" href="Main.html#3275" class="InductiveConstructor">TCOpts</a> <a id="4489" href="Main.html#4489" class="Bound">inp</a> <a id="4493" href="Main.html#4493" class="Bound">fmt</a><a id="4496" class="Symbol">))</a>    <a id="4502" class="Symbol">=</a> <a id="4504" class="Keyword">do</a>
  <a id="4509" href="Utils.html#1182" class="InductiveConstructor">inj₂</a> <a id="4514" href="Main.html#4514" class="Bound">s</a> <a id="4516" href="Utils.html#2937" class="Field Operator">←</a> <a id="4518" href="Main.html#4151" class="Function">tcInput</a> <a id="4526" href="Main.html#4493" class="Bound">fmt</a> <a id="4530" href="Main.html#4489" class="Bound">inp</a>
    <a id="4538" class="Keyword">where</a>
    <a id="4548" href="Utils.html#1158" class="InductiveConstructor">inj₁</a> <a id="4553" href="Main.html#4553" class="Bound">e</a> <a id="4555" class="Symbol">→</a> <a id="4557" href="Main.html#2473" class="Postulate">putStrLn</a> <a id="4566" class="Symbol">(</a><a id="4567" href="Evaluator.Base.html#2615" class="Function">reportError</a> <a id="4579" href="Main.html#4553" class="Bound">e</a><a id="4580" class="Symbol">)</a> <a id="4582" href="Utils.html#2981" class="Function Operator">&gt;&gt;</a> <a id="4585" href="Main.html#2837" class="Postulate">exitFailure</a>
  <a id="4599" href="Main.html#2473" class="Postulate">putStrLn</a> <a id="4608" href="Main.html#4514" class="Bound">s</a> <a id="4610" href="Utils.html#2981" class="Function Operator">&gt;&gt;</a> <a id="4613" href="Main.html#2858" class="Postulate">exitSuccess</a>

<a id="main"></a><a id="4626" href="Main.html#4626" class="Function">main</a> <a id="4631" class="Symbol">:</a> <a id="4633" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4636" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="4638" href="Main.html#4626" class="Function">main</a> <a id="4643" class="Symbol">=</a> <a id="4645" href="Main.html#3696" class="Postulate">execP</a> <a id="4651" href="Utils.html#2937" class="Field Operator">&gt;&gt;=</a> <a id="4655" href="Main.html#4261" class="Function">main&#39;</a>
</pre>

    </section>
  </body>
</html>