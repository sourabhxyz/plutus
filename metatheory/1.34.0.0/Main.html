<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Main</title>
    <link rel="stylesheet" href="./Agda.css">
  </head>
  <body>
    <h1>Main</h1>
    <section>
      <pre class="Agda"><a id="38" class="Keyword">module</a> <a id="45" href="Main.html" class="Module">Main</a> <a id="50" class="Keyword">where</a>

<a id="57" class="Keyword">open</a> <a id="62" class="Keyword">import</a> <a id="69" href="Agda.Builtin.IO.html" class="Module">Agda.Builtin.IO</a> <a id="85" class="Keyword">using</a> <a id="91" class="Symbol">(</a><a id="92" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a><a id="94" class="Symbol">)</a>
<a id="96" class="Keyword">import</a> <a id="103" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="116" class="Symbol">as</a> <a id="119" class="Module">IO</a> <a id="122" class="Keyword">using</a> <a id="128" class="Symbol">(</a><a id="129" href="IO.Primitive.html#570" class="Postulate">return</a><a id="135" class="Symbol">;</a><a id="136" href="IO.Primitive.html#610" class="Postulate Operator">_&gt;&gt;=_</a><a id="141" class="Symbol">)</a>
<a id="143" class="Keyword">open</a> <a id="148" class="Keyword">import</a> <a id="155" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a> <a id="173" class="Keyword">using</a> <a id="179" class="Symbol">(</a><a id="180" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="181" class="Symbol">;</a><a id="182" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="184" class="Symbol">)</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Function.html" class="Module">Function</a> <a id="207" class="Keyword">using</a> <a id="213" class="Symbol">(</a><a id="214" href="Function.Base.html#1928" class="Function Operator">_$_</a><a id="217" class="Symbol">;</a><a id="218" href="Function.Base.html#1040" class="Function Operator">_∘_</a><a id="221" class="Symbol">)</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Data.String.html" class="Module">Data.String</a> <a id="247" class="Keyword">using</a> <a id="253" class="Symbol">(</a><a id="254" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="260" class="Symbol">;</a><a id="261" href="Data.String.Base.html#2375" class="Function Operator">_++_</a><a id="265" class="Symbol">)</a>
<a id="267" class="Keyword">open</a> <a id="272" class="Keyword">import</a> <a id="279" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a>
<a id="296" class="Keyword">open</a> <a id="301" class="Keyword">import</a> <a id="308" href="Agda.Builtin.Int.html" class="Module">Agda.Builtin.Int</a> <a id="325" class="Keyword">using</a> <a id="331" class="Symbol">(</a><a id="332" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">pos</a><a id="335" class="Symbol">)</a>
<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="Data.Integer.Show.html" class="Module">Data.Integer.Show</a> <a id="367" class="Keyword">using</a> <a id="373" class="Symbol">(</a><a id="374" href="Data.Integer.Show.html#615" class="Function">show</a><a id="378" class="Symbol">)</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Data.Product.html" class="Module">Data.Product</a> <a id="405" class="Keyword">using</a> <a id="411" class="Symbol">(</a><a id="412" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a><a id="413" class="Symbol">)</a> <a id="415" class="Keyword">renaming</a> <a id="424" class="Symbol">(</a><a id="425" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="429" class="Symbol">to</a> <a id="432" class="InductiveConstructor Operator">_,,_</a><a id="436" class="Symbol">)</a>
<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="460" class="Keyword">using</a> <a id="466" class="Symbol">(</a><a id="467" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="471" class="Symbol">)</a>
<a id="473" class="Keyword">open</a> <a id="478" class="Keyword">import</a> <a id="485" href="Data.List.html" class="Module">Data.List</a> <a id="495" class="Keyword">using</a> <a id="501" class="Symbol">(</a><a id="502" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="506" class="Symbol">)</a>
<a id="508" class="Keyword">open</a> <a id="513" class="Keyword">import</a> <a id="520" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="531" class="Keyword">using</a> <a id="537" class="Symbol">(</a><a id="538" href="Data.Empty.html#535" class="Datatype">⊥</a><a id="539" class="Symbol">)</a>

<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Type.html" class="Module">Type</a> <a id="559" class="Keyword">using</a> <a id="565" class="Symbol">(</a><a id="566" href="Type.html#515" class="Datatype">Ctx⋆</a><a id="570" class="Symbol">;</a><a id="571" href="Type.html#534" class="InductiveConstructor">∅</a><a id="572" class="Symbol">;</a><a id="573" href="Type.html#545" class="InductiveConstructor Operator">_,⋆_</a><a id="577" class="Symbol">)</a>
<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="Check.html" class="Module">Check</a> <a id="597" class="Keyword">using</a> <a id="603" class="Symbol">(</a><a id="604" href="Check.html#2131" class="Datatype">TypeError</a><a id="613" class="Symbol">;</a><a id="614" href="Check.html#17755" class="Function">inferType</a><a id="623" class="Symbol">;</a><a id="624" href="Check.html#8676" class="Function">inferKind</a><a id="633" class="Symbol">;</a><a id="634" href="Check.html#3308" class="Function">decKind</a><a id="641" class="Symbol">;</a><a id="642" href="Check.html#8600" class="Function">checkKind</a><a id="651" class="Symbol">;</a><a id="652" href="Check.html#17661" class="Function">checkType</a><a id="661" class="Symbol">)</a>
<a id="663" class="Keyword">open</a> <a id="668" href="Check.html#2131" class="Module">TypeError</a> <a id="678" class="Comment">-- Bring all TypeError constructors in scope.</a>

<a id="725" class="Keyword">open</a> <a id="730" class="Keyword">import</a> <a id="737" href="Scoped.Extrication.html" class="Module">Scoped.Extrication</a> <a id="756" class="Keyword">using</a> <a id="762" class="Symbol">(</a><a id="763" href="Scoped.Extrication.html#1316" class="Function">extricateNf⋆</a><a id="775" class="Symbol">;</a><a id="776" href="Scoped.Extrication.html#3031" class="Function">extricate</a><a id="785" class="Symbol">)</a>
<a id="787" class="Keyword">open</a> <a id="792" class="Keyword">import</a> <a id="799" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a> <a id="815" class="Keyword">using</a> <a id="821" class="Symbol">(</a><a id="822" href="Type.BetaNormal.html#1044" class="Datatype Operator">_⊢Nf⋆_</a><a id="828" class="Symbol">)</a>
<a id="830" class="Keyword">import</a> <a id="837" href="Untyped.html" class="Module">Untyped</a> <a id="845" class="Symbol">as</a> <a id="848" class="Module">U</a> <a id="850" class="Keyword">using</a> <a id="856" class="Symbol">(</a><a id="857" href="Untyped.html#1671" class="Datatype Operator">_⊢</a><a id="859" class="Symbol">;</a><a id="860" href="Untyped.html#6195" class="Function">scopeCheckU0</a><a id="872" class="Symbol">;</a><a id="873" href="Untyped.html#4888" class="Function">extricateU0</a><a id="884" class="Symbol">;</a><a id="885" href="Untyped.html#6378" class="Function">decUTm</a><a id="891" class="Symbol">)</a>
<a id="893" class="Keyword">import</a> <a id="900" href="Untyped.CEKWithCost.html" class="Module">Untyped.CEKWithCost</a> <a id="920" class="Symbol">as</a> <a id="923" class="Module">U</a> <a id="925" class="Keyword">using</a> <a id="931" class="Symbol">(</a><a id="932" href="Untyped.CEKWithCost.html#6609" class="Function">stepperC</a><a id="940" class="Symbol">)</a>
<a id="942" class="Keyword">open</a> <a id="947" class="Keyword">import</a> <a id="954" href="Cost.Base.html" class="Module">Cost.Base</a>
<a id="964" class="Keyword">open</a> <a id="969" class="Keyword">import</a> <a id="976" href="Cost.html" class="Module">Cost</a> <a id="981" class="Keyword">using</a> <a id="987" class="Symbol">(</a><a id="988" href="Cost.html#4635" class="Function">machineParameters</a><a id="1005" class="Symbol">;</a><a id="1006" href="Cost.html#6828" class="Function">tallyingMachineParameters</a><a id="1031" class="Symbol">;</a><a id="1032" href="Cost.html#4849" class="Function">countingReport</a><a id="1046" class="Symbol">;</a><a id="1047" href="Cost.html#7079" class="Function">tallyingReport</a><a id="1061" class="Symbol">)</a>
<a id="1063" class="Keyword">open</a> <a id="1068" class="Keyword">import</a> <a id="1075" href="Cost.Raw.html" class="Module">Cost.Raw</a> <a id="1084" class="Keyword">using</a> <a id="1090" class="Symbol">(</a><a id="1091" href="Cost.Raw.html#5784" class="Function">RawCostModel</a><a id="1103" class="Symbol">)</a>
<a id="1105" class="Keyword">open</a> <a id="1110" class="Keyword">import</a> <a id="1117" href="Cost.Model.html" class="Module">Cost.Model</a> <a id="1128" class="Keyword">using</a> <a id="1134" class="Symbol">(</a><a id="1135" href="Cost.Model.html#9634" class="Function">createMap</a><a id="1144" class="Symbol">)</a>
<a id="1146" class="Keyword">import</a> <a id="1153" href="RawU.html" class="Module">RawU</a> <a id="1158" class="Symbol">as</a> <a id="1161" class="Module">U</a> <a id="1163" class="Keyword">using</a> <a id="1169" class="Symbol">(</a><a id="1170" href="RawU.html#6172" class="Datatype">Untyped</a><a id="1177" class="Symbol">)</a>

<a id="1180" class="Keyword">open</a> <a id="1185" class="Keyword">import</a> <a id="1192" href="Untyped.CEK.html" class="Module">Untyped.CEK</a> <a id="1204" class="Symbol">as</a> <a id="1207" class="Module">U</a> <a id="1209" class="Keyword">using</a> <a id="1215" class="Symbol">(</a><a id="1216" href="Untyped.CEK.html#23475" class="Function">stepper</a><a id="1223" class="Symbol">;</a><a id="1224" href="Untyped.CEK.html#1178" class="Datatype">Stack</a><a id="1229" class="Symbol">;</a><a id="1230" href="Untyped.CEK.html#1208" class="InductiveConstructor">ε</a><a id="1231" class="Symbol">;</a><a id="1232" href="Untyped.CEK.html#1281" class="Datatype">Env</a><a id="1235" class="Symbol">;</a><a id="1236" href="Untyped.CEK.html#1305" class="InductiveConstructor">[]</a><a id="1238" class="Symbol">;</a><a id="1239" href="Untyped.CEK.html#3540" class="Datatype">State</a><a id="1244" class="Symbol">)</a>
<a id="1246" class="Keyword">open</a> <a id="1251" href="Untyped.CEK.html#3540" class="Module">U.State</a>

<a id="1260" class="Keyword">open</a> <a id="1265" class="Keyword">import</a> <a id="1272" href="Raw.html" class="Module">Raw</a> <a id="1276" class="Keyword">using</a> <a id="1282" class="Symbol">(</a><a id="1283" href="Raw.html#1435" class="Datatype">RawTm</a><a id="1288" class="Symbol">;</a><a id="1289" href="Raw.html#810" class="Datatype">RawTy</a><a id="1294" class="Symbol">;</a><a id="1295" href="Raw.html#5734" class="Function">rawPrinter</a><a id="1305" class="Symbol">;</a><a id="1306" href="Raw.html#4705" class="Function">rawTyPrinter</a><a id="1318" class="Symbol">;</a><a id="1319" href="Raw.html#2639" class="Function">decRTy</a><a id="1325" class="Symbol">;</a><a id="1326" href="Raw.html#3452" class="Function">decRTm</a><a id="1332" class="Symbol">)</a>
<a id="1334" class="Keyword">open</a> <a id="1339" class="Keyword">import</a> <a id="1346" href="Scoped.html" class="Module">Scoped</a> <a id="1353" class="Keyword">using</a> <a id="1359" class="Symbol">(</a><a id="1360" href="Scoped.html#7729" class="Postulate">FreeVariableError</a><a id="1377" class="Symbol">;</a><a id="1378" href="Scoped.html#7824" class="Datatype">ScopeError</a><a id="1388" class="Symbol">;</a><a id="1389" href="Scoped.html#7873" class="InductiveConstructor">freeVariableError</a><a id="1406" class="Symbol">;</a><a id="1407" href="Scoped.html#10960" class="Function">extricateScopeTy</a><a id="1423" class="Symbol">;</a><a id="1424" href="Scoped.html#6896" class="Datatype">ScopedTm</a><a id="1432" class="Symbol">;</a><a id="1433" href="Scoped.html#1414" class="Datatype">Weirdℕ</a><a id="1439" class="Symbol">;</a><a id="1440" href="Scoped.html#9725" class="Function">scopeCheckTm</a><a id="1452" class="Symbol">;</a><a id="1453" href="Scoped.html#4359" class="Function">shifter</a><a id="1460" class="Symbol">;</a><a id="1461" href="Scoped.html#6018" class="Function">unshifter</a><a id="1470" class="Symbol">;</a><a id="1471" href="Scoped.html#11939" class="Function">extricateScope</a><a id="1485" class="Symbol">;</a><a id="1486" href="Scoped.html#5193" class="Function">unshifterTy</a><a id="1497" class="Symbol">;</a><a id="1498" href="Scoped.html#8556" class="Function">scopeCheckTy</a><a id="1510" class="Symbol">;</a><a id="1511" href="Scoped.html#3558" class="Function">shifterTy</a><a id="1520" class="Symbol">)</a>
<a id="1522" class="Keyword">open</a> <a id="1527" href="Scoped.html#1414" class="Module">Weirdℕ</a> <a id="1534" class="Comment">-- Bring Weirdℕ constructors in scope</a>
<a id="1572" class="Keyword">open</a> <a id="1577" class="Keyword">import</a> <a id="1584" href="Utils.html" class="Module">Utils</a> <a id="1590" class="Keyword">using</a> <a id="1596" class="Symbol">(</a><a id="1597" href="Utils.html#1125" class="Datatype">Either</a><a id="1603" class="Symbol">;</a><a id="1604" href="Utils.html#1158" class="InductiveConstructor">inj₁</a><a id="1608" class="Symbol">;</a><a id="1609" href="Utils.html#1182" class="InductiveConstructor">inj₂</a><a id="1613" class="Symbol">;</a><a id="1614" href="Utils.html#3696" class="Function">withE</a><a id="1619" class="Symbol">;</a><a id="1620" href="Utils.html#7297" class="Datatype">Kind</a><a id="1624" class="Symbol">;</a><a id="1625" href="Utils.html#7316" class="InductiveConstructor">*</a><a id="1626" class="Symbol">;</a><a id="1627" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="1632" class="Symbol">;</a><a id="1633" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1640" class="Symbol">;</a><a id="1641" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="1645" class="Symbol">;</a><a id="1646" href="Utils.html#2862" class="Record">Monad</a><a id="1651" class="Symbol">;</a><a id="1652" href="Utils.html#4355" class="Datatype">RuntimeError</a><a id="1664" class="Symbol">;</a><a id="1665" href="Utils.html#3811" class="Function">dec2Either</a><a id="1675" class="Symbol">;</a><a id="1676" href="Utils.html#4001" class="InductiveConstructor Operator">_,_</a><a id="1679" class="Symbol">)</a>
<a id="1681" class="Keyword">open</a> <a id="1686" href="Utils.html#4355" class="Module">RuntimeError</a>
<a id="1699" class="Keyword">open</a> <a id="1704" href="Utils.html#2862" class="Module">Monad</a> <a id="1710" class="Symbol"></a>

<a id="1719" class="Keyword">open</a> <a id="1724" class="Keyword">import</a> <a id="1731" href="Algorithmic.html" class="Module">Algorithmic</a> <a id="1743" class="Keyword">using</a> <a id="1749" class="Symbol">(</a><a id="1750" href="Algorithmic.html#5277" class="Datatype Operator">_⊢_</a><a id="1753" class="Symbol">;</a><a id="1754" href="Algorithmic.html#1667" class="InductiveConstructor">∅</a><a id="1755" class="Symbol">;</a><a id="1756" href="Algorithmic.html#7621" class="InductiveConstructor">error</a><a id="1761" class="Symbol">)</a>

<a id="1764" class="Keyword">open</a> <a id="1769" class="Keyword">import</a> <a id="1776" href="Algorithmic.CK.html" class="Module">Algorithmic.CK</a> <a id="1791" class="Keyword">using</a> <a id="1797" class="Symbol">(</a><a id="1798" href="Algorithmic.CK.html#4610" class="Function">stepper</a><a id="1805" class="Symbol">;</a><a id="1806" href="Algorithmic.CK.html#1313" class="Datatype">State</a><a id="1811" class="Symbol">;</a><a id="1812" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a><a id="1817" class="Symbol">;</a><a id="1818" href="Algorithmic.CK.html#1177" class="InductiveConstructor">ε</a><a id="1819" class="Symbol">)</a>
<a id="1821" class="Keyword">open</a> <a id="1826" href="Algorithmic.CK.html#1313" class="Module">Algorithmic.CK.State</a>

<a id="1848" class="Keyword">open</a> <a id="1853" class="Keyword">import</a> <a id="1860" href="Algorithmic.CEK.html" class="Module">Algorithmic.CEK</a> <a id="1876" class="Keyword">using</a> <a id="1882" class="Symbol">(</a><a id="1883" href="Algorithmic.CEK.html#19936" class="Function">stepper</a><a id="1890" class="Symbol">;</a><a id="1891" href="Algorithmic.CEK.html#17541" class="Datatype">State</a><a id="1896" class="Symbol">;</a><a id="1897" href="Algorithmic.CEK.html#17410" class="Datatype">Stack</a><a id="1902" class="Symbol">;</a><a id="1903" href="Algorithmic.CEK.html#17462" class="InductiveConstructor">ε</a><a id="1904" class="Symbol">;</a><a id="1905" href="Algorithmic.CEK.html#1843" class="Datatype">Env</a><a id="1908" class="Symbol">;</a><a id="1909" href="Algorithmic.CEK.html#3836" class="InductiveConstructor">[]</a><a id="1911" class="Symbol">)</a>
<a id="1913" class="Keyword">open</a> <a id="1918" href="Algorithmic.CEK.html#17541" class="Module">Algorithmic.CEK.State</a>

<a id="1941" class="Keyword">open</a> <a id="1946" class="Keyword">import</a> <a id="1953" href="Algorithmic.Erasure.html" class="Module">Algorithmic.Erasure</a> <a id="1973" class="Keyword">using</a> <a id="1979" class="Symbol">(</a><a id="1980" href="Algorithmic.Erasure.html#2235" class="Function">erase</a><a id="1985" class="Symbol">)</a>
<a id="1987" class="Keyword">import</a> <a id="1994" href="Algorithmic.Evaluation.html" class="Module">Algorithmic.Evaluation</a> <a id="2017" class="Symbol">as</a> <a id="2020" class="Module">L</a> <a id="2022" class="Keyword">using</a><a id="2027" class="Symbol">(</a><a id="2028" href="Algorithmic.Evaluation.html#2112" class="Function">stepper</a><a id="2035" class="Symbol">)</a>

<a id="2038" class="Keyword">open</a> <a id="2043" class="Keyword">import</a> <a id="2050" href="Evaluator.Base.html" class="Module">Evaluator.Base</a> <a id="2065" class="Keyword">using</a> <a id="2071" class="Symbol">(</a><a id="2072" href="Evaluator.Base.html#1239" class="Datatype">ERROR</a><a id="2077" class="Symbol">;</a><a id="2078" href="Evaluator.Base.html#2615" class="Function">reportError</a><a id="2089" class="Symbol">)</a>
<a id="2091" class="Keyword">open</a> <a id="2096" class="Keyword">import</a> <a id="2103" href="Evaluator.Program.html" class="Module">Evaluator.Program</a> <a id="2121" class="Keyword">using</a> <a id="2127" class="Symbol">(</a><a id="2128" href="Evaluator.Program.html#2155" class="Postulate">Input</a><a id="2133" class="Symbol">;</a><a id="2134" href="Evaluator.Program.html#2139" class="Postulate">Format</a><a id="2140" class="Symbol">;</a><a id="2141" href="Evaluator.Program.html#3965" class="Datatype">EvalMode</a><a id="2149" class="Symbol">;</a><a id="2150" href="Evaluator.Program.html#3759" class="Datatype">BudgetMode</a><a id="2160" class="Symbol">;</a><a id="2161" href="Evaluator.Program.html#2261" class="Postulate">ProgramN</a><a id="2169" class="Symbol">;</a><a id="2170" href="Evaluator.Program.html#2381" class="Postulate">ProgramNU</a><a id="2179" class="Symbol">;</a><a id="2180" href="Evaluator.Program.html#7477" class="Function">evalProgramNU</a><a id="2193" class="Symbol">;</a><a id="2194" href="Evaluator.Program.html#7629" class="Function">evalProgramN</a><a id="2206" class="Symbol">;</a><a id="2207" href="Evaluator.Program.html#8465" class="Function">typeCheckProgramN</a><a id="2224" class="Symbol">)</a>
<a id="2226" class="Keyword">open</a> <a id="2231" href="Evaluator.Program.html#3965" class="Module">EvalMode</a>
<a id="2240" class="Keyword">import</a> <a id="2247" href="Evaluator.Term.html" class="Module">Evaluator.Term</a> <a id="2262" class="Comment">-- Needed only to generate the compiled Haskell file</a>

<a id="2316" class="Comment">-- There&#39;s a long prelude here that could go in a different file but</a>
<a id="2385" class="Comment">-- currently it&#39;s only used here</a>

<a id="2419" class="Comment">-- Text Stuff</a>

<a id="2434" class="Keyword">postulate</a>
  <a id="putStrLn"></a><a id="2446" href="Main.html#2446" class="Postulate">putStrLn</a> <a id="2455" class="Symbol">:</a> <a id="2457" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2464" class="Symbol">→</a> <a id="2466" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2469" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="2472" class="Symbol">{-#</a> <a id="2476" class="Keyword">FOREIGN</a> <a id="2484" class="Pragma">GHC</a> <a id="2488" class="Pragma">import</a> <a id="2495" class="Pragma">qualified</a> <a id="2505" class="Pragma">Data.Text.IO</a> <a id="2518" class="Pragma">as</a> <a id="2521" class="Pragma">TextIO</a> <a id="2528" class="Symbol">#-}</a>
<a id="2532" class="Symbol">{-#</a> <a id="2536" class="Keyword">COMPILE</a> <a id="2544" class="Keyword">GHC</a> <a id="2548" href="Main.html#2446" class="Postulate">putStrLn</a> <a id="2557" class="Pragma">=</a> <a id="2559" class="Pragma">TextIO.putStrLn</a> <a id="2575" class="Symbol">#-}</a>

<a id="2580" class="Comment">-- IO Stuff</a>

<a id="2593" class="Keyword">instance</a>
  <a id="IOMonad"></a><a id="2604" href="Main.html#2604" class="Function">IOMonad</a> <a id="2612" class="Symbol">:</a> <a id="2614" href="Utils.html#2862" class="Record">Monad</a> <a id="2620" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a>
  <a id="2625" href="Main.html#2604" class="Function">IOMonad</a> <a id="2633" class="Symbol">=</a> <a id="2635" class="Keyword">record</a> <a id="2642" class="Symbol">{</a> <a id="2644" href="Utils.html#2909" class="Field">return</a> <a id="2651" class="Symbol">=</a> <a id="2653" href="IO.Primitive.html#570" class="Postulate">IO.return</a><a id="2662" class="Symbol">;</a> <a id="2664" href="Utils.html#2937" class="Field Operator">_&gt;&gt;=_</a> <a id="2670" class="Symbol">=</a> <a id="2672" href="IO.Primitive.html#610" class="Postulate Operator">IO._&gt;&gt;=_</a> <a id="2681" class="Symbol">}</a>

<a id="2684" class="Comment">-- Parsing stuff</a>

<a id="2702" class="Keyword">postulate</a>
  <a id="FilePath"></a><a id="2714" href="Main.html#2714" class="Postulate">FilePath</a> <a id="2723" class="Symbol">:</a> <a id="2725" href="Agda.Primitive.html#388" class="Primitive">Set</a>

<a id="2730" class="Symbol">{-#</a> <a id="2734" class="Keyword">COMPILE</a> <a id="2742" class="Keyword">GHC</a> <a id="2746" href="Main.html#2714" class="Postulate">FilePath</a> <a id="2755" class="Pragma">=</a> <a id="2757" class="Pragma">type</a> <a id="2762" class="Pragma">FilePath</a> <a id="2771" class="Symbol">#-}</a>

<a id="2776" class="Comment">-- System.Exit stuff</a>

<a id="2798" class="Keyword">postulate</a>
  <a id="exitFailure"></a><a id="2810" href="Main.html#2810" class="Postulate">exitFailure</a> <a id="2822" class="Symbol">:</a> <a id="2824" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2827" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="exitSuccess"></a><a id="2831" href="Main.html#2831" class="Postulate">exitSuccess</a> <a id="2843" class="Symbol">:</a> <a id="2845" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2848" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="2851" class="Symbol">{-#</a> <a id="2855" class="Keyword">FOREIGN</a> <a id="2863" class="Pragma">GHC</a> <a id="2867" class="Pragma">import</a> <a id="2874" class="Pragma">System.Exit</a> <a id="2886" class="Symbol">#-}</a>
<a id="2890" class="Symbol">{-#</a> <a id="2894" class="Keyword">COMPILE</a> <a id="2902" class="Keyword">GHC</a> <a id="2906" href="Main.html#2831" class="Postulate">exitSuccess</a> <a id="2918" class="Pragma">=</a> <a id="2920" class="Pragma">exitSuccess</a> <a id="2932" class="Symbol">#-}</a>
<a id="2936" class="Symbol">{-#</a> <a id="2940" class="Keyword">COMPILE</a> <a id="2948" class="Keyword">GHC</a> <a id="2952" href="Main.html#2810" class="Postulate">exitFailure</a> <a id="2964" class="Pragma">=</a> <a id="2966" class="Pragma">exitFailure</a> <a id="2978" class="Symbol">#-}</a>

<a id="2983" class="Comment">-- Input Options stuff</a>
<a id="3006" class="Symbol">{-#</a> <a id="3010" class="Keyword">FOREIGN</a> <a id="3018" class="Pragma">GHC</a> <a id="3022" class="Pragma">import</a> <a id="3029" class="Pragma">Opts</a> <a id="3034" class="Symbol">#-}</a>

<a id="3039" class="Keyword">data</a> <a id="EvalOptions"></a><a id="3044" href="Main.html#3044" class="Datatype">EvalOptions</a> <a id="3056" class="Symbol">(</a><a id="3057" href="Main.html#3057" class="Bound">A</a> <a id="3059" class="Symbol">:</a> <a id="3061" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3064" class="Symbol">)</a> <a id="3066" class="Symbol">:</a> <a id="3068" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3072" class="Keyword">where</a>
  <a id="EvalOptions.EvalOpts"></a><a id="3080" href="Main.html#3080" class="InductiveConstructor">EvalOpts</a> <a id="3089" class="Symbol">:</a> <a id="3091" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3097" class="Symbol">→</a> <a id="3099" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3106" class="Symbol">→</a> <a id="3108" href="Evaluator.Program.html#3965" class="Datatype">EvalMode</a> <a id="3117" class="Symbol">→</a> <a id="3119" href="Evaluator.Program.html#3759" class="Datatype">BudgetMode</a> <a id="3130" href="Main.html#3057" class="Bound">A</a> <a id="3132" class="Symbol">→</a> <a id="3134" href="Main.html#3044" class="Datatype">EvalOptions</a> <a id="3146" href="Main.html#3057" class="Bound">A</a>

<a id="3149" class="Symbol">{-#</a> <a id="3153" class="Keyword">COMPILE</a> <a id="3161" class="Keyword">GHC</a> <a id="3165" href="Main.html#3044" class="Datatype">EvalOptions</a> <a id="3177" class="Pragma">=</a> <a id="3179" class="Pragma">data</a> <a id="3184" class="Pragma">EvalOptions</a> <a id="3196" class="Pragma">(EvalOpts)</a> <a id="3207" class="Symbol">#-}</a>

<a id="3212" class="Keyword">data</a> <a id="TypecheckOptions"></a><a id="3217" href="Main.html#3217" class="Datatype">TypecheckOptions</a> <a id="3234" class="Symbol">:</a> <a id="3236" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3240" class="Keyword">where</a>
  <a id="TypecheckOptions.TCOpts"></a><a id="3248" href="Main.html#3248" class="InductiveConstructor">TCOpts</a> <a id="3255" class="Symbol">:</a> <a id="3257" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3263" class="Symbol">→</a> <a id="3265" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3272" class="Symbol">→</a> <a id="3274" href="Main.html#3217" class="Datatype">TypecheckOptions</a>

<a id="3292" class="Symbol">{-#</a> <a id="3296" class="Keyword">COMPILE</a> <a id="3304" class="Keyword">GHC</a> <a id="3308" href="Main.html#3217" class="Datatype">TypecheckOptions</a> <a id="3325" class="Pragma">=</a> <a id="3327" class="Pragma">data</a> <a id="3332" class="Pragma">TypecheckOptions</a> <a id="3349" class="Pragma">(TCOpts)</a> <a id="3358" class="Symbol">#-}</a>

<a id="3363" class="Keyword">data</a> <a id="Command"></a><a id="3368" href="Main.html#3368" class="Datatype">Command</a> <a id="3376" class="Symbol">(</a><a id="3377" href="Main.html#3377" class="Bound">A</a> <a id="3379" class="Symbol">:</a> <a id="3381" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3384" class="Symbol">)</a> <a id="3386" class="Symbol">:</a> <a id="3388" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3392" class="Keyword">where</a>
  <a id="Command.Eval"></a><a id="3400" href="Main.html#3400" class="InductiveConstructor">Eval</a>  <a id="3406" class="Symbol">:</a> <a id="3408" href="Main.html#3044" class="Datatype">EvalOptions</a> <a id="3420" href="Main.html#3377" class="Bound">A</a> <a id="3422" class="Symbol">→</a> <a id="3424" href="Main.html#3368" class="Datatype">Command</a> <a id="3432" href="Main.html#3377" class="Bound">A</a>
  <a id="Command.Typecheck"></a><a id="3436" href="Main.html#3436" class="InductiveConstructor">Typecheck</a> <a id="3446" class="Symbol">:</a> <a id="3448" href="Main.html#3217" class="Datatype">TypecheckOptions</a> <a id="3465" class="Symbol">→</a> <a id="3467" href="Main.html#3368" class="Datatype">Command</a> <a id="3475" href="Main.html#3377" class="Bound">A</a>

<a id="3478" class="Symbol">{-#</a> <a id="3482" class="Keyword">COMPILE</a> <a id="3490" class="Keyword">GHC</a> <a id="3494" href="Main.html#3368" class="Datatype">Command</a> <a id="3502" class="Pragma">=</a> <a id="3504" class="Pragma">data</a> <a id="3509" class="Pragma">Command</a> <a id="3517" class="Pragma">(Eval</a> <a id="3523" class="Pragma">|</a> <a id="3525" class="Pragma">Typecheck)</a> <a id="3536" class="Symbol">#-}</a>

<a id="3541" class="Symbol">{-#</a> <a id="3545" class="Keyword">FOREIGN</a> <a id="3553" class="Pragma">GHC</a> <a id="3557" class="Pragma">import</a> <a id="3564" class="Pragma">PlutusCore.Executable.Common</a>  <a id="3594" class="Symbol">#-}</a>
<a id="3598" class="Symbol">{-#</a> <a id="3602" class="Keyword">FOREIGN</a> <a id="3610" class="Pragma">GHC</a> <a id="3614" class="Pragma">import</a> <a id="3621" class="Pragma">PlutusCore.Executable.Parsers</a> <a id="3651" class="Symbol">#-}</a>

<a id="3656" class="Keyword">postulate</a>
   <a id="execP"></a><a id="3669" href="Main.html#3669" class="Postulate">execP</a> <a id="3675" class="Symbol">:</a> <a id="3677" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3680" class="Symbol">(</a><a id="3681" href="Main.html#3368" class="Datatype">Command</a> <a id="3689" href="Cost.Raw.html#5784" class="Function">RawCostModel</a><a id="3701" class="Symbol">)</a>
   <a id="parse"></a><a id="3706" href="Main.html#3706" class="Postulate">parse</a> <a id="3712" class="Symbol">:</a> <a id="3714" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3721" class="Symbol">→</a> <a id="3723" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3729" class="Symbol">→</a> <a id="3731" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3734" href="Evaluator.Program.html#2261" class="Postulate">ProgramN</a>
   <a id="parseU"></a><a id="3746" href="Main.html#3746" class="Postulate">parseU</a> <a id="3753" class="Symbol">:</a> <a id="3755" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3762" class="Symbol">→</a> <a id="3764" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3770" class="Symbol">→</a> <a id="3772" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3775" href="Evaluator.Program.html#2381" class="Postulate">ProgramNU</a>

<a id="3786" class="Symbol">{-#</a> <a id="3790" class="Keyword">COMPILE</a> <a id="3798" class="Keyword">GHC</a> <a id="3802" href="Main.html#3669" class="Postulate">execP</a> <a id="3808" class="Pragma">=</a> <a id="3810" class="Pragma">execP</a> <a id="3816" class="Symbol">#-}</a>
<a id="3820" class="Symbol">{-#</a> <a id="3824" class="Keyword">COMPILE</a> <a id="3832" class="Keyword">GHC</a> <a id="3836" href="Main.html#3706" class="Postulate">parse</a> <a id="3842" class="Pragma">=</a> <a id="3844" class="Pragma">readProgram</a> <a id="3856" class="Symbol">#-}</a>
<a id="3860" class="Symbol">{-#</a> <a id="3864" class="Keyword">COMPILE</a> <a id="3872" class="Keyword">GHC</a> <a id="3876" href="Main.html#3746" class="Postulate">parseU</a> <a id="3883" class="Pragma">=</a> <a id="3885" class="Pragma">readProgram</a> <a id="3897" class="Symbol">#-}</a>

<a id="evalInput"></a><a id="3902" href="Main.html#3902" class="Function">evalInput</a> <a id="3912" class="Symbol">:</a> <a id="3914" href="Evaluator.Program.html#3965" class="Datatype">EvalMode</a> <a id="3923" class="Symbol">→</a>  <a id="3926" href="Evaluator.Program.html#3759" class="Datatype">BudgetMode</a> <a id="3937" href="Cost.Raw.html#5784" class="Function">RawCostModel</a> <a id="3950" class="Symbol">→</a> <a id="3952" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3959" class="Symbol">→</a> <a id="3961" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3967" class="Symbol">→</a> <a id="3969" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3972" class="Symbol">(</a><a id="3973" href="Utils.html#1125" class="Datatype">Either</a> <a id="3980" href="Evaluator.Base.html#1239" class="Datatype">ERROR</a> <a id="3986" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="3992" class="Symbol">)</a>
<a id="3994" href="Main.html#3902" class="Function">evalInput</a> <a id="4004" href="Evaluator.Program.html#3988" class="InductiveConstructor">U</a> <a id="4006" href="Main.html#4006" class="Bound">bm</a> <a id="4009" href="Main.html#4009" class="Bound">fmt</a> <a id="4013" href="Main.html#4013" class="Bound">inp</a> <a id="4017" class="Symbol">=</a> <a id="4019" href="Utils.html#3045" class="Function">fmap</a> <a id="4024" class="Symbol">(</a><a id="4025" href="Evaluator.Program.html#7477" class="Function">evalProgramNU</a> <a id="4039" href="Main.html#4006" class="Bound">bm</a><a id="4041" class="Symbol">)</a> <a id="4043" class="Symbol">(</a><a id="4044" href="Main.html#3746" class="Postulate">parseU</a> <a id="4051" href="Main.html#4009" class="Bound">fmt</a> <a id="4055" href="Main.html#4013" class="Bound">inp</a><a id="4058" class="Symbol">)</a>
<a id="4060" href="Main.html#3902" class="CatchallClause Function">evalInput</a><a id="4069" class="CatchallClause"> </a><a id="4070" href="Main.html#4070" class="CatchallClause Bound">m</a><a id="4071" class="CatchallClause"> </a><a id="4072" class="CatchallClause Symbol">_</a><a id="4073" class="CatchallClause"> </a><a id="4074" href="Main.html#4074" class="CatchallClause Bound">fmt</a><a id="4077" class="CatchallClause"> </a><a id="4078" href="Main.html#4078" class="CatchallClause Bound">inp</a>  <a id="4083" class="Symbol">=</a> <a id="4085" href="Utils.html#3045" class="Function">fmap</a> <a id="4090" class="Symbol">(</a><a id="4091" href="Evaluator.Program.html#7629" class="Function">evalProgramN</a> <a id="4104" href="Main.html#4070" class="Bound">m</a><a id="4105" class="Symbol">)</a> <a id="4107" class="Symbol">(</a><a id="4108" href="Main.html#3706" class="Postulate">parse</a> <a id="4114" href="Main.html#4074" class="Bound">fmt</a> <a id="4118" href="Main.html#4078" class="Bound">inp</a><a id="4121" class="Symbol">)</a>

<a id="tcInput"></a><a id="4124" href="Main.html#4124" class="Function">tcInput</a> <a id="4132" class="Symbol">:</a> <a id="4134" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="4141" class="Symbol">→</a> <a id="4143" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="4149" class="Symbol">→</a> <a id="4151" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4154" class="Symbol">(</a><a id="4155" href="Utils.html#1125" class="Datatype">Either</a> <a id="4162" href="Evaluator.Base.html#1239" class="Datatype">ERROR</a> <a id="4168" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="4174" class="Symbol">)</a>
<a id="4176" href="Main.html#4124" class="Function">tcInput</a> <a id="4184" href="Main.html#4184" class="Bound">fmt</a> <a id="4188" href="Main.html#4188" class="Bound">inp</a> <a id="4192" class="Symbol">=</a> <a id="4194" href="Utils.html#3045" class="Function">fmap</a> <a id="4199" href="Evaluator.Program.html#8465" class="Function">typeCheckProgramN</a> <a id="4217" class="Symbol">(</a><a id="4218" href="Main.html#3706" class="Postulate">parse</a> <a id="4224" href="Main.html#4184" class="Bound">fmt</a> <a id="4228" href="Main.html#4188" class="Bound">inp</a><a id="4231" class="Symbol">)</a>

<a id="main&#39;"></a><a id="4234" href="Main.html#4234" class="Function">main&#39;</a> <a id="4240" class="Symbol">:</a> <a id="4242" href="Main.html#3368" class="Datatype">Command</a> <a id="4250" href="Cost.Raw.html#5784" class="Function">RawCostModel</a> <a id="4263" class="Symbol">→</a> <a id="4265" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4268" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="4270" href="Main.html#4234" class="Function">main&#39;</a> <a id="4276" class="Symbol">(</a><a id="4277" href="Main.html#3400" class="InductiveConstructor">Eval</a> <a id="4282" class="Symbol">(</a><a id="4283" href="Main.html#3080" class="InductiveConstructor">EvalOpts</a> <a id="4292" href="Main.html#4292" class="Bound">inp</a> <a id="4296" href="Main.html#4296" class="Bound">fmt</a> <a id="4300" href="Main.html#4300" class="Bound">m</a> <a id="4302" href="Main.html#4302" class="Bound">bm</a><a id="4304" class="Symbol">))</a> <a id="4307" class="Symbol">=</a> <a id="4309" class="Keyword">do</a>
  <a id="4314" href="Utils.html#1182" class="InductiveConstructor">inj₂</a> <a id="4319" href="Main.html#4319" class="Bound">s</a> <a id="4321" href="Utils.html#2937" class="Field Operator">←</a> <a id="4323" href="Main.html#3902" class="Function">evalInput</a> <a id="4333" href="Main.html#4300" class="Bound">m</a> <a id="4335" href="Main.html#4302" class="Bound">bm</a> <a id="4338" href="Main.html#4296" class="Bound">fmt</a> <a id="4342" href="Main.html#4292" class="Bound">inp</a>
    <a id="4350" class="Keyword">where</a>
    <a id="4360" href="Utils.html#1158" class="InductiveConstructor">inj₁</a> <a id="4365" href="Main.html#4365" class="Bound">e</a> <a id="4367" class="Symbol">→</a> <a id="4369" href="Main.html#2446" class="Postulate">putStrLn</a> <a id="4378" class="Symbol">(</a><a id="4379" href="Evaluator.Base.html#2615" class="Function">reportError</a> <a id="4391" href="Main.html#4365" class="Bound">e</a><a id="4392" class="Symbol">)</a> <a id="4394" href="Utils.html#2981" class="Function Operator">&gt;&gt;</a> <a id="4397" href="Main.html#2810" class="Postulate">exitFailure</a>
  <a id="4411" href="Main.html#2446" class="Postulate">putStrLn</a> <a id="4420" href="Main.html#4319" class="Bound">s</a> <a id="4422" href="Utils.html#2981" class="Function Operator">&gt;&gt;</a> <a id="4425" href="Main.html#2831" class="Postulate">exitSuccess</a>
<a id="4437" href="Main.html#4234" class="Function">main&#39;</a> <a id="4443" class="Symbol">(</a><a id="4444" href="Main.html#3436" class="InductiveConstructor">Typecheck</a> <a id="4454" class="Symbol">(</a><a id="4455" href="Main.html#3248" class="InductiveConstructor">TCOpts</a> <a id="4462" href="Main.html#4462" class="Bound">inp</a> <a id="4466" href="Main.html#4466" class="Bound">fmt</a><a id="4469" class="Symbol">))</a>    <a id="4475" class="Symbol">=</a> <a id="4477" class="Keyword">do</a>
  <a id="4482" href="Utils.html#1182" class="InductiveConstructor">inj₂</a> <a id="4487" href="Main.html#4487" class="Bound">s</a> <a id="4489" href="Utils.html#2937" class="Field Operator">←</a> <a id="4491" href="Main.html#4124" class="Function">tcInput</a> <a id="4499" href="Main.html#4466" class="Bound">fmt</a> <a id="4503" href="Main.html#4462" class="Bound">inp</a>
    <a id="4511" class="Keyword">where</a>
    <a id="4521" href="Utils.html#1158" class="InductiveConstructor">inj₁</a> <a id="4526" href="Main.html#4526" class="Bound">e</a> <a id="4528" class="Symbol">→</a> <a id="4530" href="Main.html#2446" class="Postulate">putStrLn</a> <a id="4539" class="Symbol">(</a><a id="4540" href="Evaluator.Base.html#2615" class="Function">reportError</a> <a id="4552" href="Main.html#4526" class="Bound">e</a><a id="4553" class="Symbol">)</a> <a id="4555" href="Utils.html#2981" class="Function Operator">&gt;&gt;</a> <a id="4558" href="Main.html#2810" class="Postulate">exitFailure</a>
  <a id="4572" href="Main.html#2446" class="Postulate">putStrLn</a> <a id="4581" href="Main.html#4487" class="Bound">s</a> <a id="4583" href="Utils.html#2981" class="Function Operator">&gt;&gt;</a> <a id="4586" href="Main.html#2831" class="Postulate">exitSuccess</a>

<a id="main"></a><a id="4599" href="Main.html#4599" class="Function">main</a> <a id="4604" class="Symbol">:</a> <a id="4606" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4609" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="4611" href="Main.html#4599" class="Function">main</a> <a id="4616" class="Symbol">=</a> <a id="4618" href="Main.html#3669" class="Postulate">execP</a> <a id="4624" href="Utils.html#2937" class="Field Operator">&gt;&gt;=</a> <a id="4628" href="Main.html#4234" class="Function">main&#39;</a>
</pre>

    </section>
  </body>
</html>