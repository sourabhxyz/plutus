<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-pragma"
      >{-# LANGUAGE LambdaCase          #-}</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE RankNTypes          #-}</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ScopedTypeVariables #-}</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ViewPatterns        #-}</span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >PlutusIR.Subst</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Subst.html#fvTerm"
	><span class="hs-identifier"
	  >fvTerm</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Subst.html#ftvTerm"
	><span class="hs-identifier"
	  >ftvTerm</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Subst.html#fvBinding"
	><span class="hs-identifier"
	  >fvBinding</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Subst.html#ftvBinding"
	><span class="hs-identifier"
	  >ftvBinding</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Subst.html#ftvTy"
	><span class="hs-identifier"
	  >ftvTy</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Subst.html#vTerm"
	><span class="hs-identifier"
	  >vTerm</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Subst.html#tvTerm"
	><span class="hs-identifier"
	  >tvTerm</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Subst.html#tvTy"
	><span class="hs-identifier"
	  >tvTy</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.html"
	><span class="hs-identifier"
	  >PlutusCore.Core</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Plated.html#typeTyVars"
	><span class="hs-identifier"
	  >typeTyVars</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.html"
	><span class="hs-identifier"
	  >PlutusCore.Core</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.Unique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.UniqueSet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>USet</span
	></span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Subst.html"
	><span class="hs-identifier"
	  >PlutusCore.Subst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Subst.html#ftvTy"
	><span class="hs-identifier"
	  >ftvTy</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Subst.html#ftvTyCtx"
	><span class="hs-identifier"
	  >ftvTyCtx</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Subst.html#tvTy"
	><span class="hs-identifier"
	  >tvTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.html"
	><span class="hs-identifier"
	  >PlutusIR.Core</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Control.Lens</span
	></span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Control.Lens.Unsound</span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Unsound</span
	></span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Traversable.html"
	><span class="hs-identifier"
	  >Data.Traversable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Traversable.html#mapAccumL"
	><span class="hs-identifier"
	  >mapAccumL</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.Unique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
	><span class="hs-identifier"
	  >HasUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier"
	  >TermUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
	><span class="hs-identifier"
	  >TypeUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.UniqueSet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#UniqueSet"
	><span class="hs-identifier"
	  >UniqueSet</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Get all the free term variables in a PIR term.</span
	></span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span id="local-6989586621679472570"
      ><span id="local-6989586621679472573"
	><span id="local-6989586621679472574"
	  ><span id="local-6989586621679472575"
	    ><span id="local-6989586621679472576"
	      ><span class="annot"
		><a href="PlutusIR.Subst.html#fvTerm"
		  ><span class="hs-identifier hs-type"
		    >fvTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472570"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><span class="hs-identifier hs-type"
		  >Traversal'</span
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472573"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472570"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472574"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472575"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472576"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472570"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span id="fvTerm"
      ><span class="annot"
	><span class="annottext"
	  >fvTerm :: forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
Traversal' (Term tyname name uni fun ann) name
</span
	  ><a href="PlutusIR.Subst.html#fvTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >fvTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
</span
	><a href="PlutusIR.Subst.html#fvTermCtx"
	><span class="hs-identifier hs-var"
	  >fvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Subst.html#fvTermCtx"
	><span class="hs-identifier hs-type"
	  >fvTermCtx</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679472588"
      ><span class="annot"
	><a href="#local-6989586621679472588"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472587"
      ><span class="annot"
	><a href="#local-6989586621679472587"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472589"
      ><span class="annot"
	><a href="#local-6989586621679472589"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472590"
      ><span class="annot"
	><a href="#local-6989586621679472590"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472591"
      ><span class="annot"
	><a href="#local-6989586621679472591"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-operator"
      >.</span
      ><span
      >
</span
      ><span id="line-37"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
	><span class="hs-identifier hs-type"
	  >HasUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679472587"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier hs-type"
	  >TermUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#UniqueSet"
	><span class="hs-identifier hs-type"
	  >UniqueSet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier hs-type"
	  >TermUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Traversal'</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679472588"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679472587"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679472589"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679472590"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679472591"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679472587"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span id="fvTermCtx"
      ><span class="annot"
	><span class="annottext"
	  >fvTermCtx :: forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
</span
	  ><a href="PlutusIR.Subst.html#fvTermCtx"
	  ><span class="hs-identifier hs-var hs-var"
	    >fvTermCtx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472930"
      ><span class="annot"
	><span class="annottext"
	  >UniqueSet TermUnique
</span
	  ><a href="#local-6989586621679472930"
	  ><span class="hs-identifier hs-var"
	    >bound</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472931"
      ><span class="annot"
	><span class="annottext"
	  >name -&gt; f name
</span
	  ><a href="#local-6989586621679472931"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-type"
	  >Let</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679472933"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679472933"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472934"
      ><span class="annot"
	><span class="annottext"
	  >r :: Recursivity
</span
	  ><a href="#local-6989586621679472934"
	  ><span class="hs-identifier hs-var"
	    >r</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="PlutusIR.Core.Type.html#NonRec"
	><span class="hs-identifier hs-var"
	  >NonRec</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679472936"
      ><span class="annot"
	><span class="annottext"
	  >NonEmpty (Binding tyname name uni fun ann)
</span
	  ><a href="#local-6989586621679472936"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472937"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679472937"
	  ><span class="hs-identifier hs-var"
	    >tIn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679472946"
      ><span class="annot"
	><span class="annottext"
	  >fvLinearScope :: UniqueSet TermUnique
-&gt; Binding tyname name uni fun ann
-&gt; (UniqueSet TermUnique, f (Binding tyname name uni fun ann))
</span
	  ><a href="#local-6989586621679472946"
	  ><span class="hs-identifier hs-var hs-var"
	    >fvLinearScope</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472947"
      ><span class="annot"
	><span class="annottext"
	  >UniqueSet TermUnique
</span
	  ><a href="#local-6989586621679472947"
	  ><span class="hs-identifier hs-var"
	    >boundSoFar</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472948"
      ><span class="annot"
	><span class="annottext"
	  >Binding tyname name uni fun ann
</span
	  ><a href="#local-6989586621679472948"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679472947"
	><span class="hs-identifier hs-var"
	  >boundSoFar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; UniqueSet TermUnique -&gt; UniqueSet TermUnique
forall unique.
UniqueSet unique -&gt; UniqueSet unique -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#union"
	><span class="hs-operator hs-var"
	  >`USet.union`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (UniqueSet TermUnique) (Binding tyname name uni fun ann) name
-&gt; Binding tyname name uni fun ann -&gt; UniqueSet TermUnique
forall name unique s.
HasUnique name unique =&gt;
Getting (UniqueSet unique) s name -&gt; s -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#setOfByName"
	><span class="hs-identifier hs-var"
	  >USet.setOfByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (UniqueSet TermUnique) (Binding tyname name uni fun ann) name
forall tyname name (uni :: * -&gt; *) fun a (f :: * -&gt; *).
Applicative f =&gt;
(name -&gt; f name)
-&gt; Binding tyname name uni fun a
-&gt; f (Binding tyname name uni fun a)
</span
	><a href="PlutusIR.Core.Plated.html#bindingNames"
	><span class="hs-identifier hs-var"
	  >bindingNames</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Binding tyname name uni fun ann
</span
	><a href="#local-6989586621679472948"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; Traversal' (Binding tyname name uni fun ann) name
forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Binding tyname name uni fun ann) name
</span
	><a href="PlutusIR.Subst.html#fvBindingCtx"
	><span class="hs-identifier hs-var"
	  >fvBindingCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679472947"
	><span class="hs-identifier hs-var"
	  >boundSoFar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; f name
</span
	><a href="#local-6989586621679472931"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Binding tyname name uni fun ann
</span
	><a href="#local-6989586621679472948"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679472954"
      ><span class="annot"
	><span class="annottext"
	  >UniqueSet TermUnique
</span
	  ><a href="#local-6989586621679472954"
	  ><span class="hs-identifier hs-var"
	    >boundAtTheEnd</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679472955"
      ><span class="annot"
	><span class="annottext"
	  >NonEmpty (f (Binding tyname name uni fun ann))
</span
	  ><a href="#local-6989586621679472955"
	  ><span class="hs-identifier hs-var"
	    >bs'</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueSet TermUnique
 -&gt; Binding tyname name uni fun ann
 -&gt; (UniqueSet TermUnique, f (Binding tyname name uni fun ann)))
-&gt; UniqueSet TermUnique
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; (UniqueSet TermUnique,
    NonEmpty (f (Binding tyname name uni fun ann)))
forall (t :: * -&gt; *) s a b.
Traversable t =&gt;
(s -&gt; a -&gt; (s, b)) -&gt; s -&gt; t a -&gt; (s, t b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Traversable.html#mapAccumL"
	><span class="hs-identifier hs-var"
	  >mapAccumL</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; Binding tyname name uni fun ann
-&gt; (UniqueSet TermUnique, f (Binding tyname name uni fun ann))
forall {tyname} {uni :: * -&gt; *} {fun} {ann}.
UniqueSet TermUnique
-&gt; Binding tyname name uni fun ann
-&gt; (UniqueSet TermUnique, f (Binding tyname name uni fun ann))
</span
	><a href="#local-6989586621679472946"
	><span class="hs-identifier hs-var"
	  >fvLinearScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679472930"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (Binding tyname name uni fun ann)
</span
	><a href="#local-6989586621679472936"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span
      >     </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Recursivity
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Recursivity
-&gt; NonEmpty (Binding tyname name uni fun a)
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-var"
	  >Let</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472933"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="#local-6989586621679472934"
	><span class="hs-identifier hs-var"
	  >r</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmpty (Binding tyname name uni fun ann)
 -&gt; Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (NonEmpty (Binding tyname name uni fun ann))
-&gt; f (Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (f (Binding tyname name uni fun ann))
-&gt; f (NonEmpty (Binding tyname name uni fun ann))
forall (t :: * -&gt; *) (f :: * -&gt; *) a.
(Traversable t, Applicative f) =&gt;
t (f a) -&gt; f (t a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
NonEmpty (f a) -&gt; f (NonEmpty a)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Traversable.html#sequenceA"
	><span class="hs-identifier hs-var"
	  >sequenceA</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (f (Binding tyname name uni fun ann))
</span
	><a href="#local-6989586621679472955"
	><span class="hs-identifier hs-var"
	  >bs'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
</span
	><a href="PlutusIR.Subst.html#fvTermCtx"
	><span class="hs-identifier hs-var"
	  >fvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679472954"
	><span class="hs-identifier hs-var"
	  >boundAtTheEnd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; f name
</span
	><a href="#local-6989586621679472931"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679472937"
	><span class="hs-identifier hs-var"
	  >tIn</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-type"
	  >Let</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679472958"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679472958"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472959"
      ><span class="annot"
	><span class="annottext"
	  >r :: Recursivity
</span
	  ><a href="#local-6989586621679472959"
	  ><span class="hs-identifier hs-var"
	    >r</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="PlutusIR.Core.Type.html#Rec"
	><span class="hs-identifier hs-var"
	  >Rec</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679472961"
      ><span class="annot"
	><span class="annottext"
	  >NonEmpty (Binding tyname name uni fun ann)
</span
	  ><a href="#local-6989586621679472961"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472962"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679472962"
	  ><span class="hs-identifier hs-var"
	    >tIn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-47"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679472971"
      ><span class="annot"
	><span class="annottext"
	  >bound' :: UniqueSet TermUnique
</span
	  ><a href="#local-6989586621679472971"
	  ><span class="hs-identifier hs-var hs-var"
	    >bound'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679472930"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; UniqueSet TermUnique -&gt; UniqueSet TermUnique
forall unique.
UniqueSet unique -&gt; UniqueSet unique -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#union"
	><span class="hs-operator hs-var"
	  >`USet.union`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (UniqueSet TermUnique)
  (NonEmpty (Binding tyname name uni fun ann))
  name
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; UniqueSet TermUnique
forall name unique s.
HasUnique name unique =&gt;
Getting (UniqueSet unique) s name -&gt; s -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#setOfByName"
	><span class="hs-identifier hs-var"
	  >USet.setOfByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Binding tyname name uni fun ann
 -&gt; Const (UniqueSet TermUnique) (Binding tyname name uni fun ann))
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; Const
     (UniqueSet TermUnique) (NonEmpty (Binding tyname name uni fun ann))
forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
IndexedTraversal
  Int
  (NonEmpty (Binding tyname name uni fun ann))
  (NonEmpty (Binding tyname name uni fun ann))
  (Binding tyname name uni fun ann)
  (Binding tyname name uni fun ann)
</span
	><span class="hs-identifier hs-var"
	>traversed</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Binding tyname name uni fun ann
  -&gt; Const (UniqueSet TermUnique) (Binding tyname name uni fun ann))
 -&gt; NonEmpty (Binding tyname name uni fun ann)
 -&gt; Const
      (UniqueSet TermUnique)
      (NonEmpty (Binding tyname name uni fun ann)))
-&gt; ((name -&gt; Const (UniqueSet TermUnique) name)
    -&gt; Binding tyname name uni fun ann
    -&gt; Const (UniqueSet TermUnique) (Binding tyname name uni fun ann))
-&gt; Getting
     (UniqueSet TermUnique)
     (NonEmpty (Binding tyname name uni fun ann))
     name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(name -&gt; Const (UniqueSet TermUnique) name)
-&gt; Binding tyname name uni fun ann
-&gt; Const (UniqueSet TermUnique) (Binding tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun a (f :: * -&gt; *).
Applicative f =&gt;
(name -&gt; f name)
-&gt; Binding tyname name uni fun a
-&gt; f (Binding tyname name uni fun a)
</span
	><a href="PlutusIR.Core.Plated.html#bindingNames"
	><span class="hs-identifier hs-var"
	  >bindingNames</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (Binding tyname name uni fun ann)
</span
	><a href="#local-6989586621679472961"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-48"
      ></span
      ><span
      >     </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Recursivity
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Recursivity
-&gt; NonEmpty (Binding tyname name uni fun a)
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-var"
	  >Let</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472958"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="#local-6989586621679472959"
	><span class="hs-identifier hs-var"
	  >r</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmpty (Binding tyname name uni fun ann)
 -&gt; Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (NonEmpty (Binding tyname name uni fun ann))
-&gt; f (Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Binding tyname name uni fun ann
 -&gt; f (Binding tyname name uni fun ann))
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; f (NonEmpty (Binding tyname name uni fun ann))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; Traversal' (Binding tyname name uni fun ann) name
forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Binding tyname name uni fun ann) name
</span
	><a href="PlutusIR.Subst.html#fvBindingCtx"
	><span class="hs-identifier hs-var"
	  >fvBindingCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679472930"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; f name
</span
	><a href="#local-6989586621679472931"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (Binding tyname name uni fun ann)
</span
	><a href="#local-6989586621679472961"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
</span
	><a href="PlutusIR.Subst.html#fvTermCtx"
	><span class="hs-identifier hs-var"
	  >fvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679472971"
	><span class="hs-identifier hs-var"
	  >bound'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; f name
</span
	><a href="#local-6989586621679472931"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679472962"
	><span class="hs-identifier hs-var"
	  >tIn</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-49"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Var"
	><span class="hs-identifier hs-type"
	  >Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679472976"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679472976"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472977"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679472977"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; name -&gt; Term tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; name -&gt; Term tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#Var"
	><span class="hs-identifier hs-var"
	  >Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472976"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(name -&gt; Term tyname name uni fun ann)
-&gt; f name -&gt; f (Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; UniqueSet TermUnique -&gt; Bool
forall name unique.
HasUnique name unique =&gt;
name -&gt; UniqueSet unique -&gt; Bool
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#memberByName"
	><span class="hs-identifier hs-var"
	  >USet.memberByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679472977"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679472930"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; f name
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679472977"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; f name
</span
	><a href="#local-6989586621679472931"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679472977"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-50"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-type"
	  >LamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679472980"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679472980"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472981"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679472981"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472982"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni ann
</span
	  ><a href="#local-6989586621679472982"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472983"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679472983"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; name
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; name
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-var"
	  >LamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472980"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679472981"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni ann
</span
	><a href="#local-6989586621679472982"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
</span
	><a href="PlutusIR.Subst.html#fvTermCtx"
	><span class="hs-identifier hs-var"
	  >fvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; UniqueSet TermUnique -&gt; UniqueSet TermUnique
forall name unique.
HasUnique name unique =&gt;
name -&gt; UniqueSet unique -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#insertByName"
	><span class="hs-identifier hs-var"
	  >USet.insertByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679472981"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679472930"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; f name
</span
	><a href="#local-6989586621679472931"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679472983"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679472985"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679472985"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun a (f :: * -&gt; *).
Applicative f =&gt;
(Term tyname name uni fun a -&gt; f (Term tyname name uni fun a))
-&gt; Term tyname name uni fun a -&gt; f (Term tyname name uni fun a)
</span
	><a href="PlutusIR.Core.Plated.html#termSubterms"
	><span class="hs-identifier hs-var"
	  >termSubterms</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
 -&gt; Term tyname name uni fun ann
 -&gt; f (Term tyname name uni fun ann))
-&gt; ((name -&gt; f name)
    -&gt; Term tyname name uni fun ann
    -&gt; f (Term tyname name uni fun ann))
-&gt; (name -&gt; f name)
-&gt; Term tyname name uni fun ann
-&gt; f (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
</span
	><a href="PlutusIR.Subst.html#fvTermCtx"
	><span class="hs-identifier hs-var"
	  >fvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679472930"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; f name
</span
	><a href="#local-6989586621679472931"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679472985"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Get all the free type variables in a PIR term.</span
	></span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span id="local-6989586621679472669"
      ><span id="local-6989586621679472671"
	><span id="local-6989586621679472672"
	  ><span id="local-6989586621679472673"
	    ><span id="local-6989586621679472674"
	      ><span class="annot"
		><a href="PlutusIR.Subst.html#ftvTerm"
		  ><span class="hs-identifier hs-type"
		    >ftvTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472669"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
		  ><span class="hs-identifier hs-type"
		    >TypeUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><span class="hs-identifier hs-type"
		  >Traversal'</span
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472669"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472671"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472672"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472673"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472674"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472669"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-55"
      ></span
      ><span id="ftvTerm"
      ><span class="annot"
	><span class="annottext"
	  >ftvTerm :: forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
Traversal' (Term tyname name uni fun ann) tyname
</span
	  ><a href="PlutusIR.Subst.html#ftvTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >ftvTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span
	><a href="PlutusIR.Subst.html#ftvTermCtx"
	><span class="hs-identifier hs-var"
	  >ftvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-56"
      ></span
      ><span
      >
</span
      ><span id="line-57"
      ></span
      ><span id="local-6989586621679472681"
      ><span id="local-6989586621679472682"
	><span id="local-6989586621679472683"
	  ><span id="local-6989586621679472684"
	    ><span id="local-6989586621679472685"
	      ><span class="annot"
		><a href="PlutusIR.Subst.html#ftvTermCtx"
		  ><span class="hs-identifier hs-type"
		    >ftvTermCtx</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		>
</span
		><span id="line-58"
		></span
		><span
		>  </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472681"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
		  ><span class="hs-identifier hs-type"
		    >TypeUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		>
</span
		><span id="line-59"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#UniqueSet"
		  ><span class="hs-identifier hs-type"
		    >UniqueSet</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
		  ><span class="hs-identifier hs-type"
		    >TypeUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		>
</span
		><span id="line-60"
		></span
		><span
		>  </span
		><span class="annot"
		><span class="hs-identifier hs-type"
		  >Traversal'</span
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472681"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472682"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472683"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472684"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472685"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472681"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-61"
      ></span
      ><span id="ftvTermCtx"
      ><span class="annot"
	><span class="annottext"
	  >ftvTermCtx :: forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span
	  ><a href="PlutusIR.Subst.html#ftvTermCtx"
	  ><span class="hs-identifier hs-var hs-var"
	    >ftvTermCtx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473015"
      ><span class="annot"
	><span class="annottext"
	  >UniqueSet TypeUnique
</span
	  ><a href="#local-6989586621679473015"
	  ><span class="hs-identifier hs-var"
	    >bound</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473016"
      ><span class="annot"
	><span class="annottext"
	  >tyname -&gt; f tyname
</span
	  ><a href="#local-6989586621679473016"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-62"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-type"
	  >Let</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679473017"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679473017"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473018"
      ><span class="annot"
	><span class="annottext"
	  >r :: Recursivity
</span
	  ><a href="#local-6989586621679473018"
	  ><span class="hs-identifier hs-var"
	    >r</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="PlutusIR.Core.Type.html#NonRec"
	><span class="hs-identifier hs-var"
	  >NonRec</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679473019"
      ><span class="annot"
	><span class="annottext"
	  >NonEmpty (Binding tyname name uni fun ann)
</span
	  ><a href="#local-6989586621679473019"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473020"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679473020"
	  ><span class="hs-identifier hs-var"
	    >tIn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-63"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679473028"
      ><span class="annot"
	><span class="annottext"
	  >ftvLinearScope :: UniqueSet TypeUnique
-&gt; Binding tyname name uni fun ann
-&gt; (UniqueSet TypeUnique, f (Binding tyname name uni fun ann))
</span
	  ><a href="#local-6989586621679473028"
	  ><span class="hs-identifier hs-var hs-var"
	    >ftvLinearScope</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473029"
      ><span class="annot"
	><span class="annottext"
	  >UniqueSet TypeUnique
</span
	  ><a href="#local-6989586621679473029"
	  ><span class="hs-identifier hs-var"
	    >bound'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473030"
      ><span class="annot"
	><span class="annottext"
	  >Binding tyname name uni fun ann
</span
	  ><a href="#local-6989586621679473030"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-64"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473029"
	><span class="hs-identifier hs-var"
	  >bound'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; UniqueSet TypeUnique -&gt; UniqueSet TypeUnique
forall unique.
UniqueSet unique -&gt; UniqueSet unique -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#union"
	><span class="hs-operator hs-var"
	  >`USet.union`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (UniqueSet TypeUnique) (Binding tyname name uni fun ann) tyname
-&gt; Binding tyname name uni fun ann -&gt; UniqueSet TypeUnique
forall name unique s.
HasUnique name unique =&gt;
Getting (UniqueSet unique) s name -&gt; s -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#setOfByName"
	><span class="hs-identifier hs-var"
	  >USet.setOfByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (UniqueSet TypeUnique) (Binding tyname name uni fun ann) tyname
forall tyname name (uni :: * -&gt; *) fun a (f :: * -&gt; *).
Applicative f =&gt;
(tyname -&gt; f tyname)
-&gt; Binding tyname name uni fun a
-&gt; f (Binding tyname name uni fun a)
</span
	><a href="PlutusIR.Core.Plated.html#bindingTyNames"
	><span class="hs-identifier hs-var"
	  >bindingTyNames</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Binding tyname name uni fun ann
</span
	><a href="#local-6989586621679473030"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
-&gt; UniqueSet TypeUnique
-&gt; Traversal' (Binding tyname name uni fun ann) tyname
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
Recursivity
-&gt; UniqueSet TypeUnique
-&gt; Traversal' (Binding tyname name uni fun ann) tyname
</span
	><a href="PlutusIR.Subst.html#ftvBindingCtx"
	><span class="hs-identifier hs-var"
	  >ftvBindingCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="#local-6989586621679473018"
	><span class="hs-identifier hs-var"
	  >r</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473029"
	><span class="hs-identifier hs-var"
	  >bound'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; f tyname
</span
	><a href="#local-6989586621679473016"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Binding tyname name uni fun ann
</span
	><a href="#local-6989586621679473030"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-65"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679473034"
      ><span class="annot"
	><span class="annottext"
	  >UniqueSet TypeUnique
</span
	  ><a href="#local-6989586621679473034"
	  ><span class="hs-identifier hs-var"
	    >bound''</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679473035"
      ><span class="annot"
	><span class="annottext"
	  >NonEmpty (f (Binding tyname name uni fun ann))
</span
	  ><a href="#local-6989586621679473035"
	  ><span class="hs-identifier hs-var"
	    >bs'</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueSet TypeUnique
 -&gt; Binding tyname name uni fun ann
 -&gt; (UniqueSet TypeUnique, f (Binding tyname name uni fun ann)))
-&gt; UniqueSet TypeUnique
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; (UniqueSet TypeUnique,
    NonEmpty (f (Binding tyname name uni fun ann)))
forall (t :: * -&gt; *) s a b.
Traversable t =&gt;
(s -&gt; a -&gt; (s, b)) -&gt; s -&gt; t a -&gt; (s, t b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Traversable.html#mapAccumL"
	><span class="hs-identifier hs-var"
	  >mapAccumL</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; Binding tyname name uni fun ann
-&gt; (UniqueSet TypeUnique, f (Binding tyname name uni fun ann))
forall {name} {uni :: * -&gt; *} {fun} {ann}.
UniqueSet TypeUnique
-&gt; Binding tyname name uni fun ann
-&gt; (UniqueSet TypeUnique, f (Binding tyname name uni fun ann))
</span
	><a href="#local-6989586621679473028"
	><span class="hs-identifier hs-var"
	  >ftvLinearScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473015"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (Binding tyname name uni fun ann)
</span
	><a href="#local-6989586621679473019"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-66"
      ></span
      ><span
      >     </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Recursivity
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Recursivity
-&gt; NonEmpty (Binding tyname name uni fun a)
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-var"
	  >Let</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679473017"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="#local-6989586621679473018"
	><span class="hs-identifier hs-var"
	  >r</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmpty (Binding tyname name uni fun ann)
 -&gt; Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (NonEmpty (Binding tyname name uni fun ann))
-&gt; f (Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (f (Binding tyname name uni fun ann))
-&gt; f (NonEmpty (Binding tyname name uni fun ann))
forall (t :: * -&gt; *) (f :: * -&gt; *) a.
(Traversable t, Applicative f) =&gt;
t (f a) -&gt; f (t a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
NonEmpty (f a) -&gt; f (NonEmpty a)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Traversable.html#sequenceA"
	><span class="hs-identifier hs-var"
	  >sequenceA</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (f (Binding tyname name uni fun ann))
</span
	><a href="#local-6989586621679473035"
	><span class="hs-identifier hs-var"
	  >bs'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span
	><a href="PlutusIR.Subst.html#ftvTermCtx"
	><span class="hs-identifier hs-var"
	  >ftvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473034"
	><span class="hs-identifier hs-var"
	  >bound''</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; f tyname
</span
	><a href="#local-6989586621679473016"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679473020"
	><span class="hs-identifier hs-var"
	  >tIn</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-67"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-type"
	  >Let</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679473036"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679473036"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473037"
      ><span class="annot"
	><span class="annottext"
	  >r :: Recursivity
</span
	  ><a href="#local-6989586621679473037"
	  ><span class="hs-identifier hs-var"
	    >r</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="PlutusIR.Core.Type.html#Rec"
	><span class="hs-identifier hs-var"
	  >Rec</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679473038"
      ><span class="annot"
	><span class="annottext"
	  >NonEmpty (Binding tyname name uni fun ann)
</span
	  ><a href="#local-6989586621679473038"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473039"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679473039"
	  ><span class="hs-identifier hs-var"
	    >tIn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-68"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679473047"
      ><span class="annot"
	><span class="annottext"
	  >bound' :: UniqueSet TypeUnique
</span
	  ><a href="#local-6989586621679473047"
	  ><span class="hs-identifier hs-var hs-var"
	    >bound'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473015"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; UniqueSet TypeUnique -&gt; UniqueSet TypeUnique
forall unique.
UniqueSet unique -&gt; UniqueSet unique -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#union"
	><span class="hs-operator hs-var"
	  >`USet.union`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (UniqueSet TypeUnique)
  (NonEmpty (Binding tyname name uni fun ann))
  tyname
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; UniqueSet TypeUnique
forall name unique s.
HasUnique name unique =&gt;
Getting (UniqueSet unique) s name -&gt; s -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#setOfByName"
	><span class="hs-identifier hs-var"
	  >USet.setOfByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Binding tyname name uni fun ann
 -&gt; Const (UniqueSet TypeUnique) (Binding tyname name uni fun ann))
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; Const
     (UniqueSet TypeUnique) (NonEmpty (Binding tyname name uni fun ann))
forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
IndexedTraversal
  Int
  (NonEmpty (Binding tyname name uni fun ann))
  (NonEmpty (Binding tyname name uni fun ann))
  (Binding tyname name uni fun ann)
  (Binding tyname name uni fun ann)
</span
	><span class="hs-identifier hs-var"
	>traversed</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Binding tyname name uni fun ann
  -&gt; Const (UniqueSet TypeUnique) (Binding tyname name uni fun ann))
 -&gt; NonEmpty (Binding tyname name uni fun ann)
 -&gt; Const
      (UniqueSet TypeUnique)
      (NonEmpty (Binding tyname name uni fun ann)))
-&gt; ((tyname -&gt; Const (UniqueSet TypeUnique) tyname)
    -&gt; Binding tyname name uni fun ann
    -&gt; Const (UniqueSet TypeUnique) (Binding tyname name uni fun ann))
-&gt; Getting
     (UniqueSet TypeUnique)
     (NonEmpty (Binding tyname name uni fun ann))
     tyname
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(tyname -&gt; Const (UniqueSet TypeUnique) tyname)
-&gt; Binding tyname name uni fun ann
-&gt; Const (UniqueSet TypeUnique) (Binding tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun a (f :: * -&gt; *).
Applicative f =&gt;
(tyname -&gt; f tyname)
-&gt; Binding tyname name uni fun a
-&gt; f (Binding tyname name uni fun a)
</span
	><a href="PlutusIR.Core.Plated.html#bindingTyNames"
	><span class="hs-identifier hs-var"
	  >bindingTyNames</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (Binding tyname name uni fun ann)
</span
	><a href="#local-6989586621679473038"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-69"
      ></span
      ><span
      >     </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Recursivity
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Recursivity
-&gt; NonEmpty (Binding tyname name uni fun a)
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-var"
	  >Let</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679473036"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="#local-6989586621679473037"
	><span class="hs-identifier hs-var"
	  >r</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmpty (Binding tyname name uni fun ann)
 -&gt; Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (NonEmpty (Binding tyname name uni fun ann))
-&gt; f (Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Binding tyname name uni fun ann
 -&gt; f (Binding tyname name uni fun ann))
-&gt; NonEmpty (Binding tyname name uni fun ann)
-&gt; f (NonEmpty (Binding tyname name uni fun ann))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
-&gt; UniqueSet TypeUnique
-&gt; Traversal' (Binding tyname name uni fun ann) tyname
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
Recursivity
-&gt; UniqueSet TypeUnique
-&gt; Traversal' (Binding tyname name uni fun ann) tyname
</span
	><a href="PlutusIR.Subst.html#ftvBindingCtx"
	><span class="hs-identifier hs-var"
	  >ftvBindingCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="#local-6989586621679473037"
	><span class="hs-identifier hs-var"
	  >r</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473015"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; f tyname
</span
	><a href="#local-6989586621679473016"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (Binding tyname name uni fun ann)
</span
	><a href="#local-6989586621679473038"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span
	><a href="PlutusIR.Subst.html#ftvTermCtx"
	><span class="hs-identifier hs-var"
	  >ftvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473047"
	><span class="hs-identifier hs-var"
	  >bound'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; f tyname
</span
	><a href="#local-6989586621679473016"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679473039"
	><span class="hs-identifier hs-var"
	  >tIn</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-70"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#TyAbs"
	><span class="hs-identifier hs-type"
	  >TyAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679473049"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679473049"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473050"
      ><span class="annot"
	><span class="annottext"
	  >tyname
</span
	  ><a href="#local-6989586621679473050"
	  ><span class="hs-identifier hs-var"
	    >tn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473051"
      ><span class="annot"
	><span class="annottext"
	  >Kind ann
</span
	  ><a href="#local-6989586621679473051"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473052"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679473052"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; tyname
-&gt; Kind ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; tyname
-&gt; Kind a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#TyAbs"
	><span class="hs-identifier hs-var"
	  >TyAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679473049"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname
</span
	><a href="#local-6989586621679473050"
	><span class="hs-identifier hs-var"
	  >tn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ann
</span
	><a href="#local-6989586621679473051"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span
	><a href="PlutusIR.Subst.html#ftvTermCtx"
	><span class="hs-identifier hs-var"
	  >ftvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; UniqueSet TypeUnique -&gt; UniqueSet TypeUnique
forall name unique.
HasUnique name unique =&gt;
name -&gt; UniqueSet unique -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#insertByName"
	><span class="hs-identifier hs-var"
	  >USet.insertByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname
</span
	><a href="#local-6989586621679473050"
	><span class="hs-identifier hs-var"
	  >tn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473015"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; f tyname
</span
	><a href="#local-6989586621679473016"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679473052"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-71"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- sound because the subterms and subtypes are disjoint</span
      ><span
      >
</span
      ><span id="line-72"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679473053"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679473053"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun a (f :: * -&gt; *).
Applicative f =&gt;
(Term tyname name uni fun a -&gt; f (Term tyname name uni fun a))
-&gt; Term tyname name uni fun a -&gt; f (Term tyname name uni fun a)
</span
	><a href="PlutusIR.Core.Plated.html#termSubterms"
	><span class="hs-identifier hs-var"
	  >termSubterms</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
 -&gt; Term tyname name uni fun ann
 -&gt; f (Term tyname name uni fun ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Term tyname name uni fun ann
    -&gt; f (Term tyname name uni fun ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Term tyname name uni fun ann
-&gt; f (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span
	><a href="PlutusIR.Subst.html#ftvTermCtx"
	><span class="hs-identifier hs-var"
	  >ftvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473015"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Traversal' (Term tyname name uni fun ann) tyname
-&gt; Traversal' (Term tyname name uni fun ann) tyname
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall s a. Traversal' s a -&gt; Traversal' s a -&gt; Traversal' s a
</span
	><span class="hs-operator hs-var"
	>`Unsound.adjoin`</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun a (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Term tyname name uni fun a -&gt; f (Term tyname name uni fun a)
</span
	><a href="PlutusIR.Core.Plated.html#termSubtypes"
	><span class="hs-identifier hs-var"
	  >termSubtypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Type tyname uni ann -&gt; f (Type tyname uni ann))
 -&gt; Term tyname name uni fun ann
 -&gt; f (Term tyname name uni fun ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Term tyname name uni fun ann
-&gt; f (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique -&gt; Traversal' (Type tyname uni ann) tyname
forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span
	><a href="../../plutus-core/src/PlutusCore.Subst.html#ftvTyCtx"
	><span class="hs-identifier hs-var"
	  >ftvTyCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473015"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; f tyname
</span
	><a href="#local-6989586621679473016"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679473053"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-73"
      ></span
      ><span
      >
</span
      ><span id="line-74"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Get all the free variables in a PIR single let-binding.</span
	></span
      ><span
      >
</span
      ><span id="line-75"
      ></span
      ><span id="local-6989586621679472722"
      ><span id="local-6989586621679472723"
	><span id="local-6989586621679472724"
	  ><span id="local-6989586621679472725"
	    ><span id="local-6989586621679472726"
	      ><span class="annot"
		><a href="PlutusIR.Subst.html#fvBinding"
		  ><span class="hs-identifier hs-type"
		    >fvBinding</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472722"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><span class="hs-identifier hs-type"
		  >Traversal'</span
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Binding"
		  ><span class="hs-identifier hs-type"
		    >Binding</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472723"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472722"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472724"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472725"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472726"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472722"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-76"
      ></span
      ><span id="fvBinding"
      ><span class="annot"
	><span class="annottext"
	  >fvBinding :: forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
Traversal' (Binding tyname name uni fun ann) name
</span
	  ><a href="PlutusIR.Subst.html#fvBinding"
	  ><span class="hs-identifier hs-var hs-var"
	    >fvBinding</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; Traversal' (Binding tyname name uni fun ann) name
forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Binding tyname name uni fun ann) name
</span
	><a href="PlutusIR.Subst.html#fvBindingCtx"
	><span class="hs-identifier hs-var"
	  >fvBindingCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-77"
      ></span
      ><span
      >
</span
      ><span id="line-78"
      ></span
      ><span id="local-6989586621679472623"
      ><span id="local-6989586621679472624"
	><span id="local-6989586621679472625"
	  ><span id="local-6989586621679472626"
	    ><span id="local-6989586621679472627"
	      ><span class="annot"
		><a href="PlutusIR.Subst.html#fvBindingCtx"
		  ><span class="hs-identifier hs-type"
		    >fvBindingCtx</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		>
</span
		><span id="line-79"
		></span
		><span
		>  </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472623"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		>
</span
		><span id="line-80"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#UniqueSet"
		  ><span class="hs-identifier hs-type"
		    >UniqueSet</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		>
</span
		><span id="line-81"
		></span
		><span
		>  </span
		><span class="annot"
		><span class="hs-identifier hs-type"
		  >Traversal'</span
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Binding"
		  ><span class="hs-identifier hs-type"
		    >Binding</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472624"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472623"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472625"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472626"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472627"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472623"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-82"
      ></span
      ><span id="fvBindingCtx"
      ><span class="annot"
	><span class="annottext"
	  >fvBindingCtx :: forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Binding tyname name uni fun ann) name
</span
	  ><a href="PlutusIR.Subst.html#fvBindingCtx"
	  ><span class="hs-identifier hs-var hs-var"
	    >fvBindingCtx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473074"
      ><span class="annot"
	><span class="annottext"
	  >UniqueSet TermUnique
</span
	  ><a href="#local-6989586621679473074"
	  ><span class="hs-identifier hs-var"
	    >bound</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Binding tyname name uni fun ann
-&gt; f (Binding tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun a (f :: * -&gt; *).
Applicative f =&gt;
(Term tyname name uni fun a -&gt; f (Term tyname name uni fun a))
-&gt; Binding tyname name uni fun a
-&gt; f (Binding tyname name uni fun a)
</span
	><a href="PlutusIR.Core.Plated.html#bindingSubterms"
	><span class="hs-identifier hs-var"
	  >bindingSubterms</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
 -&gt; Binding tyname name uni fun ann
 -&gt; f (Binding tyname name uni fun ann))
-&gt; ((name -&gt; f name)
    -&gt; Term tyname name uni fun ann
    -&gt; f (Term tyname name uni fun ann))
-&gt; (name -&gt; f name)
-&gt; Binding tyname name uni fun ann
-&gt; f (Binding tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
UniqueSet TermUnique
-&gt; Traversal' (Term tyname name uni fun ann) name
</span
	><a href="PlutusIR.Subst.html#fvTermCtx"
	><span class="hs-identifier hs-var"
	  >fvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TermUnique
</span
	><a href="#local-6989586621679473074"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-83"
      ></span
      ><span
      >
</span
      ><span id="line-84"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Get all the free type variables in a PIR single let-binding.</span
	></span
      ><span
      >
</span
      ><span id="line-85"
      ></span
      ><span id="local-6989586621679472745"
      ><span id="local-6989586621679472746"
	><span id="local-6989586621679472747"
	  ><span id="local-6989586621679472748"
	    ><span id="local-6989586621679472749"
	      ><span class="annot"
		><a href="PlutusIR.Subst.html#ftvBinding"
		  ><span class="hs-identifier hs-type"
		    >ftvBinding</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		>
</span
		><span id="line-86"
		></span
		><span
		>  </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472745"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
		  ><span class="hs-identifier hs-type"
		    >TypeUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		>
</span
		><span id="line-87"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Recursivity"
		  ><span class="hs-identifier hs-type"
		    >Recursivity</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		>
</span
		><span id="line-88"
		></span
		><span
		>  </span
		><span class="annot"
		><span class="hs-identifier hs-type"
		  >Traversal'</span
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Binding"
		  ><span class="hs-identifier hs-type"
		    >Binding</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472745"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472746"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472747"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472748"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472749"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472745"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-89"
      ></span
      ><span id="ftvBinding"
      ><span class="annot"
	><span class="annottext"
	  >ftvBinding :: forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
Recursivity -&gt; Traversal' (Binding tyname name uni fun ann) tyname
</span
	  ><a href="PlutusIR.Subst.html#ftvBinding"
	  ><span class="hs-identifier hs-var hs-var"
	    >ftvBinding</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473081"
      ><span class="annot"
	><span class="annottext"
	  >Recursivity
</span
	  ><a href="#local-6989586621679473081"
	  ><span class="hs-identifier hs-var"
	    >r</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
-&gt; UniqueSet TypeUnique
-&gt; Traversal' (Binding tyname name uni fun ann) tyname
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
Recursivity
-&gt; UniqueSet TypeUnique
-&gt; Traversal' (Binding tyname name uni fun ann) tyname
</span
	><a href="PlutusIR.Subst.html#ftvBindingCtx"
	><span class="hs-identifier hs-var"
	  >ftvBindingCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="#local-6989586621679473081"
	><span class="hs-identifier hs-var"
	  >r</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-90"
      ></span
      ><span
      >
</span
      ><span id="line-91"
      ></span
      ><span id="local-6989586621679472702"
      ><span id="local-6989586621679472703"
	><span id="local-6989586621679472704"
	  ><span id="local-6989586621679472705"
	    ><span id="local-6989586621679472706"
	      ><span class="annot"
		><a href="PlutusIR.Subst.html#ftvBindingCtx"
		  ><span class="hs-identifier hs-type"
		    >ftvBindingCtx</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		>
</span
		><span id="line-92"
		></span
		><span
		>  </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472702"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
		  ><span class="hs-identifier hs-type"
		    >TypeUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		>
</span
		><span id="line-93"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Recursivity"
		  ><span class="hs-identifier hs-type"
		    >Recursivity</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		>
</span
		><span id="line-94"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#UniqueSet"
		  ><span class="hs-identifier hs-type"
		    >UniqueSet</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
		  ><span class="hs-identifier hs-type"
		    >TypeUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		>
</span
		><span id="line-95"
		></span
		><span
		>  </span
		><span class="annot"
		><span class="hs-identifier hs-type"
		  >Traversal'</span
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Binding"
		  ><span class="hs-identifier hs-type"
		    >Binding</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472702"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472703"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472704"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472705"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472706"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472702"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-96"
      ></span
      ><span id="ftvBindingCtx"
      ><span class="annot"
	><span class="annottext"
	  >ftvBindingCtx :: forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
Recursivity
-&gt; UniqueSet TypeUnique
-&gt; Traversal' (Binding tyname name uni fun ann) tyname
</span
	  ><a href="PlutusIR.Subst.html#ftvBindingCtx"
	  ><span class="hs-identifier hs-var hs-var"
	    >ftvBindingCtx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473089"
      ><span class="annot"
	><span class="annottext"
	  >Recursivity
</span
	  ><a href="#local-6989586621679473089"
	  ><span class="hs-identifier hs-var"
	    >r</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473090"
      ><span class="annot"
	><span class="annottext"
	  >UniqueSet TypeUnique
</span
	  ><a href="#local-6989586621679473090"
	  ><span class="hs-identifier hs-var"
	    >bound</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473091"
      ><span class="annot"
	><span class="annottext"
	  >tyname -&gt; f tyname
</span
	  ><a href="#local-6989586621679473091"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-97"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#DatatypeBind"
	><span class="hs-identifier hs-type"
	  >DatatypeBind</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679473093"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679473093"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473094"
      ><span class="annot"
	><span class="annottext"
	  >Datatype tyname name uni ann
</span
	  ><a href="#local-6989586621679473094"
	  ><span class="hs-identifier hs-var"
	    >d</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Datatype tyname name uni ann -&gt; Binding tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Datatype tyname name uni a -&gt; Binding tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#DatatypeBind"
	><span class="hs-identifier hs-var"
	  >DatatypeBind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679473093"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Datatype tyname name uni ann -&gt; Binding tyname name uni fun ann)
-&gt; f (Datatype tyname name uni ann)
-&gt; f (Binding tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
-&gt; UniqueSet TypeUnique
-&gt; Traversal' (Datatype tyname name uni ann) tyname
forall tyname name (uni :: * -&gt; *) ann.
HasUnique tyname TypeUnique =&gt;
Recursivity
-&gt; UniqueSet TypeUnique
-&gt; Traversal' (Datatype tyname name uni ann) tyname
</span
	><a href="PlutusIR.Subst.html#ftvDatatypeCtx"
	><span class="hs-identifier hs-var"
	  >ftvDatatypeCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="#local-6989586621679473089"
	><span class="hs-identifier hs-var"
	  >r</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473090"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; f tyname
</span
	><a href="#local-6989586621679473091"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Datatype tyname name uni ann
</span
	><a href="#local-6989586621679473094"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-98"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- sound because the subterms and subtypes are disjoint</span
      ><span
      >
</span
      ><span id="line-99"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679473096"
      ><span class="annot"
	><span class="annottext"
	  >Binding tyname name uni fun ann
</span
	  ><a href="#local-6989586621679473096"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-100"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Binding tyname name uni fun ann
-&gt; f (Binding tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun a (f :: * -&gt; *).
Applicative f =&gt;
(Term tyname name uni fun a -&gt; f (Term tyname name uni fun a))
-&gt; Binding tyname name uni fun a
-&gt; f (Binding tyname name uni fun a)
</span
	><a href="PlutusIR.Core.Plated.html#bindingSubterms"
	><span class="hs-identifier hs-var"
	  >bindingSubterms</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
 -&gt; Binding tyname name uni fun ann
 -&gt; f (Binding tyname name uni fun ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Term tyname name uni fun ann
    -&gt; f (Term tyname name uni fun ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Binding tyname name uni fun ann
-&gt; f (Binding tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
UniqueSet TypeUnique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span
	><a href="PlutusIR.Subst.html#ftvTermCtx"
	><span class="hs-identifier hs-var"
	  >ftvTermCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473090"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-101"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>(forall {f :: * -&gt; *}.
 Applicative f =&gt;
 (tyname -&gt; f tyname)
 -&gt; Binding tyname name uni fun ann
 -&gt; f (Binding tyname name uni fun ann))
-&gt; (forall {f :: * -&gt; *}.
    Applicative f =&gt;
    (tyname -&gt; f tyname)
    -&gt; Binding tyname name uni fun ann
    -&gt; f (Binding tyname name uni fun ann))
-&gt; forall {f :: * -&gt; *}.
   Applicative f =&gt;
   (tyname -&gt; f tyname)
   -&gt; Binding tyname name uni fun ann
   -&gt; f (Binding tyname name uni fun ann)
forall s a. Traversal' s a -&gt; Traversal' s a -&gt; Traversal' s a
</span
	><span class="hs-operator hs-var"
	>`Unsound.adjoin`</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Binding tyname name uni fun ann
-&gt; f (Binding tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun a (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Binding tyname name uni fun a
-&gt; f (Binding tyname name uni fun a)
</span
	><a href="PlutusIR.Core.Plated.html#bindingSubtypes"
	><span class="hs-identifier hs-var"
	  >bindingSubtypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Type tyname uni ann -&gt; f (Type tyname uni ann))
 -&gt; Binding tyname name uni fun ann
 -&gt; f (Binding tyname name uni fun ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Binding tyname name uni fun ann
-&gt; f (Binding tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique -&gt; Traversal' (Type tyname uni ann) tyname
forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span
	><a href="../../plutus-core/src/PlutusCore.Subst.html#ftvTyCtx"
	><span class="hs-identifier hs-var"
	  >ftvTyCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473090"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-102"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-103"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; f tyname
</span
	><a href="#local-6989586621679473091"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-104"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Binding tyname name uni fun ann
</span
	><a href="#local-6989586621679473096"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-105"
      ></span
      ><span
      >
</span
      ><span id="line-106"
      ></span
      ><span id="local-6989586621679472768"
      ><span id="local-6989586621679472769"
	><span id="local-6989586621679472770"
	  ><span id="local-6989586621679472771"
	    ><span class="annot"
	      ><a href="PlutusIR.Subst.html#ftvDatatypeCtx"
		><span class="hs-identifier hs-type"
		  >ftvDatatypeCtx</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      >
</span
	      ><span id="line-107"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		><span class="hs-identifier hs-type"
		  >HasUnique</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679472768"
		><span class="hs-identifier hs-type"
		  >tyname</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
		><span class="hs-identifier hs-type"
		  >TypeUnique</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      >
</span
	      ><span id="line-108"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><a href="PlutusIR.Core.Type.html#Recursivity"
		><span class="hs-identifier hs-type"
		  >Recursivity</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      >
</span
	      ><span id="line-109"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#UniqueSet"
		><span class="hs-identifier hs-type"
		  >UniqueSet</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
		><span class="hs-identifier hs-type"
		  >TypeUnique</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      >
</span
	      ><span id="line-110"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-identifier hs-type"
		>Traversal'</span
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusIR.Core.Type.html#Datatype"
		><span class="hs-identifier hs-type"
		  >Datatype</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679472768"
		><span class="hs-identifier hs-type"
		  >tyname</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679472769"
		><span class="hs-identifier hs-type"
		  >name</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679472770"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679472771"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679472768"
		><span class="hs-identifier hs-type"
		  >tyname</span
		  ></a
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-111"
      ></span
      ><span id="ftvDatatypeCtx"
      ><span class="annot"
	><span class="annottext"
	  >ftvDatatypeCtx :: forall tyname name (uni :: * -&gt; *) ann.
HasUnique tyname TypeUnique =&gt;
Recursivity
-&gt; UniqueSet TypeUnique
-&gt; Traversal' (Datatype tyname name uni ann) tyname
</span
	  ><a href="PlutusIR.Subst.html#ftvDatatypeCtx"
	  ><span class="hs-identifier hs-var hs-var"
	    >ftvDatatypeCtx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473113"
      ><span class="annot"
	><span class="annottext"
	  >Recursivity
</span
	  ><a href="#local-6989586621679473113"
	  ><span class="hs-identifier hs-var"
	    >r</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473114"
      ><span class="annot"
	><span class="annottext"
	  >UniqueSet TypeUnique
</span
	  ><a href="#local-6989586621679473114"
	  ><span class="hs-identifier hs-var"
	    >bound</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473115"
      ><span class="annot"
	><span class="annottext"
	  >tyname -&gt; f tyname
</span
	  ><a href="#local-6989586621679473115"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473116"
      ><span class="annot"
	><span class="annottext"
	  >d :: Datatype tyname name uni ann
</span
	  ><a href="#local-6989586621679473116"
	  ><span class="hs-identifier hs-var"
	    >d</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Datatype"
	><span class="hs-identifier hs-type"
	  >Datatype</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679473118"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679473118"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473119"
      ><span class="annot"
	><span class="annottext"
	  >TyVarDecl tyname ann
</span
	  ><a href="#local-6989586621679473119"
	  ><span class="hs-identifier hs-var"
	    >tyconstr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473120"
      ><span class="annot"
	><span class="annottext"
	  >[TyVarDecl tyname ann]
</span
	  ><a href="#local-6989586621679473120"
	  ><span class="hs-identifier hs-var"
	    >tyvars</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473121"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679473121"
	  ><span class="hs-identifier hs-var"
	    >destr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473122"
      ><span class="annot"
	><span class="annottext"
	  >[VarDecl tyname name uni ann]
</span
	  ><a href="#local-6989586621679473122"
	  ><span class="hs-identifier hs-var"
	    >constrs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-112"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-113"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679473127"
      ><span class="annot"
	><span class="annottext"
	  >tyConstr :: UniqueSet TypeUnique
</span
	  ><a href="#local-6989586621679473127"
	  ><span class="hs-identifier hs-var hs-var"
	    >tyConstr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting (UniqueSet TypeUnique) (TyVarDecl tyname ann) tyname
-&gt; TyVarDecl tyname ann -&gt; UniqueSet TypeUnique
forall name unique s.
HasUnique name unique =&gt;
Getting (UniqueSet unique) s name -&gt; s -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#setOfByName"
	><span class="hs-identifier hs-var"
	  >USet.setOfByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting (UniqueSet TypeUnique) (TyVarDecl tyname ann) tyname
forall tyname1 ann tyname2 (f :: * -&gt; *).
Functor f =&gt;
(tyname1 -&gt; f tyname2)
-&gt; TyVarDecl tyname1 ann -&gt; f (TyVarDecl tyname2 ann)
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#tyVarDeclName"
	><span class="hs-identifier hs-var"
	  >PLC.tyVarDeclName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl tyname ann
</span
	><a href="#local-6989586621679473119"
	><span class="hs-identifier hs-var"
	  >tyconstr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-114"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679473137"
      ><span class="annot"
	><span class="annottext"
	  >tyVars :: UniqueSet TypeUnique
</span
	  ><a href="#local-6989586621679473137"
	  ><span class="hs-identifier hs-var hs-var"
	    >tyVars</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting (UniqueSet TypeUnique) [TyVarDecl tyname ann] tyname
-&gt; [TyVarDecl tyname ann] -&gt; UniqueSet TypeUnique
forall name unique s.
HasUnique name unique =&gt;
Getting (UniqueSet unique) s name -&gt; s -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#setOfByName"
	><span class="hs-identifier hs-var"
	  >USet.setOfByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(TyVarDecl tyname ann
 -&gt; Const (UniqueSet TypeUnique) (TyVarDecl tyname ann))
-&gt; [TyVarDecl tyname ann]
-&gt; Const (UniqueSet TypeUnique) [TyVarDecl tyname ann]
forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
IndexedTraversal
  Int
  [TyVarDecl tyname ann]
  [TyVarDecl tyname ann]
  (TyVarDecl tyname ann)
  (TyVarDecl tyname ann)
</span
	><span class="hs-identifier hs-var"
	>traversed</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TyVarDecl tyname ann
  -&gt; Const (UniqueSet TypeUnique) (TyVarDecl tyname ann))
 -&gt; [TyVarDecl tyname ann]
 -&gt; Const (UniqueSet TypeUnique) [TyVarDecl tyname ann])
-&gt; Getting (UniqueSet TypeUnique) (TyVarDecl tyname ann) tyname
-&gt; Getting (UniqueSet TypeUnique) [TyVarDecl tyname ann] tyname
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting (UniqueSet TypeUnique) (TyVarDecl tyname ann) tyname
forall tyname1 ann tyname2 (f :: * -&gt; *).
Functor f =&gt;
(tyname1 -&gt; f tyname2)
-&gt; TyVarDecl tyname1 ann -&gt; f (TyVarDecl tyname2 ann)
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#tyVarDeclName"
	><span class="hs-identifier hs-var"
	  >PLC.tyVarDeclName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TyVarDecl tyname ann]
</span
	><a href="#local-6989586621679473120"
	><span class="hs-identifier hs-var"
	  >tyvars</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-115"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679473138"
      ><span class="annot"
	><span class="annottext"
	  >allBound :: UniqueSet TypeUnique
</span
	  ><a href="#local-6989586621679473138"
	  ><span class="hs-identifier hs-var hs-var"
	    >allBound</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473114"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; UniqueSet TypeUnique -&gt; UniqueSet TypeUnique
forall unique.
UniqueSet unique -&gt; UniqueSet unique -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#union"
	><span class="hs-operator hs-var"
	  >`USet.union`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473127"
	><span class="hs-identifier hs-var"
	  >tyConstr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; UniqueSet TypeUnique -&gt; UniqueSet TypeUnique
forall unique.
UniqueSet unique -&gt; UniqueSet unique -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#union"
	><span class="hs-operator hs-var"
	  >`USet.union`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473137"
	><span class="hs-identifier hs-var"
	  >tyVars</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-116"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679473139"
      ><span class="annot"
	><span class="annottext"
	  >varsBound :: UniqueSet TypeUnique
</span
	  ><a href="#local-6989586621679473139"
	  ><span class="hs-identifier hs-var hs-var"
	    >varsBound</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473114"
	><span class="hs-identifier hs-var"
	  >bound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; UniqueSet TypeUnique -&gt; UniqueSet TypeUnique
forall unique.
UniqueSet unique -&gt; UniqueSet unique -&gt; UniqueSet unique
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueSet.html#union"
	><span class="hs-operator hs-var"
	  >`USet.union`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473137"
	><span class="hs-identifier hs-var"
	  >tyVars</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-117"
      ></span
      ><span
      >   </span
      ><span class="hs-keyword"
      >in</span
      ><span
      >
</span
      ><span id="line-118"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="#local-6989586621679473113"
	><span class="hs-identifier hs-var"
	  >r</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-119"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- recursive: introduced names are in scope throughout</span
      ><span
      >
</span
      ><span id="line-120"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="PlutusIR.Core.Type.html#Rec"
	><span class="hs-identifier hs-var"
	  >Rec</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Datatype tyname name uni ann -&gt; f (Datatype tyname name uni ann)
forall tyname name (uni :: * -&gt; *) a (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Datatype tyname name uni a -&gt; f (Datatype tyname name uni a)
</span
	><a href="PlutusIR.Core.Plated.html#datatypeSubtypes"
	><span class="hs-identifier hs-var"
	  >datatypeSubtypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Type tyname uni ann -&gt; f (Type tyname uni ann))
 -&gt; Datatype tyname name uni ann
 -&gt; f (Datatype tyname name uni ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Datatype tyname name uni ann
-&gt; f (Datatype tyname name uni ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique -&gt; Traversal' (Type tyname uni ann) tyname
forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span
	><a href="../../plutus-core/src/PlutusCore.Subst.html#ftvTyCtx"
	><span class="hs-identifier hs-var"
	  >ftvTyCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473138"
	><span class="hs-identifier hs-var"
	  >allBound</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; f tyname
</span
	><a href="#local-6989586621679473115"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Datatype tyname name uni ann
</span
	><a href="#local-6989586621679473116"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-121"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- nonrecursive: type constructor is in scope only in the result type of the constructors</span
      ><span
      >
</span
      ><span id="line-122"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="PlutusIR.Core.Type.html#NonRec"
	><span class="hs-identifier hs-var"
	  >NonRec</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-123"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-124"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679473143"
      ><span class="annot"
	><span class="annottext"
	  >combinedTraversal :: (tyname -&gt; f tyname) -&gt; Type tyname uni a -&gt; f (Type tyname uni a)
</span
	  ><a href="#local-6989586621679473143"
	  ><span class="hs-identifier hs-var hs-var"
	    >combinedTraversal</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-125"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- type arguments are in scope in the argument types</span
      ><span
      >
</span
      ><span id="line-126"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Type tyname uni a -&gt; f (Type tyname uni a)
forall tyname (uni :: * -&gt; *) a (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Type tyname uni a -&gt; f (Type tyname uni a)
</span
	><a href="PlutusIR.Subst.html#funArgs"
	><span class="hs-identifier hs-var"
	  >funArgs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Type tyname uni a -&gt; f (Type tyname uni a))
 -&gt; Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; (tyname -&gt; f tyname)
-&gt; Type tyname uni a
-&gt; f (Type tyname uni a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; forall {f :: * -&gt; *}.
   Applicative f =&gt;
   (tyname -&gt; f tyname) -&gt; Type tyname uni a -&gt; f (Type tyname uni a)
forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span
	><a href="../../plutus-core/src/PlutusCore.Subst.html#ftvTyCtx"
	><span class="hs-identifier hs-var"
	  >ftvTyCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473139"
	><span class="hs-identifier hs-var"
	  >varsBound</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-127"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- sound because the argument types and result type are disjoint</span
      ><span
      >
</span
      ><span id="line-128"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>(forall {f :: * -&gt; *}.
 Applicative f =&gt;
 (tyname -&gt; f tyname) -&gt; Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; (forall {f :: * -&gt; *}.
    Applicative f =&gt;
    (tyname -&gt; f tyname) -&gt; Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; forall {f :: * -&gt; *}.
   Applicative f =&gt;
   (tyname -&gt; f tyname) -&gt; Type tyname uni a -&gt; f (Type tyname uni a)
forall s a. Traversal' s a -&gt; Traversal' s a -&gt; Traversal' s a
</span
	><span class="hs-operator hs-var"
	>`Unsound.adjoin`</span
	></span
      ><span
      >
</span
      ><span id="line-129"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- type constructor and arguments are in scope in the result type</span
      ><span
      >
</span
      ><span id="line-130"
      ></span
      ><span
      >              </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Type tyname uni a -&gt; f (Type tyname uni a)
forall tyname (uni :: * -&gt; *) a (f :: * -&gt; *).
Functor f =&gt;
(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Type tyname uni a -&gt; f (Type tyname uni a)
</span
	><a href="PlutusIR.Subst.html#funRes"
	><span class="hs-identifier hs-var"
	  >funRes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Type tyname uni a -&gt; f (Type tyname uni a))
 -&gt; Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; (tyname -&gt; f tyname)
-&gt; Type tyname uni a
-&gt; f (Type tyname uni a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
-&gt; forall {f :: * -&gt; *}.
   Applicative f =&gt;
   (tyname -&gt; f tyname) -&gt; Type tyname uni a -&gt; f (Type tyname uni a)
forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span
	><a href="../../plutus-core/src/PlutusCore.Subst.html#ftvTyCtx"
	><span class="hs-identifier hs-var"
	  >ftvTyCtx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueSet TypeUnique
</span
	><a href="#local-6989586621679473138"
	><span class="hs-identifier hs-var"
	  >allBound</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-131"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679473162"
      ><span class="annot"
	><span class="annottext"
	  >constrs' :: f [VarDecl tyname name uni ann]
</span
	  ><a href="#local-6989586621679473162"
	  ><span class="hs-identifier hs-var hs-var"
	    >constrs'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LensLike
  f
  [VarDecl tyname name uni ann]
  [VarDecl tyname name uni ann]
  tyname
  tyname
-&gt; LensLike
     f
     [VarDecl tyname name uni ann]
     [VarDecl tyname name uni ann]
     tyname
     tyname
forall (f :: * -&gt; *) s t a b.
LensLike f s t a b -&gt; LensLike f s t a b
</span
	><span class="hs-identifier hs-var"
	>traverseOf</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(VarDecl tyname name uni ann -&gt; f (VarDecl tyname name uni ann))
-&gt; [VarDecl tyname name uni ann] -&gt; f [VarDecl tyname name uni ann]
forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
IndexedTraversal
  Int
  [VarDecl tyname name uni ann]
  [VarDecl tyname name uni ann]
  (VarDecl tyname name uni ann)
  (VarDecl tyname name uni ann)
</span
	><span class="hs-identifier hs-var"
	>traversed</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((VarDecl tyname name uni ann -&gt; f (VarDecl tyname name uni ann))
 -&gt; [VarDecl tyname name uni ann]
 -&gt; f [VarDecl tyname name uni ann])
-&gt; ((tyname -&gt; f tyname)
    -&gt; VarDecl tyname name uni ann -&gt; f (VarDecl tyname name uni ann))
-&gt; LensLike
     f
     [VarDecl tyname name uni ann]
     [VarDecl tyname name uni ann]
     tyname
     tyname
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; VarDecl tyname name uni ann -&gt; f (VarDecl tyname name uni ann)
forall tyname1 name (uni1 :: * -&gt; *) ann tyname2 (uni2 :: * -&gt; *)
       (f :: * -&gt; *).
Functor f =&gt;
(Type tyname1 uni1 ann -&gt; f (Type tyname2 uni2 ann))
-&gt; VarDecl tyname1 name uni1 ann
-&gt; f (VarDecl tyname2 name uni2 ann)
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#varDeclType"
	><span class="hs-identifier hs-var"
	  >PLC.varDeclType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Type tyname uni ann -&gt; f (Type tyname uni ann))
 -&gt; VarDecl tyname name uni ann -&gt; f (VarDecl tyname name uni ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; (tyname -&gt; f tyname)
-&gt; VarDecl tyname name uni ann
-&gt; f (VarDecl tyname name uni ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(tyname -&gt; f tyname)
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
forall {uni :: * -&gt; *} {a}.
(tyname -&gt; f tyname) -&gt; Type tyname uni a -&gt; f (Type tyname uni a)
</span
	><a href="#local-6989586621679473143"
	><span class="hs-identifier hs-var"
	  >combinedTraversal</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname -&gt; f tyname
</span
	><a href="#local-6989586621679473115"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[VarDecl tyname name uni ann]
</span
	><a href="#local-6989586621679473122"
	><span class="hs-identifier hs-var"
	  >constrs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-132"
      ></span
      ><span
      >         </span
      ><span class="hs-keyword"
      >in</span
      ><span
      >
</span
      ><span id="line-133"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; TyVarDecl tyname ann
-&gt; [TyVarDecl tyname ann]
-&gt; name
-&gt; [VarDecl tyname name uni ann]
-&gt; Datatype tyname name uni ann
forall tyname name (uni :: * -&gt; *) a.
a
-&gt; TyVarDecl tyname a
-&gt; [TyVarDecl tyname a]
-&gt; name
-&gt; [VarDecl tyname name uni a]
-&gt; Datatype tyname name uni a
</span
	><a href="PlutusIR.Core.Type.html#Datatype"
	><span class="hs-identifier hs-var"
	  >Datatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679473118"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl tyname ann
</span
	><a href="#local-6989586621679473119"
	><span class="hs-identifier hs-var"
	  >tyconstr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TyVarDecl tyname ann]
</span
	><a href="#local-6989586621679473120"
	><span class="hs-identifier hs-var"
	  >tyvars</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679473121"
	><span class="hs-identifier hs-var"
	  >destr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([VarDecl tyname name uni ann] -&gt; Datatype tyname name uni ann)
-&gt; f [VarDecl tyname name uni ann]
-&gt; f (Datatype tyname name uni ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f [VarDecl tyname name uni ann]
</span
	><a href="#local-6989586621679473162"
	><span class="hs-identifier hs-var"
	  >constrs'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-134"
      ></span
      ><span
      >
</span
      ><span id="line-135"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Traverse the arguments of a function type (nothing if the type is not a function type).</span
	></span
      ><span
      >
</span
      ><span id="line-136"
      ></span
      ><span id="local-6989586621679472801"
      ><span id="local-6989586621679472802"
	><span id="local-6989586621679472803"
	  ><span class="annot"
	    ><a href="PlutusIR.Subst.html#funArgs"
	      ><span class="hs-identifier hs-type"
		>funArgs</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><span class="hs-identifier hs-type"
	      >Traversal'</span
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	      ><span class="hs-identifier hs-type"
		>Type</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472801"
	      ><span class="hs-identifier hs-type"
		>tyname</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472802"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472803"
	      ><span class="hs-identifier hs-type"
		>a</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	      ><span class="hs-identifier hs-type"
		>Type</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472801"
	      ><span class="hs-identifier hs-type"
		>tyname</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472802"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472803"
	      ><span class="hs-identifier hs-type"
		>a</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-137"
      ></span
      ><span id="funArgs"
      ><span class="annot"
	><span class="annottext"
	  >funArgs :: forall tyname (uni :: * -&gt; *) a (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Type tyname uni a -&gt; f (Type tyname uni a)
</span
	  ><a href="PlutusIR.Subst.html#funArgs"
	  ><span class="hs-identifier hs-var hs-var"
	    >funArgs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473174"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni a -&gt; f (Type tyname uni a)
</span
	  ><a href="#local-6989586621679473174"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-138"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-type"
	  >TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679473176"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679473176"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473177"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni a
</span
	  ><a href="#local-6989586621679473177"
	  ><span class="hs-identifier hs-var"
	    >dom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473178"
      ><span class="annot"
	><span class="annottext"
	  >cod :: Type tyname uni a
</span
	  ><a href="#local-6989586621679473178"
	  ><span class="hs-identifier hs-var"
	    >cod</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-type"
	  >TyFun</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; Type tyname uni a -&gt; Type tyname uni a -&gt; Type tyname uni a
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-var"
	  >TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679473176"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni a -&gt; Type tyname uni a -&gt; Type tyname uni a)
-&gt; f (Type tyname uni a)
-&gt; f (Type tyname uni a -&gt; Type tyname uni a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a -&gt; f (Type tyname uni a)
</span
	><a href="#local-6989586621679473174"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><a href="#local-6989586621679473177"
	><span class="hs-identifier hs-var"
	  >dom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (Type tyname uni a -&gt; Type tyname uni a)
-&gt; f (Type tyname uni a) -&gt; f (Type tyname uni a)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Type tyname uni a -&gt; f (Type tyname uni a)
forall tyname (uni :: * -&gt; *) a (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Type tyname uni a -&gt; f (Type tyname uni a)
</span
	><a href="PlutusIR.Subst.html#funArgs"
	><span class="hs-identifier hs-var"
	  >funArgs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a -&gt; f (Type tyname uni a)
</span
	><a href="#local-6989586621679473174"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><a href="#local-6989586621679473178"
	><span class="hs-identifier hs-var"
	  >cod</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-139"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-type"
	  >TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679473179"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679473179"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473180"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni a
</span
	  ><a href="#local-6989586621679473180"
	  ><span class="hs-identifier hs-var"
	    >dom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473181"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni a
</span
	  ><a href="#local-6989586621679473181"
	  ><span class="hs-identifier hs-var"
	    >res</span
	    ></a
	  ></span
	></span
      ><span
      >         </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; Type tyname uni a -&gt; Type tyname uni a -&gt; Type tyname uni a
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-var"
	  >TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679473179"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni a -&gt; Type tyname uni a -&gt; Type tyname uni a)
-&gt; f (Type tyname uni a)
-&gt; f (Type tyname uni a -&gt; Type tyname uni a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a -&gt; f (Type tyname uni a)
</span
	><a href="#local-6989586621679473174"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><a href="#local-6989586621679473180"
	><span class="hs-identifier hs-var"
	  >dom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (Type tyname uni a -&gt; Type tyname uni a)
-&gt; f (Type tyname uni a) -&gt; f (Type tyname uni a)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a -&gt; f (Type tyname uni a)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><a href="#local-6989586621679473181"
	><span class="hs-identifier hs-var"
	  >res</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-140"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679473182"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni a
</span
	  ><a href="#local-6989586621679473182"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      >                       </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a -&gt; f (Type tyname uni a)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><a href="#local-6989586621679473182"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-141"
      ></span
      ><span
      >
</span
      ><span id="line-142"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Traverse the result type of a function type (the type itself if it is not a function type).</span
	></span
      ><span
      >
</span
      ><span id="line-143"
      ></span
      ><span id="local-6989586621679472806"
      ><span id="local-6989586621679472807"
	><span id="local-6989586621679472808"
	  ><span class="annot"
	    ><a href="PlutusIR.Subst.html#funRes"
	      ><span class="hs-identifier hs-type"
		>funRes</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><span class="hs-identifier hs-type"
	      >Lens'</span
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	      ><span class="hs-identifier hs-type"
		>Type</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472806"
	      ><span class="hs-identifier hs-type"
		>tyname</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472807"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472808"
	      ><span class="hs-identifier hs-type"
		>a</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	      ><span class="hs-identifier hs-type"
		>Type</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472806"
	      ><span class="hs-identifier hs-type"
		>tyname</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472807"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679472808"
	      ><span class="hs-identifier hs-type"
		>a</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-144"
      ></span
      ><span id="funRes"
      ><span class="annot"
	><span class="annottext"
	  >funRes :: forall tyname (uni :: * -&gt; *) a (f :: * -&gt; *).
Functor f =&gt;
(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Type tyname uni a -&gt; f (Type tyname uni a)
</span
	  ><a href="PlutusIR.Subst.html#funRes"
	  ><span class="hs-identifier hs-var hs-var"
	    >funRes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473187"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni a -&gt; f (Type tyname uni a)
</span
	  ><a href="#local-6989586621679473187"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-145"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-type"
	  >TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679473188"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679473188"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473189"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni a
</span
	  ><a href="#local-6989586621679473189"
	  ><span class="hs-identifier hs-var"
	    >dom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679473190"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni a
</span
	  ><a href="#local-6989586621679473190"
	  ><span class="hs-identifier hs-var"
	    >cod</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; Type tyname uni a -&gt; Type tyname uni a -&gt; Type tyname uni a
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-var"
	  >TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679473188"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><a href="#local-6989586621679473189"
	><span class="hs-identifier hs-var"
	  >dom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni a -&gt; Type tyname uni a)
-&gt; f (Type tyname uni a) -&gt; f (Type tyname uni a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Type tyname uni a -&gt; f (Type tyname uni a)
forall tyname (uni :: * -&gt; *) a (f :: * -&gt; *).
Functor f =&gt;
(Type tyname uni a -&gt; f (Type tyname uni a))
-&gt; Type tyname uni a -&gt; f (Type tyname uni a)
</span
	><a href="PlutusIR.Subst.html#funRes"
	><span class="hs-identifier hs-var"
	  >funRes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a -&gt; f (Type tyname uni a)
</span
	><a href="#local-6989586621679473187"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><a href="#local-6989586621679473190"
	><span class="hs-identifier hs-var"
	  >cod</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-146"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679473191"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni a
</span
	  ><a href="#local-6989586621679473191"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      >               </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a -&gt; f (Type tyname uni a)
</span
	><a href="#local-6989586621679473187"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><a href="#local-6989586621679473191"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-147"
      ></span
      ><span
      >
</span
      ><span id="line-148"
      ></span
      ><span class="hs-comment"
      >-- TODO: these could be Traversals</span
      ><span
      >
</span
      ><span id="line-149"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Get all the term variables in a term.</span
	></span
      ><span
      >
</span
      ><span id="line-150"
      ></span
      ><span id="local-6989586621679472839"
      ><span id="local-6989586621679472840"
	><span id="local-6989586621679472841"
	  ><span id="local-6989586621679472842"
	    ><span id="local-6989586621679472843"
	      ><span class="annot"
		><a href="PlutusIR.Subst.html#vTerm"
		  ><span class="hs-identifier hs-type"
		    >vTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><span class="hs-identifier hs-type"
		  >Fold</span
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472840"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472839"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472841"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472842"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472843"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472839"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-151"
      ></span
      ><span id="vTerm"
      ><span class="annot"
	><span class="annottext"
	  >vTerm :: forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(name -&gt; f name)
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span
	  ><a href="PlutusIR.Subst.html#vTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >vTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span
	><a href="PlutusIR.Core.Plated.html#termSubtermsDeep"
	><span class="hs-identifier hs-var"
	  >termSubtermsDeep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
 -&gt; Term tyname name uni fun ann
 -&gt; f (Term tyname name uni fun ann))
-&gt; ((name -&gt; f name)
    -&gt; Term tyname name uni fun ann
    -&gt; f (Term tyname name uni fun ann))
-&gt; (name -&gt; f name)
-&gt; Term tyname name uni fun ann
-&gt; f (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(name -&gt; f name)
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(name -&gt; f name)
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span
	><a href="PlutusIR.Core.Plated.html#termVars"
	><span class="hs-identifier hs-var"
	  >termVars</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-152"
      ></span
      ><span
      >
</span
      ><span id="line-153"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Get all the type variables in a term.</span
	></span
      ><span
      >
</span
      ><span id="line-154"
      ></span
      ><span id="local-6989586621679472862"
      ><span id="local-6989586621679472863"
	><span id="local-6989586621679472864"
	  ><span id="local-6989586621679472865"
	    ><span id="local-6989586621679472866"
	      ><span class="annot"
		><a href="PlutusIR.Subst.html#tvTerm"
		  ><span class="hs-identifier hs-type"
		    >tvTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><span class="hs-identifier hs-type"
		  >Fold</span
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472862"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472863"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472864"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472865"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472866"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679472862"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-155"
      ></span
      ><span id="tvTerm"
      ><span class="annot"
	><span class="annottext"
	  >tvTerm :: forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(tyname -&gt; f tyname)
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span
	  ><a href="PlutusIR.Subst.html#tvTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >tvTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span
	><a href="PlutusIR.Core.Plated.html#termSubtypesDeep"
	><span class="hs-identifier hs-var"
	  >termSubtypesDeep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Type tyname uni ann -&gt; f (Type tyname uni ann))
 -&gt; Term tyname name uni fun ann
 -&gt; f (Term tyname name uni fun ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Term tyname name uni fun ann
-&gt; f (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(tyname -&gt; f tyname)
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
forall tyname (uni :: * -&gt; *) ann (f :: * -&gt; *).
Applicative f =&gt;
(tyname -&gt; f tyname)
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Plated.html#typeTyVars"
	><span class="hs-identifier hs-var"
	  >typeTyVars</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-156"
      ></span
      ></pre
    ></body
  ></html
>
