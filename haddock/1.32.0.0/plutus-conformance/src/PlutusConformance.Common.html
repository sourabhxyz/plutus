<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleInstances    #-}</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE OverloadedStrings    #-}</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE UndecidableInstances #-}</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{- | Plutus conformance test suite library. -}</span
	></span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >PlutusConformance.Common</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Annotation.html"
	><span class="hs-identifier"
	  >PlutusCore.Annotation</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.html"
	><span class="hs-identifier"
	  >PlutusCore.Default</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier"
	  >DefaultFun</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier"
	  >DefaultUni</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Error.html"
	><span class="hs-identifier"
	  >PlutusCore.Error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Error.html#ParserErrorBundle"
	><span class="hs-identifier"
	  >ParserErrorBundle</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostModelInterface.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.CostModelInterface</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudget.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.ExBudget</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetingDefaults.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.ExBudgetingDefaults</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetingDefaults.html#defaultCostModelParamsForTesting"
	><span class="hs-identifier"
	  >defaultCostModelParamsForTesting</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.Unique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier"
	  >Name</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Quote.html"
	><span class="hs-identifier"
	  >PlutusCore.Quote</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Quote.html#runQuoteT"
	><span class="hs-identifier"
	  >runQuoteT</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusPrelude.html"
	><span class="hs-identifier"
	  >PlutusPrelude</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#Pretty"
	><span class="hs-identifier"
	  >Pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier"
	  >pretty</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../prettyprinter-configurable/src/Text.PrettyBy.Default.html#display"
	><span class="hs-identifier"
	  >display</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#void"
	><span class="hs-identifier"
	  >void</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.html"
	><span class="hs-identifier"
	  >UntypedPlutusCore</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>UPLC</span
	></span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Parser.html"
	><span class="hs-identifier"
	  >UntypedPlutusCore.Parser</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>UPLC</span
	></span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Maybe.html"
	><span class="hs-identifier"
	  >Data.Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Maybe.html#fromJust"
	><span class="hs-identifier"
	  >fromJust</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.html"
	><span class="hs-identifier"
	  >Data.Text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>T</span
	></span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.IO.html"
	><span class="hs-identifier"
	  >Data.Text.IO</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>T</span
	></span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/directory-1.3.8.5/docs/src/System.Directory.html"
	><span class="hs-identifier"
	  >System.Directory</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/System.FilePath.html"
	><span class="hs-identifier"
	  >System.FilePath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/filepath-1.4.300.1/docs/src/System.FilePath.Posix.html#takeBaseName"
	><span class="hs-identifier"
	  >takeBaseName</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/filepath-1.4.300.1/docs/src/System.FilePath.Posix.html#%3C.%3E"
	><span class="hs-operator"
	  >(&lt;.&gt;)</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/filepath-1.4.300.1/docs/src/System.FilePath.Posix.html#%3C%2F%3E"
	><span class="hs-operator"
	  >(&lt;/&gt;)</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.html"
	><span class="hs-identifier"
	  >Test.Tasty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.html#defaultMain"
	><span class="hs-identifier"
	  >defaultMain</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Core.html#testGroup"
	><span class="hs-identifier"
	  >testGroup</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-expected-failure-0.12.3/docs/src/Test.Tasty.ExpectedFailure.html"
	><span class="hs-identifier"
	  >Test.Tasty.ExpectedFailure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-expected-failure-0.12.3/docs/src/Test.Tasty.ExpectedFailure.html#expectFail"
	><span class="hs-identifier"
	  >expectFail</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Test.Tasty.Extras.html"
	><span class="hs-identifier"
	  >Test.Tasty.Extras</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/Test.Tasty.Extras.html#goldenVsDocM"
	><span class="hs-identifier"
	  >goldenVsDocM</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-golden-2.3.5/docs/src/Test.Tasty.Golden.html"
	><span class="hs-identifier"
	  >Test.Tasty.Golden</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-golden-2.3.5/docs/src/Test.Tasty.Golden.html#findByExtension"
	><span class="hs-identifier"
	  >findByExtension</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-golden-2.3.5/docs/src/Test.Tasty.Golden.Advanced.html"
	><span class="hs-identifier"
	  >Test.Tasty.Golden.Advanced</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-golden-2.3.5/docs/src/Test.Tasty.Golden.Advanced.html#goldenTest"
	><span class="hs-identifier"
	  >goldenTest</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Providers.html"
	><span class="hs-identifier"
	  >Test.Tasty.Providers</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier"
	  >TestTree</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/witherable-0.5/docs/src/Witherable.html"
	><span class="hs-identifier"
	  >Witherable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/witherable-0.5/docs/src/Witherable.html#Witherable"
	><span class="hs-identifier"
	  >Witherable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/witherable-0.5/docs/src/Witherable.html#wither"
	><span class="hs-identifier"
	  >wither</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span class="hs-comment"
      >-- Common functions for all tests</span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{- | The default shown text when a parse error occurs.
We don't want to show the detailed parse errors so that
users of the test suite can produce the expected output more easily. -}</span
	></span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#shownParseError"
	><span class="hs-identifier hs-type"
	  >shownParseError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span id="shownParseError"
      ><span class="annot"
	><span class="annottext"
	  >shownParseError :: Text
</span
	  ><a href="PlutusConformance.Common.html#shownParseError"
	  ><span class="hs-identifier hs-var hs-var"
	    >shownParseError</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;parse error&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The default shown text when evaluation fails.</span
	></span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#shownEvaluationFailure"
	><span class="hs-identifier hs-type"
	  >shownEvaluationFailure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span id="shownEvaluationFailure"
      ><span class="annot"
	><span class="annottext"
	  >shownEvaluationFailure :: Text
</span
	  ><a href="PlutusConformance.Common.html#shownEvaluationFailure"
	  ><span class="hs-identifier hs-var hs-var"
	    >shownEvaluationFailure</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;evaluation failure&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The default parser to parse UPLC program inputs.</span
	></span
      ><span
      >
</span
      ><span id="line-47"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#parseTxt"
	><span class="hs-identifier hs-type"
	  >parseTxt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      >
</span
      ><span id="line-48"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-49"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Either"
	><span class="hs-identifier hs-type"
	  >Either</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Error.html#ParserErrorBundle"
	><span class="hs-identifier hs-type"
	  >ParserErrorBundle</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Core.Type.html#Program"
	><span class="hs-identifier hs-type"
	  >UPLC.Program</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >DefaultFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Annotation.html#SrcSpan"
	><span class="hs-identifier hs-type"
	  >SrcSpan</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-50"
      ></span
      ><span id="parseTxt"
      ><span class="annot"
	><span class="annottext"
	  >parseTxt :: Text
-&gt; Either
     ParserErrorBundle (Program Name DefaultUni DefaultFun SrcSpan)
</span
	  ><a href="PlutusConformance.Common.html#parseTxt"
	  ><span class="hs-identifier hs-var hs-var"
	    >parseTxt</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151001"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679151001"
	  ><span class="hs-identifier hs-var"
	    >resTxt</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>QuoteT
  (Either ParserErrorBundle)
  (Program Name DefaultUni DefaultFun SrcSpan)
-&gt; Either
     ParserErrorBundle (Program Name DefaultUni DefaultFun SrcSpan)
forall (m :: * -&gt; *) a. Monad m =&gt; QuoteT m a -&gt; m a
</span
	><a href="../../plutus-core/src/PlutusCore.Quote.html#runQuoteT"
	><span class="hs-identifier hs-var"
	  >runQuoteT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(QuoteT
   (Either ParserErrorBundle)
   (Program Name DefaultUni DefaultFun SrcSpan)
 -&gt; Either
      ParserErrorBundle (Program Name DefaultUni DefaultFun SrcSpan))
-&gt; QuoteT
     (Either ParserErrorBundle)
     (Program Name DefaultUni DefaultFun SrcSpan)
-&gt; Either
     ParserErrorBundle (Program Name DefaultUni DefaultFun SrcSpan)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
-&gt; QuoteT
     (Either ParserErrorBundle)
     (Program Name DefaultUni DefaultFun SrcSpan)
forall e (m :: * -&gt; *).
(AsParserErrorBundle e, MonadError e m, MonadQuote m) =&gt;
Text -&gt; m (Program Name DefaultUni DefaultFun SrcSpan)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Parser.html#parseProgram"
	><span class="hs-identifier hs-var"
	  >UPLC.parseProgram</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151001"
	><span class="hs-identifier hs-var"
	  >resTxt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The input/output UPLC program type.</span
	></span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="UplcProg"
      ><span class="annot"
	><a href="PlutusConformance.Common.html#UplcProg"
	  ><span class="hs-identifier hs-var"
	    >UplcProg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Core.Type.html#Program"
	><span class="hs-identifier hs-type"
	  >UPLC.Program</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >DefaultFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span
      >
</span
      ><span id="line-55"
      ></span
      ><span class="hs-comment"
      >-- UPLC evaluation test functions</span
      ><span
      >
</span
      ><span id="line-56"
      ></span
      ><span
      >
</span
      ><span id="line-57"
      ></span
      ><span class="hs-comment"
      >-- convenience type synonym</span
      ><span
      >
</span
      ><span id="line-58"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="UplcEvaluatorFun"
      ><span class="annot"
	><a href="PlutusConformance.Common.html#UplcEvaluatorFun"
	  ><span class="hs-identifier hs-var"
	    >UplcEvaluatorFun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151003"
      ><span class="annot"
	><a href="#local-6989586621679151003"
	  ><span class="hs-identifier hs-type"
	    >res</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcProg"
	><span class="hs-identifier hs-type"
	  >UplcProg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679151003"
	><span class="hs-identifier hs-type"
	  >res</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-59"
      ></span
      ><span
      >
</span
      ><span id="line-60"
      ></span
      ><span class="hs-comment"
      >-- TODO: consider splitting up the evaluator with costing into a part that parses the model</span
      ><span
      >
</span
      ><span id="line-61"
      ></span
      ><span class="hs-comment"
      >-- and a part that consumes it. Currently the tests are fast enough regardless so it doesn't</span
      ><span
      >
</span
      ><span id="line-62"
      ></span
      ><span class="hs-comment"
      >-- matter.</span
      ><span
      >
</span
      ><span id="line-63"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The evaluator to be tested.</span
	></span
      ><span
      >
</span
      ><span id="line-64"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="UplcEvaluator"
      ><span class="annot"
	><a href="PlutusConformance.Common.html#UplcEvaluator"
	  ><span class="hs-identifier hs-var"
	    >UplcEvaluator</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-65"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | An evaluator that just produces an output program, or fails.</span
	></span
      ><span
      >
</span
      ><span id="line-66"
      ></span
      ><span
      >  </span
      ><span id="UplcEvaluatorWithoutCosting"
      ><span class="annot"
	><a href="PlutusConformance.Common.html#UplcEvaluatorWithoutCosting"
	  ><span class="hs-identifier hs-var"
	    >UplcEvaluatorWithoutCosting</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcEvaluatorFun"
	><span class="hs-identifier hs-type"
	  >UplcEvaluatorFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcProg"
	><span class="hs-identifier hs-type"
	  >UplcProg</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-67"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- | An evaluator that produces an output program along with the cost of evaluating it, or fails.</span
      ><span
      >
</span
      ><span id="line-68"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Note that nothing cares about the cost of failing programs, so we don't test for conformance</span
      ><span
      >
</span
      ><span id="line-69"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- there.</span
      ><span
      >
</span
      ><span id="line-70"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="UplcEvaluatorWithCosting"
      ><span class="annot"
	><a href="PlutusConformance.Common.html#UplcEvaluatorWithCosting"
	  ><span class="hs-identifier hs-var"
	    >UplcEvaluatorWithCosting</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostModelInterface.html#CostModelParams"
	><span class="hs-identifier hs-type"
	  >CostModelParams</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcEvaluatorFun"
	><span class="hs-identifier hs-type"
	  >UplcEvaluatorFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcProg"
	><span class="hs-identifier hs-type"
	  >UplcProg</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudget.html#ExBudget"
	><span class="hs-identifier hs-type"
	  >ExBudget</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-71"
      ></span
      ><span
      >
</span
      ><span id="line-72"
      ></span
      ><span class="hs-comment"
      >-- | Walk a file tree, making test groups for directories with subdirectories,</span
      ><span
      >
</span
      ><span id="line-73"
      ></span
      ><span class="hs-comment"
      >-- and test cases for directories without.</span
      ><span
      >
</span
      ><span id="line-74"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#discoverTests"
	><span class="hs-identifier hs-type"
	  >discoverTests</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-75"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcEvaluator"
	><span class="hs-identifier hs-type"
	  >UplcEvaluator</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ The evaluator to be tested.</span
	></span
      ><span
      >
</span
      ><span id="line-76"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostModelInterface.html#CostModelParams"
	><span class="hs-identifier hs-type"
	  >CostModelParams</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-77"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.IO.html#FilePath"
	><span class="hs-identifier hs-type"
	  >FilePath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-78"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- ^ A function that takes a test directory and returns a Bool indicating</span
      ><span
      >
</span
      ><span id="line-79"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- whether the evaluation test for the file in that directory is expected to</span
      ><span
      >
</span
      ><span id="line-80"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- fail.</span
      ><span
      >
</span
      ><span id="line-81"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.IO.html#FilePath"
	><span class="hs-identifier hs-type"
	  >FilePath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-82"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- ^ A function that takes a test directory and returns a Bool indicating</span
      ><span
      >
</span
      ><span id="line-83"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- whether the budget test for the file in that directory is expected to fail.</span
      ><span
      >
</span
      ><span id="line-84"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.IO.html#FilePath"
	><span class="hs-identifier hs-type"
	  >FilePath</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-85"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ The directory to search for tests.</span
	></span
      ><span
      >
</span
      ><span id="line-86"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#IO"
	><span class="hs-identifier hs-type"
	  >IO</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-87"
      ></span
      ><span id="discoverTests"
      ><span class="annot"
	><span class="annottext"
	  >discoverTests :: UplcEvaluator
-&gt; CostModelParams
-&gt; (String -&gt; Bool)
-&gt; (String -&gt; Bool)
-&gt; String
-&gt; IO TestTree
</span
	  ><a href="PlutusConformance.Common.html#discoverTests"
	  ><span class="hs-identifier hs-var hs-var"
	    >discoverTests</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151008"
      ><span class="annot"
	><span class="annottext"
	  >UplcEvaluator
</span
	  ><a href="#local-6989586621679151008"
	  ><span class="hs-identifier hs-var"
	    >eval</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151009"
      ><span class="annot"
	><span class="annottext"
	  >CostModelParams
</span
	  ><a href="#local-6989586621679151009"
	  ><span class="hs-identifier hs-var"
	    >modelParams</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151010"
      ><span class="annot"
	><span class="annottext"
	  >String -&gt; Bool
</span
	  ><a href="#local-6989586621679151010"
	  ><span class="hs-identifier hs-var"
	    >evaluationFailureExpected</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151011"
      ><span class="annot"
	><span class="annottext"
	  >String -&gt; Bool
</span
	  ><a href="#local-6989586621679151011"
	  ><span class="hs-identifier hs-var"
	    >budgetFailureExpected</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; IO TestTree
</span
	><a href="#local-6989586621679151012"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-88"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-89"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679151012"
      ><span class="annot"
	><span class="annottext"
	  >go :: String -&gt; IO TestTree
</span
	  ><a href="#local-6989586621679151012"
	  ><span class="hs-identifier hs-var hs-var"
	    >go</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151029"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679151029"
	  ><span class="hs-identifier hs-var"
	    >dir</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-90"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679151030"
      ><span class="annot"
	><span class="annottext"
	  >name :: String
</span
	  ><a href="#local-6989586621679151030"
	  ><span class="hs-identifier hs-var hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String
</span
	><a href="https://hackage.haskell.org/package/filepath-1.4.300.1/docs/src/System.FilePath.Posix.html#takeBaseName"
	><span class="hs-identifier hs-var"
	  >takeBaseName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151029"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-91"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679151031"
      ><span class="annot"
	><span class="annottext"
	  >[String]
</span
	  ><a href="#local-6989586621679151031"
	  ><span class="hs-identifier hs-var"
	    >children</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; IO [String]
</span
	><a href="https://hackage.haskell.org/package/directory-1.3.8.5/docs/src/System.Directory.html#listDirectory"
	><span class="hs-identifier hs-var"
	  >listDirectory</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151029"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-92"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679151033"
      ><span class="annot"
	><span class="annottext"
	  >[String]
</span
	  ><a href="#local-6989586621679151033"
	  ><span class="hs-identifier hs-var"
	    >subdirs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((String -&gt; IO (Maybe String)) -&gt; [String] -&gt; IO [String])
-&gt; [String] -&gt; (String -&gt; IO (Maybe String)) -&gt; IO [String]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#flip"
	><span class="hs-identifier hs-var"
	  >flip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; IO (Maybe String)) -&gt; [String] -&gt; IO [String]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Witherable t, Applicative f) =&gt;
(a -&gt; f (Maybe b)) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f (Maybe b)) -&gt; [a] -&gt; f [b]
</span
	><a href="https://hackage.haskell.org/package/witherable-0.5/docs/src/Witherable.html#wither"
	><span class="hs-identifier hs-var"
	  >wither</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[String]
</span
	><a href="#local-6989586621679151031"
	><span class="hs-identifier hs-var"
	  >children</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((String -&gt; IO (Maybe String)) -&gt; IO [String])
-&gt; (String -&gt; IO (Maybe String)) -&gt; IO [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679151035"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679151035"
	  ><span class="hs-identifier hs-var"
	    >child</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-93"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679151036"
      ><span class="annot"
	><span class="annottext"
	  >fullPath :: String
</span
	  ><a href="#local-6989586621679151036"
	  ><span class="hs-identifier hs-var hs-var"
	    >fullPath</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151029"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
</span
	><a href="https://hackage.haskell.org/package/filepath-1.4.300.1/docs/src/System.FilePath.Posix.html#%3C%2F%3E"
	><span class="hs-operator hs-var"
	  >&lt;/&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151035"
	><span class="hs-identifier hs-var"
	  >child</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-94"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679151037"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679151037"
	  ><span class="hs-identifier hs-var"
	    >isDir</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; IO Bool
</span
	><a href="https://hackage.haskell.org/package/directory-1.3.8.5/docs/src/System.Directory.html#doesDirectoryExist"
	><span class="hs-identifier hs-var"
	  >doesDirectoryExist</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151036"
	><span class="hs-identifier hs-var"
	  >fullPath</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-95"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe String -&gt; IO (Maybe String)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Maybe String -&gt; IO (Maybe String))
-&gt; Maybe String -&gt; IO (Maybe String)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679151037"
	><span class="hs-identifier hs-var"
	  >isDir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151036"
	><span class="hs-identifier hs-var"
	  >fullPath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe String
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-96"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[String] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Foldable.html#null"
	><span class="hs-identifier hs-var"
	  >null</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[String]
</span
	><a href="#local-6989586621679151033"
	><span class="hs-identifier hs-var"
	  >subdirs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-97"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- no children, this is a test case directory</span
      ><span
      >
</span
      ><span id="line-98"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >then</span
      ><span
      >
</span
      ><span id="line-99"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679151043"
      ><span class="annot"
	><span class="annottext"
	  >tests :: TestTree
</span
	  ><a href="#local-6989586621679151043"
	  ><span class="hs-identifier hs-var hs-var"
	    >tests</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcEvaluator
</span
	><a href="#local-6989586621679151008"
	><span class="hs-identifier hs-var"
	  >eval</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-100"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcEvaluatorWithCosting"
	><span class="hs-identifier hs-type"
	  >UplcEvaluatorWithCosting</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151044"
      ><span class="annot"
	><span class="annottext"
	  >CostModelParams -&gt; UplcEvaluatorFun (UplcProg, ExBudget)
</span
	  ><a href="#local-6989586621679151044"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; [TestTree] -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Core.html#testGroup"
	><span class="hs-identifier hs-var"
	  >testGroup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151030"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-101"
      ></span
      ><span
      >                        </span
      ><span class="hs-special"
      >[</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; UplcEvaluatorFun UplcProg -&gt; TestTree
</span
	><a href="#local-6989586621679151045"
	><span class="hs-identifier hs-var"
	  >testForEval</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151029"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151030"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>((UplcProg, ExBudget) -&gt; UplcProg)
-&gt; Maybe (UplcProg, ExBudget) -&gt; Maybe UplcProg
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UplcProg, ExBudget) -&gt; UplcProg
forall a b. (a, b) -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Tuple.html#fst"
	><span class="hs-identifier hs-var"
	  >fst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Maybe (UplcProg, ExBudget) -&gt; Maybe UplcProg)
-&gt; UplcEvaluatorFun (UplcProg, ExBudget)
-&gt; UplcEvaluatorFun UplcProg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostModelParams -&gt; UplcEvaluatorFun (UplcProg, ExBudget)
</span
	><a href="#local-6989586621679151044"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostModelParams
</span
	><a href="#local-6989586621679151009"
	><span class="hs-identifier hs-var"
	  >modelParams</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-102"
      ></span
      ><span
      >                        </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; UplcEvaluatorFun ExBudget -&gt; TestTree
</span
	><a href="#local-6989586621679151048"
	><span class="hs-identifier hs-var"
	  >testForBudget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151029"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151030"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>((UplcProg, ExBudget) -&gt; ExBudget)
-&gt; Maybe (UplcProg, ExBudget) -&gt; Maybe ExBudget
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UplcProg, ExBudget) -&gt; ExBudget
forall a b. (a, b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Tuple.html#snd"
	><span class="hs-identifier hs-var"
	  >snd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Maybe (UplcProg, ExBudget) -&gt; Maybe ExBudget)
-&gt; UplcEvaluatorFun (UplcProg, ExBudget)
-&gt; UplcEvaluatorFun ExBudget
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostModelParams -&gt; UplcEvaluatorFun (UplcProg, ExBudget)
</span
	><a href="#local-6989586621679151044"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostModelParams
</span
	><a href="#local-6989586621679151009"
	><span class="hs-identifier hs-var"
	  >modelParams</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-103"
      ></span
      ><span
      >                        </span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-104"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcEvaluatorWithoutCosting"
	><span class="hs-identifier hs-type"
	  >UplcEvaluatorWithoutCosting</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151050"
      ><span class="annot"
	><span class="annottext"
	  >UplcEvaluatorFun UplcProg
</span
	  ><a href="#local-6989586621679151050"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; UplcEvaluatorFun UplcProg -&gt; TestTree
</span
	><a href="#local-6989586621679151045"
	><span class="hs-identifier hs-var"
	  >testForEval</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151029"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151030"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcEvaluatorFun UplcProg
</span
	><a href="#local-6989586621679151050"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-105"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree -&gt; IO TestTree
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="#local-6989586621679151043"
	><span class="hs-identifier hs-var"
	  >tests</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-106"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- has children, so it's a grouping directory</span
      ><span
      >
</span
      ><span id="line-107"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; [TestTree] -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Core.html#testGroup"
	><span class="hs-identifier hs-var"
	  >testGroup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151030"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([TestTree] -&gt; TestTree) -&gt; IO [TestTree] -&gt; IO TestTree
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; IO TestTree) -&gt; [String] -&gt; IO [TestTree]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; IO TestTree
</span
	><a href="#local-6989586621679151012"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[String]
</span
	><a href="#local-6989586621679151033"
	><span class="hs-identifier hs-var"
	  >subdirs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-108"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679151045"
	><span class="hs-identifier hs-type"
	  >testForEval</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.IO.html#FilePath"
	><span class="hs-identifier hs-type"
	  >FilePath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#String"
	><span class="hs-identifier hs-type"
	  >String</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcEvaluatorFun"
	><span class="hs-identifier hs-type"
	  >UplcEvaluatorFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcProg"
	><span class="hs-identifier hs-type"
	  >UplcProg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-109"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679151045"
      ><span class="annot"
	><span class="annottext"
	  >testForEval :: String -&gt; String -&gt; UplcEvaluatorFun UplcProg -&gt; TestTree
</span
	  ><a href="#local-6989586621679151045"
	  ><span class="hs-identifier hs-var hs-var"
	    >testForEval</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151053"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679151053"
	  ><span class="hs-identifier hs-var"
	    >dir</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151054"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679151054"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151055"
      ><span class="annot"
	><span class="annottext"
	  >UplcEvaluatorFun UplcProg
</span
	  ><a href="#local-6989586621679151055"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-110"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679151056"
      ><span class="annot"
	><span class="annottext"
	  >goldenFilePath :: String
</span
	  ><a href="#local-6989586621679151056"
	  ><span class="hs-identifier hs-var hs-var"
	    >goldenFilePath</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151053"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
</span
	><a href="https://hackage.haskell.org/package/filepath-1.4.300.1/docs/src/System.FilePath.Posix.html#%3C%2F%3E"
	><span class="hs-operator hs-var"
	  >&lt;/&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151054"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
</span
	><a href="https://hackage.haskell.org/package/filepath-1.4.300.1/docs/src/System.FilePath.Posix.html#%3C.%3E"
	><span class="hs-operator hs-var"
	  >&lt;.&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;uplc.expected&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-111"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679151061"
      ><span class="annot"
	><span class="annottext"
	  >test :: TestTree
</span
	  ><a href="#local-6989586621679151061"
	  ><span class="hs-identifier hs-var hs-var"
	    >test</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
-&gt; IO (Either Text UplcProg)
-&gt; IO (Either Text UplcProg)
-&gt; (Either Text UplcProg
    -&gt; Either Text UplcProg -&gt; IO (Maybe String))
-&gt; (Either Text UplcProg -&gt; IO ())
-&gt; TestTree
forall a.
String
-&gt; IO a
-&gt; IO a
-&gt; (a -&gt; a -&gt; IO (Maybe String))
-&gt; (a -&gt; IO ())
-&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-golden-2.3.5/docs/src/Test.Tasty.Golden.Advanced.html#goldenTest"
	><span class="hs-identifier hs-var"
	  >goldenTest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-112"
      ></span
      ><span
      >                   </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151054"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot; (evaluation)&quot;</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-113"
      ></span
      ><span
      >                   </span
      ><span class="hs-comment"
      >-- get the golden test value</span
      ><span
      >
</span
      ><span id="line-114"
      ></span
      ><span
      >                   </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Either Text UplcProg
</span
	><a href="PlutusConformance.Common.html#expectedToProg"
	><span class="hs-identifier hs-var"
	  >expectedToProg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Either Text UplcProg)
-&gt; IO Text -&gt; IO (Either Text UplcProg)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; IO Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.IO.html#readFile"
	><span class="hs-identifier hs-var"
	  >T.readFile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151056"
	><span class="hs-identifier hs-var"
	  >goldenFilePath</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-115"
      ></span
      ><span
      >                   </span
      ><span class="hs-comment"
      >-- get the tested value</span
      ><span
      >
</span
      ><span id="line-116"
      ></span
      ><span
      >                   </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>UplcEvaluatorFun UplcProg -&gt; String -&gt; IO (Either Text UplcProg)
forall res. UplcEvaluatorFun res -&gt; String -&gt; IO (Either Text res)
</span
	><a href="PlutusConformance.Common.html#getTestedValue"
	><span class="hs-identifier hs-var"
	  >getTestedValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcEvaluatorFun UplcProg
</span
	><a href="#local-6989586621679151055"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151053"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-117"
      ></span
      ><span
      >                   </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span
      > </span
      ><span id="local-6989586621679151065"
      ><span class="annot"
	><span class="annottext"
	  >Either Text UplcProg
</span
	  ><a href="#local-6989586621679151065"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151066"
      ><span class="annot"
	><span class="annottext"
	  >Either Text UplcProg
</span
	  ><a href="#local-6989586621679151066"
	  ><span class="hs-identifier hs-var"
	    >y</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe String -&gt; IO (Maybe String)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Maybe String -&gt; IO (Maybe String))
-&gt; Maybe String -&gt; IO (Maybe String)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Either Text UplcProg -&gt; Either Text UplcProg -&gt; Maybe String
</span
	><a href="PlutusConformance.Common.html#compareAlphaEq"
	><span class="hs-identifier hs-var"
	  >compareAlphaEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Either Text UplcProg
</span
	><a href="#local-6989586621679151065"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Either Text UplcProg
</span
	><a href="#local-6989586621679151066"
	><span class="hs-identifier hs-var"
	  >y</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- comparison function</span
      ><span
      >
</span
      ><span id="line-118"
      ></span
      ><span
      >                   </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Either Text UplcProg -&gt; IO ()
</span
	><a href="PlutusConformance.Common.html#updateGoldenFile"
	><span class="hs-identifier hs-var"
	  >updateGoldenFile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151056"
	><span class="hs-identifier hs-var"
	  >goldenFilePath</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- update the golden file</span
      ><span
      >
</span
      ><span id="line-119"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; TestTree -&gt; TestTree
</span
	><a href="#local-6989586621679151069"
	><span class="hs-identifier hs-var"
	  >possiblyFailingTest</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Bool
</span
	><a href="#local-6989586621679151010"
	><span class="hs-identifier hs-var"
	  >evaluationFailureExpected</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151053"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="#local-6989586621679151061"
	><span class="hs-identifier hs-var"
	  >test</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-120"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679151048"
	><span class="hs-identifier hs-type"
	  >testForBudget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.IO.html#FilePath"
	><span class="hs-identifier hs-type"
	  >FilePath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#String"
	><span class="hs-identifier hs-type"
	  >String</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcEvaluatorFun"
	><span class="hs-identifier hs-type"
	  >UplcEvaluatorFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudget.html#ExBudget"
	><span class="hs-identifier hs-type"
	  >ExBudget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-121"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679151048"
      ><span class="annot"
	><span class="annottext"
	  >testForBudget :: String -&gt; String -&gt; UplcEvaluatorFun ExBudget -&gt; TestTree
</span
	  ><a href="#local-6989586621679151048"
	  ><span class="hs-identifier hs-var hs-var"
	    >testForBudget</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151070"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679151070"
	  ><span class="hs-identifier hs-var"
	    >dir</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151071"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679151071"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151072"
      ><span class="annot"
	><span class="annottext"
	  >UplcEvaluatorFun ExBudget
</span
	  ><a href="#local-6989586621679151072"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-122"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679151073"
      ><span class="annot"
	><span class="annottext"
	  >goldenFilePath :: String
</span
	  ><a href="#local-6989586621679151073"
	  ><span class="hs-identifier hs-var hs-var"
	    >goldenFilePath</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151070"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
</span
	><a href="https://hackage.haskell.org/package/filepath-1.4.300.1/docs/src/System.FilePath.Posix.html#%3C%2F%3E"
	><span class="hs-operator hs-var"
	  >&lt;/&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151071"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
</span
	><a href="https://hackage.haskell.org/package/filepath-1.4.300.1/docs/src/System.FilePath.Posix.html#%3C.%3E"
	><span class="hs-operator hs-var"
	  >&lt;.&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;uplc.budget.expected&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-123"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679151078"
      ><span class="annot"
	><span class="annottext"
	  >prettyEither :: Either a a -&gt; Doc ann
</span
	  ><a href="#local-6989586621679151078"
	  ><span class="hs-identifier hs-var hs-var"
	    >prettyEither</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151079"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679151079"
	  ><span class="hs-identifier hs-var"
	    >l</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; Doc ann
forall ann. a -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679151079"
	><span class="hs-identifier hs-var"
	  >l</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-124"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="#local-6989586621679151078"
	><span class="hs-identifier hs-var"
	  >prettyEither</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151080"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679151080"
	  ><span class="hs-identifier hs-var"
	    >r</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; Doc ann
forall ann. a -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679151080"
	><span class="hs-identifier hs-var"
	  >r</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-125"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679151088"
      ><span class="annot"
	><span class="annottext"
	  >test :: TestTree
</span
	  ><a href="#local-6989586621679151088"
	  ><span class="hs-identifier hs-var hs-var"
	    >test</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; IO (Doc Any) -&gt; TestTree
forall ann. String -&gt; String -&gt; IO (Doc ann) -&gt; TestTree
</span
	><a href="../../plutus-core/src/Test.Tasty.Extras.html#goldenVsDocM"
	><span class="hs-identifier hs-var"
	  >goldenVsDocM</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-126"
      ></span
      ><span
      >                    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151071"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot; (budget)&quot;</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-127"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151073"
	><span class="hs-identifier hs-var"
	  >goldenFilePath</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-128"
      ></span
      ><span
      >                    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Either Text ExBudget -&gt; Doc Any
forall {a} {a} {ann}. (Pretty a, Pretty a) =&gt; Either a a -&gt; Doc ann
</span
	><a href="#local-6989586621679151078"
	><span class="hs-identifier hs-var"
	  >prettyEither</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Either Text ExBudget -&gt; Doc Any)
-&gt; IO (Either Text ExBudget) -&gt; IO (Doc Any)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcEvaluatorFun ExBudget -&gt; String -&gt; IO (Either Text ExBudget)
forall res. UplcEvaluatorFun res -&gt; String -&gt; IO (Either Text res)
</span
	><a href="PlutusConformance.Common.html#getTestedValue"
	><span class="hs-identifier hs-var"
	  >getTestedValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcEvaluatorFun ExBudget
</span
	><a href="#local-6989586621679151072"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151070"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-129"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; TestTree -&gt; TestTree
</span
	><a href="#local-6989586621679151069"
	><span class="hs-identifier hs-var"
	  >possiblyFailingTest</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Bool
</span
	><a href="#local-6989586621679151011"
	><span class="hs-identifier hs-var"
	  >budgetFailureExpected</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151070"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="#local-6989586621679151088"
	><span class="hs-identifier hs-var"
	  >test</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-130"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679151069"
	><span class="hs-identifier hs-type"
	  >possiblyFailingTest</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-131"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679151069"
      ><span class="annot"
	><span class="annottext"
	  >possiblyFailingTest :: Bool -&gt; TestTree -&gt; TestTree
</span
	  ><a href="#local-6989586621679151069"
	  ><span class="hs-identifier hs-var hs-var"
	    >possiblyFailingTest</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151089"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679151089"
	  ><span class="hs-identifier hs-var"
	    >failureExpected</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151090"
      ><span class="annot"
	><span class="annottext"
	  >TestTree
</span
	  ><a href="#local-6989586621679151090"
	  ><span class="hs-identifier hs-var"
	    >test</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-132"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679151089"
	><span class="hs-identifier hs-var"
	  >failureExpected</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-133"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-expected-failure-0.12.3/docs/src/Test.Tasty.ExpectedFailure.html#expectFail"
	><span class="hs-identifier hs-var"
	  >expectFail</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="#local-6989586621679151090"
	><span class="hs-identifier hs-var"
	  >test</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-134"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="#local-6989586621679151090"
	><span class="hs-identifier hs-var"
	  >test</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-135"
      ></span
      ><span
      >
</span
      ><span id="line-136"
      ></span
      ><span class="hs-comment"
      >-- | Turn the expected file content in text to a `UplcProg` unless the expected result</span
      ><span
      >
</span
      ><span id="line-137"
      ></span
      ><span class="hs-comment"
      >-- is a parse or evaluation error.</span
      ><span
      >
</span
      ><span id="line-138"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#expectedToProg"
	><span class="hs-identifier hs-type"
	  >expectedToProg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Either"
	><span class="hs-identifier hs-type"
	  >Either</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcProg"
	><span class="hs-identifier hs-type"
	  >UplcProg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-139"
      ></span
      ><span id="expectedToProg"
      ><span class="annot"
	><span class="annottext"
	  >expectedToProg :: Text -&gt; Either Text UplcProg
</span
	  ><a href="PlutusConformance.Common.html#expectedToProg"
	  ><span class="hs-identifier hs-var hs-var"
	    >expectedToProg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151091"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679151091"
	  ><span class="hs-identifier hs-var"
	    >txt</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-140"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151091"
	><span class="hs-identifier hs-var"
	  >txt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="PlutusConformance.Common.html#shownEvaluationFailure"
	><span class="hs-identifier hs-var"
	  >shownEvaluationFailure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-141"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Either Text UplcProg
forall a b. a -&gt; Either a b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-var"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151091"
	><span class="hs-identifier hs-var"
	  >txt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-142"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151091"
	><span class="hs-identifier hs-var"
	  >txt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="PlutusConformance.Common.html#shownParseError"
	><span class="hs-identifier hs-var"
	  >shownParseError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-143"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Either Text UplcProg
forall a b. a -&gt; Either a b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-var"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151091"
	><span class="hs-identifier hs-var"
	  >txt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-144"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#otherwise"
	><span class="hs-identifier hs-var"
	  >otherwise</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-145"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
-&gt; Either
     ParserErrorBundle (Program Name DefaultUni DefaultFun SrcSpan)
</span
	><a href="PlutusConformance.Common.html#parseTxt"
	><span class="hs-identifier hs-var"
	  >parseTxt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151091"
	><span class="hs-identifier hs-var"
	  >txt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-146"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ParserErrorBundle
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Either Text UplcProg
forall a b. a -&gt; Either a b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-var"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151091"
	><span class="hs-identifier hs-var"
	  >txt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-147"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151092"
      ><span class="annot"
	><span class="annottext"
	  >Program Name DefaultUni DefaultFun SrcSpan
</span
	  ><a href="#local-6989586621679151092"
	  ><span class="hs-identifier hs-var"
	    >p</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg -&gt; Either Text UplcProg
forall a b. b -&gt; Either a b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-var"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UplcProg -&gt; Either Text UplcProg)
-&gt; UplcProg -&gt; Either Text UplcProg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Program Name DefaultUni DefaultFun SrcSpan -&gt; UplcProg
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Program Name DefaultUni DefaultFun SrcSpan
</span
	><a href="#local-6989586621679151092"
	><span class="hs-identifier hs-var"
	  >p</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-148"
      ></span
      ><span
      >
</span
      ><span id="line-149"
      ></span
      ><span class="hs-comment"
      >-- | Get the tested value. The tested value is either the shown parse or evaluation error,</span
      ><span
      >
</span
      ><span id="line-150"
      ></span
      ><span class="hs-comment"
      >-- or a `UplcProg`.</span
      ><span
      >
</span
      ><span id="line-151"
      ></span
      ><span id="local-6989586621679150737"
      ><span class="annot"
	><a href="PlutusConformance.Common.html#getTestedValue"
	  ><span class="hs-identifier hs-type"
	    >getTestedValue</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>::</span
	><span
	>
</span
	><span id="line-152"
	></span
	><span
	>    </span
	><span class="annot"
	><a href="PlutusConformance.Common.html#UplcEvaluatorFun"
	  ><span class="hs-identifier hs-type"
	    >UplcEvaluatorFun</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679150737"
	  ><span class="hs-identifier hs-type"
	    >res</span
	    ></a
	  ></span
	><span
	>
</span
	><span id="line-153"
	></span
	><span
	>    </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.IO.html#FilePath"
	  ><span class="hs-identifier hs-type"
	    >FilePath</span
	    ></a
	  ></span
	><span
	>
</span
	><span id="line-154"
	></span
	><span
	>    </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#IO"
	  ><span class="hs-identifier hs-type"
	    >IO</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Either"
	  ><span class="hs-identifier hs-type"
	    >Either</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	  ><span class="hs-identifier hs-type"
	    >T.Text</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679150737"
	  ><span class="hs-identifier hs-type"
	    >res</span
	    ></a
	  ></span
	><span class="hs-special"
	>)</span
	></span
      ><span
      >
</span
      ><span id="line-155"
      ></span
      ><span id="getTestedValue"
      ><span class="annot"
	><span class="annottext"
	  >getTestedValue :: forall res. UplcEvaluatorFun res -&gt; String -&gt; IO (Either Text res)
</span
	  ><a href="PlutusConformance.Common.html#getTestedValue"
	  ><span class="hs-identifier hs-var hs-var"
	    >getTestedValue</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151107"
      ><span class="annot"
	><span class="annottext"
	  >UplcEvaluatorFun res
</span
	  ><a href="#local-6989586621679151107"
	  ><span class="hs-identifier hs-var"
	    >eval</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151108"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679151108"
	  ><span class="hs-identifier hs-var"
	    >dir</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-156"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679151109"
      ><span class="annot"
	><span class="annottext"
	  >[String]
</span
	  ><a href="#local-6989586621679151109"
	  ><span class="hs-identifier hs-var"
	    >inputFile</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[String] -&gt; String -&gt; IO [String]
</span
	><a href="https://hackage.haskell.org/package/tasty-golden-2.3.5/docs/src/Test.Tasty.Golden.html#findByExtension"
	><span class="hs-identifier hs-var"
	  >findByExtension</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;.uplc&quot;</span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151108"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-157"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[String]
</span
	><a href="#local-6989586621679151109"
	><span class="hs-identifier hs-var"
	  >inputFile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-158"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; IO (Either Text res)
forall a. HasCallStack =&gt; String -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Err.html#error"
	><span class="hs-identifier hs-var"
	  >error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; IO (Either Text res)) -&gt; String -&gt; IO (Either Text res)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Input file missing in &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151108"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-159"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>[String]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; IO (Either Text res)
forall a. HasCallStack =&gt; String -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Err.html#error"
	><span class="hs-identifier hs-var"
	  >error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; IO (Either Text res)) -&gt; String -&gt; IO (Either Text res)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;More than 1 input files in &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151108"
	><span class="hs-identifier hs-var"
	  >dir</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-160"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >[</span
      ><span id="local-6989586621679151111"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679151111"
	  ><span class="hs-identifier hs-var"
	    >file</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-161"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679151112"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679151112"
	  ><span class="hs-identifier hs-var"
	    >input</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; IO Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.IO.html#readFile"
	><span class="hs-identifier hs-var"
	  >T.readFile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151111"
	><span class="hs-identifier hs-var"
	  >file</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-162"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
-&gt; Either
     ParserErrorBundle (Program Name DefaultUni DefaultFun SrcSpan)
</span
	><a href="PlutusConformance.Common.html#parseTxt"
	><span class="hs-identifier hs-var"
	  >parseTxt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151112"
	><span class="hs-identifier hs-var"
	  >input</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-163"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ParserErrorBundle
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Either Text res -&gt; IO (Either Text res)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Either Text res -&gt; IO (Either Text res))
-&gt; Either Text res -&gt; IO (Either Text res)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Either Text res
forall a b. a -&gt; Either a b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-var"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="PlutusConformance.Common.html#shownParseError"
	><span class="hs-identifier hs-var"
	  >shownParseError</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-164"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151113"
      ><span class="annot"
	><span class="annottext"
	  >Program Name DefaultUni DefaultFun SrcSpan
</span
	  ><a href="#local-6989586621679151113"
	  ><span class="hs-identifier hs-var"
	    >p</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-165"
      ></span
      ><span
      >                    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcEvaluatorFun res
</span
	><a href="#local-6989586621679151107"
	><span class="hs-identifier hs-var"
	  >eval</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Program Name DefaultUni DefaultFun SrcSpan -&gt; UplcProg
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Program Name DefaultUni DefaultFun SrcSpan
</span
	><a href="#local-6989586621679151113"
	><span class="hs-identifier hs-var"
	  >p</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-166"
      ></span
      ><span
      >                        </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe res
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Either Text res -&gt; IO (Either Text res)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Either Text res -&gt; IO (Either Text res))
-&gt; Either Text res -&gt; IO (Either Text res)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Either Text res
forall a b. a -&gt; Either a b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-var"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="PlutusConformance.Common.html#shownEvaluationFailure"
	><span class="hs-identifier hs-var"
	  >shownEvaluationFailure</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-167"
      ></span
      ><span
      >                        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151114"
      ><span class="annot"
	><span class="annottext"
	  >res
</span
	  ><a href="#local-6989586621679151114"
	  ><span class="hs-identifier hs-var"
	    >prog</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Either Text res -&gt; IO (Either Text res)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Either Text res -&gt; IO (Either Text res))
-&gt; Either Text res -&gt; IO (Either Text res)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>res -&gt; Either Text res
forall a b. b -&gt; Either a b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-var"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>res
</span
	><a href="#local-6989586621679151114"
	><span class="hs-identifier hs-var"
	  >prog</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-168"
      ></span
      ><span
      >
</span
      ><span id="line-169"
      ></span
      ><span class="hs-comment"
      >-- | The comparison function used for the golden test.</span
      ><span
      >
</span
      ><span id="line-170"
      ></span
      ><span class="hs-comment"
      >-- This function checks alpha-equivalence of programs when the output is a program.</span
      ><span
      >
</span
      ><span id="line-171"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#compareAlphaEq"
	><span class="hs-identifier hs-type"
	  >compareAlphaEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      >
</span
      ><span id="line-172"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Either"
	><span class="hs-identifier hs-type"
	  >Either</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcProg"
	><span class="hs-identifier hs-type"
	  >UplcProg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ golden value</span
	></span
      ><span
      >
</span
      ><span id="line-173"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Either"
	><span class="hs-identifier hs-type"
	  >Either</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcProg"
	><span class="hs-identifier hs-type"
	  >UplcProg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ tested value</span
	></span
      ><span
      >
</span
      ><span id="line-174"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#String"
	><span class="hs-identifier hs-type"
	  >String</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-175"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- ^ If two values are the same, it returns `Nothing`.</span
      ><span
      >
</span
      ><span id="line-176"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- If they are different, it returns an error that will be printed to the user.</span
      ><span
      >
</span
      ><span id="line-177"
      ></span
      ><span id="compareAlphaEq"
      ><span class="annot"
	><span class="annottext"
	  >compareAlphaEq :: Either Text UplcProg -&gt; Either Text UplcProg -&gt; Maybe String
</span
	  ><a href="PlutusConformance.Common.html#compareAlphaEq"
	  ><span class="hs-identifier hs-var hs-var"
	    >compareAlphaEq</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151115"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679151115"
	  ><span class="hs-identifier hs-var"
	    >expectedTxt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151116"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679151116"
	  ><span class="hs-identifier hs-var"
	    >actualTxt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-178"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151116"
	><span class="hs-identifier hs-var"
	  >actualTxt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151115"
	><span class="hs-identifier hs-var"
	  >expectedTxt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-179"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe String
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-180"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Maybe String) -&gt; String -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-181"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Test failed, the output failed to parse or evaluate: \n&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-182"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; String
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Show.html#unpack"
	><span class="hs-identifier hs-var"
	  >T.unpack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151116"
	><span class="hs-identifier hs-var"
	  >actualTxt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-183"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#compareAlphaEq"
	><span class="hs-identifier hs-var"
	  >compareAlphaEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151118"
      ><span class="annot"
	><span class="annottext"
	  >UplcProg
</span
	  ><a href="#local-6989586621679151118"
	  ><span class="hs-identifier hs-var"
	    >expected</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151119"
      ><span class="annot"
	><span class="annottext"
	  >UplcProg
</span
	  ><a href="#local-6989586621679151119"
	  ><span class="hs-identifier hs-var"
	    >actual</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-184"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg
</span
	><a href="#local-6989586621679151119"
	><span class="hs-identifier hs-var"
	  >actual</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg -&gt; UplcProg -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg
</span
	><a href="#local-6989586621679151118"
	><span class="hs-identifier hs-var"
	  >expected</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-185"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe String
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-186"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Maybe String) -&gt; String -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-187"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Test failed, the output was successfully parsed and evaluated, but it isn't as expected. &quot;</span
	></span
      ><span
      >
</span
      ><span id="line-188"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;The output program is: \n&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-189"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg -&gt; String
forall str a. (Pretty a, Render str) =&gt; a -&gt; str
</span
	><a href="../../prettyprinter-configurable/src/Text.PrettyBy.Default.html#display"
	><span class="hs-identifier hs-var"
	  >display</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg
</span
	><a href="#local-6989586621679151119"
	><span class="hs-identifier hs-var"
	  >actual</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-190"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;\n The output program, with the unique names shown is: \n&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-191"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- using `show` here so that the unique names will show</span
      ><span
      >
</span
      ><span id="line-192"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg
</span
	><a href="#local-6989586621679151119"
	><span class="hs-identifier hs-var"
	  >actual</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-193"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- the user can look at the .expected file, but they can't see the unique names</span
      ><span
      >
</span
      ><span id="line-194"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;\n But the expected result, with the unique names shown is: \n&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-195"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg
</span
	><a href="#local-6989586621679151118"
	><span class="hs-identifier hs-var"
	  >expected</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-196"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#compareAlphaEq"
	><span class="hs-identifier hs-var"
	  >compareAlphaEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151121"
      ><span class="annot"
	><span class="annottext"
	  >UplcProg
</span
	  ><a href="#local-6989586621679151121"
	  ><span class="hs-identifier hs-var"
	    >expected</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151122"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679151122"
	  ><span class="hs-identifier hs-var"
	    >actualTxt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-197"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Maybe String
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Maybe String) -&gt; String -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Test failed, the output failed to parse or evaluate: \n&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-198"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; String
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Show.html#unpack"
	><span class="hs-identifier hs-var"
	  >T.unpack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151122"
	><span class="hs-identifier hs-var"
	  >actualTxt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-199"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;\n But the expected result, with the unique names shown is: \n&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-200"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg
</span
	><a href="#local-6989586621679151121"
	><span class="hs-identifier hs-var"
	  >expected</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-201"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#compareAlphaEq"
	><span class="hs-identifier hs-var"
	  >compareAlphaEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151123"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679151123"
	  ><span class="hs-identifier hs-var"
	    >txt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151124"
      ><span class="annot"
	><span class="annottext"
	  >UplcProg
</span
	  ><a href="#local-6989586621679151124"
	  ><span class="hs-identifier hs-var"
	    >actual</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-202"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >{- this is to catch the case when the expected program failed to parse because
    our parser doesn't support `data` atm. In this case, if the textual program is the same
    as the actual, the test succeeds. -}</span
      ><span
      >
</span
      ><span id="line-205"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151123"
	><span class="hs-identifier hs-var"
	  >txt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg -&gt; Text
forall str a. (Pretty a, Render str) =&gt; a -&gt; str
</span
	><a href="../../prettyprinter-configurable/src/Text.PrettyBy.Default.html#display"
	><span class="hs-identifier hs-var"
	  >display</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg
</span
	><a href="#local-6989586621679151124"
	><span class="hs-identifier hs-var"
	  >actual</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe String
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-206"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Maybe String) -&gt; String -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-207"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Test failed, the output was successfully parsed and evaluated, but it isn't as expected. &quot;</span
	></span
      ><span
      >
</span
      ><span id="line-208"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;The output program is: &quot;</span
	></span
      ><span
      >
</span
      ><span id="line-209"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg -&gt; String
forall str a. (Pretty a, Render str) =&gt; a -&gt; str
</span
	><a href="../../prettyprinter-configurable/src/Text.PrettyBy.Default.html#display"
	><span class="hs-identifier hs-var"
	  >display</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg
</span
	><a href="#local-6989586621679151124"
	><span class="hs-identifier hs-var"
	  >actual</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-210"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;. But the expected result is: &quot;</span
	></span
      ><span
      >
</span
      ><span id="line-211"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; String
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Show.html#unpack"
	><span class="hs-identifier hs-var"
	  >T.unpack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151123"
	><span class="hs-identifier hs-var"
	  >txt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-212"
      ></span
      ><span
      >
</span
      ><span id="line-213"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Update the golden file with the tested value. TODO abstract out for other tests.</span
	></span
      ><span
      >
</span
      ><span id="line-214"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#updateGoldenFile"
	><span class="hs-identifier hs-type"
	  >updateGoldenFile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      >
</span
      ><span id="line-215"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.IO.html#FilePath"
	><span class="hs-identifier hs-type"
	  >FilePath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ the path to write the golden file to</span
	></span
      ><span
      >
</span
      ><span id="line-216"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Either"
	><span class="hs-identifier hs-type"
	  >Either</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcProg"
	><span class="hs-identifier hs-type"
	  >UplcProg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#IO"
	><span class="hs-identifier hs-type"
	  >IO</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-217"
      ></span
      ><span id="updateGoldenFile"
      ><span class="annot"
	><span class="annottext"
	  >updateGoldenFile :: String -&gt; Either Text UplcProg -&gt; IO ()
</span
	  ><a href="PlutusConformance.Common.html#updateGoldenFile"
	  ><span class="hs-identifier hs-var hs-var"
	    >updateGoldenFile</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151125"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679151125"
	  ><span class="hs-identifier hs-var"
	    >goldenPath</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151126"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679151126"
	  ><span class="hs-identifier hs-var"
	    >txt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text -&gt; IO ()
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.IO.html#writeFile"
	><span class="hs-identifier hs-var"
	  >T.writeFile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151125"
	><span class="hs-identifier hs-var"
	  >goldenPath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679151126"
	><span class="hs-identifier hs-var"
	  >txt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-218"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#updateGoldenFile"
	><span class="hs-identifier hs-var"
	  >updateGoldenFile</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151128"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679151128"
	  ><span class="hs-identifier hs-var"
	    >goldenPath</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679151129"
      ><span class="annot"
	><span class="annottext"
	  >UplcProg
</span
	  ><a href="#local-6989586621679151129"
	  ><span class="hs-identifier hs-var"
	    >p</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text -&gt; IO ()
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.IO.html#writeFile"
	><span class="hs-identifier hs-var"
	  >T.writeFile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679151128"
	><span class="hs-identifier hs-var"
	  >goldenPath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg -&gt; Text
forall str a. (Pretty a, Render str) =&gt; a -&gt; str
</span
	><a href="../../prettyprinter-configurable/src/Text.PrettyBy.Default.html#display"
	><span class="hs-identifier hs-var"
	  >display</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UplcProg
</span
	><a href="#local-6989586621679151129"
	><span class="hs-identifier hs-var"
	  >p</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-219"
      ></span
      ><span
      >
</span
      ><span id="line-220"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Run the UPLC evaluation tests given an `evaluator` that evaluates UPLC programs.</span
	></span
      ><span
      >
</span
      ><span id="line-221"
      ></span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#runUplcEvalTests"
	><span class="hs-identifier hs-type"
	  >runUplcEvalTests</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      >
</span
      ><span id="line-222"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusConformance.Common.html#UplcEvaluator"
	><span class="hs-identifier hs-type"
	  >UplcEvaluator</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ The action to run the input through for the tests.</span
	></span
      ><span
      >
</span
      ><span id="line-223"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.IO.html#FilePath"
	><span class="hs-identifier hs-type"
	  >FilePath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-224"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- ^ A function that takes a test name and returns</span
      ><span
      >
</span
      ><span id="line-225"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- whether it should labelled as `ExpectedFailure`.</span
      ><span
      >
</span
      ><span id="line-226"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.IO.html#FilePath"
	><span class="hs-identifier hs-type"
	  >FilePath</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-227"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- ^ A function that takes a test name and returns</span
      ><span
      >
</span
      ><span id="line-228"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- whether it should labelled as `ExpectedBudgetFailure`.</span
      ><span
      >
</span
      ><span id="line-229"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#IO"
	><span class="hs-identifier hs-type"
	  >IO</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-230"
      ></span
      ><span id="runUplcEvalTests"
      ><span class="annot"
	><span class="annottext"
	  >runUplcEvalTests :: UplcEvaluator -&gt; (String -&gt; Bool) -&gt; (String -&gt; Bool) -&gt; IO ()
</span
	  ><a href="PlutusConformance.Common.html#runUplcEvalTests"
	  ><span class="hs-identifier hs-var hs-var"
	    >runUplcEvalTests</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151131"
      ><span class="annot"
	><span class="annottext"
	  >UplcEvaluator
</span
	  ><a href="#local-6989586621679151131"
	  ><span class="hs-identifier hs-var"
	    >eval</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151132"
      ><span class="annot"
	><span class="annottext"
	  >String -&gt; Bool
</span
	  ><a href="#local-6989586621679151132"
	  ><span class="hs-identifier hs-var"
	    >expectedFailTests</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679151133"
      ><span class="annot"
	><span class="annottext"
	  >String -&gt; Bool
</span
	  ><a href="#local-6989586621679151133"
	  ><span class="hs-identifier hs-var"
	    >expectedBudgetFailTests</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-231"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679151136"
      ><span class="annot"
	><span class="annottext"
	  >params :: CostModelParams
</span
	  ><a href="#local-6989586621679151136"
	  ><span class="hs-identifier hs-var hs-var"
	    >params</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe CostModelParams -&gt; CostModelParams
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Maybe.html#fromJust"
	><span class="hs-identifier hs-var"
	  >fromJust</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe CostModelParams
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetingDefaults.html#defaultCostModelParamsForTesting"
	><span class="hs-identifier hs-var"
	  >defaultCostModelParamsForTesting</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-232"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679151137"
      ><span class="annot"
	><span class="annottext"
	  >TestTree
</span
	  ><a href="#local-6989586621679151137"
	  ><span class="hs-identifier hs-var"
	    >tests</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      >
</span
      ><span id="line-233"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>UplcEvaluator
-&gt; CostModelParams
-&gt; (String -&gt; Bool)
-&gt; (String -&gt; Bool)
-&gt; String
-&gt; IO TestTree
</span
	><a href="PlutusConformance.Common.html#discoverTests"
	><span class="hs-identifier hs-var"
	  >discoverTests</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-234"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>UplcEvaluator
</span
	><a href="#local-6989586621679151131"
	><span class="hs-identifier hs-var"
	  >eval</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-235"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>CostModelParams
</span
	><a href="#local-6989586621679151136"
	><span class="hs-identifier hs-var"
	  >params</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-236"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Bool
</span
	><a href="#local-6989586621679151132"
	><span class="hs-identifier hs-var"
	  >expectedFailTests</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-237"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Bool
</span
	><a href="#local-6989586621679151133"
	><span class="hs-identifier hs-var"
	  >expectedBudgetFailTests</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-238"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;test-cases/uplc/evaluation&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-239"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree -&gt; IO ()
</span
	><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.html#defaultMain"
	><span class="hs-identifier hs-var"
	  >defaultMain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TestTree -&gt; IO ()) -&gt; TestTree -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; [TestTree] -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-1.5.1/docs/src/Test.Tasty.Core.html#testGroup"
	><span class="hs-identifier hs-var"
	  >testGroup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;UPLC evaluation tests&quot;</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="#local-6989586621679151137"
	><span class="hs-identifier hs-var"
	  >tests</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-240"
      ></span
      ><span
      >
</span
      ><span id="line-241"
      ></span
      ></pre
    ></body
  ></html
>
